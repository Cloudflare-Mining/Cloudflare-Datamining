<div class="mb2 gray5">10 min read</div>
<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/http3-tube@2x-2.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Âgé de plus de trente ans, le protocole HTTP demeure la fondation du web et l'un des protocoles les plus populaires d'Internet ; non seulement pour naviguer, regarder des vidéos et écouter de la musique, mais également pour les applications, la communication entre machines –et même comme base pour le développement d'autres protocoles formant ce que certains appellent la « deuxième ceinture » sur le diagramme classique représentant Internet sous la forme d'un sablier.</p>
	<p>À quoi HTTP doit-il son succès ? L'une des réponses est qu'il représente un « point d'équilibre » pour la plupart des applications nécessitant un protocole d'application. Le document « <a href="https://httpwg.org/specs/rfc9205.html" target="_blank">Building Protocols with HTTP</a> » (publié en 2022 dans la série Best Current Practice RFC par <a href="https://httpwg.org" target="_blank">HTTP Working Group</a>) affirme que le succès du protocole HTTP peut être attribué à des facteurs tels que les suivants :</p>
	<p>- Sa connaissance par les ingénieurs d'application, les spécificateurs, les administrateurs, les développeurs et les utilisateurs ;<br>- La disponibilité de différentes mises en œuvre pour clients, serveurs et proxys ;<br>- Sa simplicité d'utilisation ;<br>- La disponibilité des navigateurs web ;<br>- La réutilisation de mécanismes existants, tels que l'authentification et le chiffrement ;<br>- La présence de serveurs et de clients HTTP dans les déploiements cibles ; et<br>- La capacité à franchir les pare-feu.</p>
	<p>Un autre facteur important est la communauté de personnes qui utilisent, mettent en œuvre et normalisent HTTP. Nous travaillons ensemble à la maintenance et au développement actifs du protocole, afin d'assurer son interopérabilité et de répondre aux besoins actuels. Si HTTP stagne, un autre protocole le remplacera (à juste titre), et nous perdrons tout l'investissement, la compréhension partagée et l'interopérabilité de la communauté.</p>
	<p>À cette fin, Cloudflare et de nombreux autres invitent leurs ingénieurs à <a href="https://blog.cloudflare.com/cloudflare-and-the-ietf">participer à l'initiative IETF</a>, où sont examinés et normalisés la plupart des protocoles Internet. Nous assistons et parrainons également des événements communautaires, tels que <a href="https://httpwork.shop" target="_blank">HTTP Workshop</a>, lors desquels nous discutons des problèmes que rencontrent les personnes, de leurs besoins et de la compréhension des changements qui pourraient les aider.</p>
	<p>Alors, quels ont été les fruits de tous ces réunions de groupes de travail, documents de spécification et événements parallèles en 2022 ? Que font les ingénieurs d'application et de déploiement du protocole du web ? Et quelles nouveautés nous attendent ensuite ?</p>
	<h3 id="une-nouvelle-sp-cification-http-3">Une nouvelle spécification : HTTP/3</h3>
	<p>Sur le plan des spécifications, la publication de HTTP/3 a été l'événement le plus marquant de 2022 : elle représente une avancée considérable pour répondre aux exigences des applications et des sites modernes, promouvant une utilisation plus efficace du réseau pour débloquer les performances du web.</p>
	<p>Il y a bien longtemps, dans les années 90, les protocoles HTTP/0.9 et HTTP/1.0. établissaient une nouvelle connexion TCP pour chaque requête, ce qui représentait une utilisation incroyablement inefficace du réseau. HTTP/1.1 a introduit les connexions persistantes (qui ont été rétroportées dans HTTP/1.0, avec l'en-tête « Connection: Keep-Alive »). Cette amélioration a aidé les serveurs et le réseau à faire face à l'explosion de la popularité du web ; même à l'époque, toutefois, la communauté savait qu'elle comportait des restrictions problématiques, notamment le blocage de tête de ligne (qui survient lorsqu'une requête en attente sur une connexion empêche le traitement des autres requêtes).</p>
	<p>Cela avait peu d'importance dans les années 90 et au début des années 2000, mais les pages et applications web actuelles imposent au réseau des exigences face auxquelles ces restrictions grèvent sévèrement les performances. Les pages comportent souvent des centaines de ressources qui se disputent toutes les ressources du réseau, et HTTP/1.1 n'était pas à la hauteur de la tâche. Après quelques <a href="https://www.w3.org/Protocols/HTTP-NG" target="_blank">faux départs</a>, la communauté a finalement <a href="https://blog.cloudflare.com/http-2-for-web-developers">remédié à ces problèmes avec HTTP/2, en 2015</a>.</p>
	<p>Cependant, la suppression du blocage de tête de ligne dans HTTP a révélé le même problème une couche plus bas, dans le protocole TCP. Le protocole TCP étant un protocole de livraison fiable et ordonné, la perte d'un seul paquet dans un flux peut bloquer l'accès aux paquets suivants, même s'ils se trouvent dans les tampons du système d'exploitation. Cela s'est avéré être un vrai problème lors du déploiement de HTTP/2, notamment sur les réseaux non optimaux.</p>
	<p>La réponse, bien sûr, consistait à remplacer TCP, le vénérable protocole de transport sur lequel est bâti une immense partie de l'Internet. Au terme de maintes discussions et de nombreux projets au sein de l'initiative <a href="https://quicwg.org" target="_blank">QUIC Working Group</a>, la <a href="https://blog.cloudflare.com/quic-version-1-is-live-on-cloudflare">version 1 de QUIC</a> a été publiée afin d'acter ce remplacement, en 2021.</p>
	<p>HTTP/3 est la version de HTTP qui utilise QUIC. Si le groupe de travail l'a effectivement finalisé en 2021, en même temps que QUIC, sa publication a été reportée à 2022, afin de correspondre à celle d'autres documents (voir ci-dessous). 2022 a également été une <a href="https://blog.cloudflare.com/cloudflare-view-http3-usage">année importante dans le déploiement de HTTP/3</a>, puisque Cloudflare a constaté <a href="https://radar.cloudflare.com/adoption-and-usage?range=28d" target="_blank">une adoption et une confiance croissantes</a> dans le nouveau protocole.</p>
	<p>Bien que quelques années seulement se soient écoulées entre HTTP/2 et HTTP/3, la communauté ne semble aujourd'hui guère encline à travailler sur HTTP/4. QUIC et HTTP/3 sont tous deux nouveaux, et le monde apprend encore comment mettre en œuvre ces protocoles, les exploiter et créer des sites et des applications qui les utilisent. Bien que nous ne puissions exclure l'éventualité d'une limitation qui nécessiterait une nouvelle version à l'avenir, l'IETF a élaboré ces protocoles sur la base d'une vaste expérience sectorielle des réseaux modernes, et ils offrent une capacité d'extension considérable, qui facilitera d'éventuelles modifications nécessaires.</p>
	<h3 id="nouvelles-sp-cifications-les-fondations-de-http">Nouvelles spécifications : les « fondations » de HTTP</h3>
	<p>L'autre événement marquant concernant les spécifications de HTTP en 2022 a été la publication des documents « Core », qui constituent la fondation de la spécification de HTTP. Ces documents incluent les publications suivantes : <a href="https://httpwg.org/specs/rfc9110.html" target="_blank">HTTP Semantics</a> – les aspects tels que les méthodes, les en-têtes, les codes d'état et le format des messages ; <a href="https://httpwg.org/specs/rfc9111.html" target="_blank">HTTP Caching</a> – le fonctionnement du cache HTTP ; <a href="https://httpwg.org/specs/rfc9112.html" target="_blank">HTTP/1.1</a> – la mise en œuvre concrète de la sémantique, dans le format que nous connaissons et aimons tous.</p>
	<p>Par ailleurs, <a href="https://httpwg.org/specs/rfc9113.html" target="_blank">les documents relatifs à HTTP/2 ont été republiés</a>, afin de s'intégrer correctement au contexte de la publication HTTP Semantics et de corriger quelques problèmes restés en suspens.</p>
	<p>Il s'agit de la dernière d'une longue série de révisions de ces documents. Dans le passé, nous avons eu la série RFC 723x, les publications RFC 2616 (peut-être la plus connue) et RFC 2068, ainsi que l'aïeule toutes ces publications, RFC 1945. Chaque révision a eu pour but d'améliorer la lisibilité, de corriger les erreurs, de mieux expliquer les concepts et de clarifier le fonctionnement du protocole. Les fonctionnalités incorrectement spécifiées (ou mises en œuvre) sont dépréciées, tandis que de nouvelles fonctionnalités permettant d'améliorer le fonctionnement du protocole sont ajoutées. Pour plus de détails, consultez l'annexe « Changes from... » de chaque document. Et surtout, reportez-vous toujours aux dernières révisions indiquées ci-dessus ; les publications RFC précédentes sont désormais obsolètes.</p>
	<h3 id="d-ployer-early-hints">Déployer Early Hints</h3>
	<p>HTTP/2 incluait <em>server push</em>, une fonctionnalité conçue pour permettre aux serveurs de « pousser » une paire requête/réponse vers un client lorsqu'ils savaient que celui-ci allait avoir besoin de données, afin d'éviter la pénalité de latence liée à l'envoi d'une requête et l'attente de la réponse.</p>
	<p>Après la finalisation de HTTP/2 en 2015, Cloudflare et de nombreuses autres mises en œuvre de HTTP ont rapidement <a href="https://blog.cloudflare.com/announcing-support-for-http-2-server-push-2">déployé server push</a>, en espérant constater d'importants gains de performance. Malheureusement, cela s'est avéré plus difficile qu'attendu : server push exige effectivement que le serveur prédise l'avenir – pas uniquement les requêtes qu'enverra le client, mais également les conditions du réseau. Et, lorsque le serveur se trompe (« over-pushing »), les requêtes « poussées » se trouvent directement en concurrence avec les requêtes légitimes provenant du navigateur. Cela représente un coût d'opportunité considérable et peut réellement grever les performances, au lieu de les améliorer. L'impact est aggravé lorsque le navigateur possède déjà une copie des données en cache et n'a donc pas du tout besoin des informations « poussées ».</p>
	<p>Par conséquent, <a href="https://developer.chrome.com/blog/removing-push" target="_blank">Chrome a supprimé HTTP/2 server push en 2022</a>. D'autres navigateurs et serveurs le prennent peut-être encore en charge, mais la communauté semble convenir qu'à l'heure actuelle, la fonction est uniquement adaptée à des utilisations spécialisées, telles que le <a href="https://www.rfc-editor.org/rfc/rfc8030.html" target="_blank">protocole Web Push</a>, spécifique aux notifications de navigateur.</p>
	<p>Cela ne signifie pas pour autant que nous renonçons. Le code d'état <a href="https://httpwg.org/specs/rfc8297.html" target="_blank">103 (Early Hints)</a> a été publié sous forme « d'Experimental RFC » par le groupe de travail HTTP en 2017. Il permet à un serveur d'envoyer des « <em>hints</em> » (indices) au navigateur dans une réponse non finale, avant la « vraie » réponse finale. C'est une fonctionnalité utile si vous savez que le contenu va inclure certains liens vers des ressources récupérées par le navigateur, mais vous avez besoin de plus de temps pour transmettre la réponse au client (parce que sa génération demande plus de temps ou parce que le serveur doit aller la récupérer ailleurs, comme dans le cas d'un réseau CDN).</p>
	<p>Early Hints peut être utilisé dans de nombreuses situations pour lesquelles server push a été conçu – par exemple, lorsqu'une page doit charger des fichiers CSS et du code JavaScript. En théorie, les codes Early Hints ne sont pas aussi optimaux que server push, parce qu'ils permettent uniquement l'envoi de « hints » lorsqu'une requête est en attente, et parce que la transmission de ces « hints » au client et leur prise en compte ajoutent une certaine latence.</p>
	<p>En pratique, toutefois, Cloudflare et nos partenaires (comme Shopify et Google) ont passé l'année 2022 à expérimenter avec Early Hints ; ils ont découvert que son utilisation étaient beaucoup plus sûre et qu'il offrait des <a href="https://blog.cloudflare.com/early-hints-performance">bienfaits prometteurs en termes de performances</a>, notamment une diminution significative d'un certain nombre d'indicateurs essentiels des performances web.</p>
	<p>Nous sommes enthousiastes au sujet du potentiel d'Early Hints ; tellement enthousiastes, d'ailleurs, que nous l'avons <a href="https://blog.cloudflare.com/early-hints-on-cloudflare-pages">intégré dans Cloudflare Pages</a>. Par ailleurs, nous évaluons actuellement de nouvelles utilisations de cette nouvelle fonctionnalité du protocole pour améliorer les performances.</p>
	<h3 id="interm-diation-orient-e-confidentialit-">Intermédiation orientée confidentialité</h3>
	<p>Pour beaucoup, les extensions les plus intéressantes du protocole HTTP en 2022 concernaient l'intermédiation, c'est-à-dire la capacité d'insérer des proxies, des passerelles et d'autres composants semblables dans le protocole dans le but d'atteindre des objectifs spécifiques, souvent avec pour but l'amélioration de la confidentialité.</p>
	<p><a href="https://ietf-wg-masque.github.io" target="_blank">MASQUE Working Group</a>, par exemple, est une initiative visant à ajouter de nouvelles fonctionnalités de tunnellisation à HTTP, de sorte qu'un intermédiaire puisse transmettre le trafic tunnellisé à un autre serveur.</p>
	<p>Si CONNECT permet depuis longtemps l'utilisation des tunnels TCP, MASQUE autorise l'utilisation de <a href="https://datatracker.ietf.org/doc/html/rfc9298" target="_blank">tunnels UDP</a>, permettant la tunnellisation plus efficace d'un plus grand nombre de protocoles, parmi lesquels QUIC et HTTP/3.</p>
	<p>Chez Cloudflare, nous sommes enthousiastes à l'idée de collaborer avec Apple autour de l'utilisation de MASQUE pour déployer <a href="https://blog.cloudflare.com/icloud-private-relay">iCloud Private Relay</a> et améliorer la confidentialité de ses clients, sans dépendre d'un prestataire unique. Nous nous intéressons également aux travaux futurs du groupe de travail, notamment la <a href="https://blog.cloudflare.com/unlocking-quic-proxying-potential">tunnellisation IP</a>, qui permettra le déploiement de VPN basés sur MASQUE.</p>
	<p>Une autre spécification priorisant l'intermédiation est <a href="https://www.ietf.org/archive/id/draft-ietf-ohai-ohttp-06.html" target="_blank">Oblivious HTTP</a> (ou OHTTP). OHTTP utilise des ensembles d'intermédiaires pour éviter qu'un serveur n'utilise des connexions ou des adresses IP pour suivre les clients ; il offre ainsi de meilleures garanties de confidentialité pour des aspects tels que la collecte de données de télémétrie ou d'autres données sensibles. Cette spécification arrive tout juste au terme du processus de normalisation, et nous l'utilisons afin de créer un nouveau produit important, <a href="https://blog.cloudflare.com/building-privacy-into-internet-standards-and-how-to-make-your-app-more-private-today">Privacy Gateway</a>, qui permet de protéger la confidentialité des clients de nos clients.</p>
	<p>Nous pensons, comme beaucoup d'autres membres de la communauté Internet, que ce n'est qu'un début, car l'intermédiation peut cloisonner les communications, qui constituent un <a href="https://intarchboard.github.io/draft-obliviousness/draft-kpw-iab-privacy-partitioning.html" target="_blank">outil précieux pour améliorer la protection de la vie privée</a>.</p>
	<h3 id="s-curit-des-protocoles">Sécurité des protocoles</h3>
	<p>Enfin, en 2022, de nombreux travaux ont été réalisés sur les aspects liés à la sécurité du protocole HTTP. La spécification <a href="https://httpwg.org/http-extensions/draft-ietf-httpbis-digest-headers.html" target="_blank">Digest Fields</a> est une mise à jour du champ d'en-tête (désormais ancien) « Digest », et permet l'ajout d'informations d'intégrité condensées (« digests ») aux messages. La spécification <a href="https://httpwg.org/http-extensions/draft-ietf-httpbis-message-signatures.html" target="_blank">HTTP Message Signatures</a> permet d'ajouter des signatures cryptographiques aux requêtes et aux réponses –une fonctionnalité qui a bénéficié d'un vaste déploiement ad hoc, mais n'a, jusqu'à présent, pas été normalisée. Ces deux spécifications ont atteint la phase finale du processus de normalisation.</p>
	<p>Des progrès considérables ont également été accomplis en 2022 sur une <a href="https://httpwg.org/http-extensions/draft-ietf-httpbis-rfc6265bis.html" target="_blank">révision de la spécification relative aux cookies</a>, qui devrait bientôt être finalisée. Puisqu'il est impossible de se débarrasser entièrement des cookies dans un avenir proche, de nombreux travaux ont été réalisés dans le but de restreindre leur fonctionnement, afin d'améliorer la confidentialité et la sécurité, notamment avec un nouvel attribut « SameSite ».</p>
	<p>Par ailleurs, Cloudflare <a href="https://blog.cloudflare.com/cloudflare-supports-privacy-pass"> investit depuis de nombreuses années</a> dans un autre ensemble de spécifications liées à la sécurité, appelé <a href="https://www.ietf.org/archive/id/draft-ietf-privacypass-architecture-09.html" target="_blank">Privacy Pass</a> (également connu sous le nom de « Private Access Tokens »). Il s'agit de jetons cryptographiques permettant d'assurer que les clients sont de véritables personnes, et non des bots, sans utiliser un CAPTCHA intrusif et sans surveiller l'activité en ligne de l'utilisateur. Dans le protocole HTTP, ils se présentent sous la forme d'un <a href="https://www.ietf.org/archive/id/draft-ietf-privacypass-auth-scheme-07.html" target="_blank">nouveau schéma d'authentification</a>.</p>
	<p>Bien que Privacy Pass n'ait pas encore tout à fait atteint le terme du processus de normalisation, en 2022, il a fait l'objet d'un <a href="https://blog.cloudflare.com/eliminating-captchas-on-iphones-and-macs-using-new-standard">déploiement à grande échelle par Apple</a>, ce qui constitue un énorme pas en avant. Et puisque <a href="https://blog.cloudflare.com/fr-fr/turnstile-private-captcha-alternative-fr-fr">Cloudflare l'utilise dans Turnstile</a>, son alternative aux CAPTCHA, vos utilisateurs peuvent dès aujourd'hui bénéficier d'une expérience meilleure.</p>
	<h3 id="et-en-2023">Et en 2023 ?</h3>
	<p>Alors, quelle sera la suite des événements ? Outre les spécifications ci-dessus, qui ne sont pas encore tout à fait finalisées, HTTP Working Group a quelques autres travaux en cours, parmi lesquels une <a href="https://httpwg.org/http-extensions/draft-ietf-httpbis-safe-method-w-body.html" target="_blank">méthode QUERY</a> (semblable à GET, mais avec une composante « body »), <a href="https://httpwg.org/http-extensions/draft-ietf-httpbis-resumable-upload.html" target="_blank">Resumable Uploads</a> (des transferts de fichiers avec reprise, basés sur le protocole <a href="https://tus.io" target="_blank">tus</a>), <a href="https://httpwg.org/http-extensions/draft-ietf-httpbis-variants.html" target="_blank">Variants</a> (un en-tête « Vary » amélioré pour la mise en cache), <a href="https://httpwg.org/http-extensions/draft-ietf-httpbis-sfbis.html" target="_blank">des améliorations à Structured Fields</a> (notamment un nouveau type Date), et une approche pour <a href="https://httpwg.org/http-extensions/draft-ietf-httpbis-retrofit.html" target="_blank">intégrer rétroactivement des en-têtes existants à Structured Fields</a>. Nous consacrerons d'autres articles à ces sujets au fur et à mesure de leur avancement en 2023.</p>
	<p>Lors de l'<a href="https://github.com/HTTPWorkshop/workshop2022/blob/main/report.md" target="_blank">édition 2022 de HTTP Workshop</a>, la communauté a également discuté des nouveaux travaux que nous pouvons entreprendre afin d'améliorer le protocole. Parmi les idées évoquées figuraient l'amélioration de notre infrastructure partagée de test de protocoles (à l'heure actuelle, nous disposons de <a href="https://github.com/httpwg/wiki/wiki/HTTP-Testing-Resources" target="_blank">quelques ressources</a>, mais elles pourraient être bien plus complètes), l'amélioration (ou le remplacement) d'<a href="https://httpwg.org/specs/rfc7838.html" target="_blank">Alternative Services</a>, afin de permettre une gestion plus intelligente et précise des connexions, ainsi que des changements plus radicaux, tels que <a href="https://mnot.github.io/I-D/draft-nottingham-binary-structured-headers.html" target="_blank">d'autres sérialisations binaires des en-têtes</a>.</p>
	<p>La discussion se poursuit également au sein de la communauté afin de déterminer si HTTP doit s'adapter à la fonction pub/sub, ou si le protocole doit être normalisé dans l'optique de la compatibilité avec WebSockets (et prochainement, WebTransport). Bien qu'il soit difficile de le dire maintenant, le récents travaux adjacents consacrés à <a href="https://datatracker.ietf.org/group/moq/about" target="_blank">Media over QUIC</a> <em>pourraient</em> offrir une opportunité d'avancées dans ce domaine.</p>
	<p>Bien entendu, ce n'est pas tout, et ce qu'il adviendra de HTTP en 2023 (et au-delà) reste à voir. Le protocole HTTP continue d'évoluer, même s'il reste compatible avec le plus vaste système hypertexte distribué jamais conçu, le World Wide Web.</p>
</div>