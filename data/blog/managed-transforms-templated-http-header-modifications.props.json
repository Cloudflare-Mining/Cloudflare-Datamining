{
	"initialReadingTime": "3",
	"locale": "en-us",
	"localesAvailable": [],
	"post": {
		"authors": [
			{
				"name": "Sam Marsh",
				"slug": "sam-marsh",
				"bio": "Group Product Manager at Cloudflare. Responsible for areas such as Rules, Cache, Protocols, Custom Error Pages and more.",
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/5kVXxWDGGrehLTLG30sCWm/4879c8721cc9b7d55560e7568a2b3c9d/sam-marsh.png",
				"location": "England, United Kingdom",
				"website": null,
				"twitter": "@marshnet_social",
				"facebook": null
			}
		],
		"excerpt": "Customize multiple HTTP headers with a single click using Cloudflare Managed Transforms",
		"feature_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/2P6EYwABYpxAOhr2FV6jxb/26ad9c5038206669778ab150d01e5657/managed-transforms-templated-http-header-modifications.png",
		"featured": false,
		"html": "\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/ndVg7s51Dv7zOnnNhAKd0/4655adea1779b6fd832cb69e860c6533/image5-19.png\" alt=\"Managed Transforms: templated HTTP header modifications\" class=\"kg-image\" width=\"1584\" height=\"716\" loading=\"lazy\"/>\n            \n            </figure><p><b>Managed Transforms</b> is the next step on a journey to make HTTP header modification a trivial task for our customers. In early 2021 the only way for Cloudflare customers to modify HTTP headers was by writing a <a href=\"https://workers.cloudflare.com/\">Cloudflare Worker</a>. We heard from numerous customers who wanted a simpler way.</p><p>In <a href=\"/transform-http-request-headers/\">June 2021</a> we introduced Transform Rules, giving customers a simple UI letting them specify what the custom HTTP header’s name and value is—either a static string (i.e. <code>X-My-CDN: Cloudflare</code>) or a dynamically populated value (i.e. <code>X-Bot-Score: cf.bot_management.score</code>).</p><p>This made the job much simpler, however there is still a good amount of thought required—with a number of potential drop-off points on the user journey. For example, in order to dynamically populate the bot score into the value of an HTTP request header, the user needs to know the correct <a href=\"https://developers.cloudflare.com/ruleset-engine/rules-language/fields\">field name</a>. To find that they&#39;ll need to go to the documentation site, find the correct section, etc.</p><p>When we analyzed how our customers use Transform Rules we found a set of very common use cases in the data. Four of the top eight fields used were relating to bot management; customers wanting to have the bot score, JA3 hash, etc. of each request added as an HTTP header. A further three of the top 10 fields were relating to the geographic location of the visitor (their city, country and ASN). We also saw over 400 Transform Rules being used just to remove <code>X-Powered-By</code>. That means potentially 400 users went to the same part of the dashboard, typed the same header name, read the same documentation and selected the same action.</p><p>Much as we set out to productize the common Cloudflare Worker use case of HTTP header modification into Transform Rules, we have now set out to productize and further simplify the common Transform Rules use cases into Managed Transforms.</p><p>The intention is to continue to identify common reasons for use of a Transform Rule and where possible package them up into a single click solution.</p><p>We always want to make our user’s lives as easy as possible, and finding a way to stop hundreds of people typing the same thing and clicking the same buttons, to achieve the exact same outcome, seems a great way to continue that mission.</p><h3>An even simpler solution</h3><p><b>Managed Transforms</b> is a dedicated section of Transform Rules offering one-click HTTP header modifications. Want to add relevant Cloudflare <a href=\"https://www.cloudflare.com/products/bot-management/\">Bot Management</a> information as custom HTTP headers? One click. Want to add geographic information (country, etc.) as custom HTTP headers? One click.</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/5G4giWNwJPxzcxp53QQzap/1e88c727110b5d677b2cfc5122ff5b35/image4-28.png\" alt=\"\" class=\"kg-image\" width=\"891\" height=\"677\" loading=\"lazy\"/>\n            \n            </figure><p>Managed Transforms can be found in &#39;Rules &gt; Transform Rules&#39; and clicking on the &#39;Managed Transforms&#39; button. To benefit from Managed Transforms, users simply toggle the appropriate settings, and we take care of the rest.</p><p>For example, to enrich every HTTP request with Cloudflare’s <a href=\"https://www.cloudflare.com/products/bot-management/\">Bot Management</a> information users would enable ‘Add bot protection headers’. This setting ensures we add <a href=\"https://developers.cloudflare.com/rules/transform/managed-transforms/reference/\">four new HTTP request headers</a> to <i>every</i> HTTP request. SIEM (Security Information and Event Management) products can then be configured to correctly collect and chart these new headers, allowing customers to see the bot score of every HTTP request, how many requests are coming from verified bots, and so on.</p><p>Another great use case is the ‘Add security headers’ toggle. On a completely standard, default zone, a user can improve their website&#39;s <a href=\"https://securityheaders.com/\">security score</a> from an F to a C in <b>just one click</b>. Enabling HSTS improves the score to a B (<i>scores correct as of June 7, 2022</i>).</p>\n            <figure class=\"kg-card kg-image-card kg-width-wide\">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/5HpdOezo4M1j4KVd0gZ8Co/02cb095ce8ff427230ed5cdfdc9cda92/image3-35.png\" alt=\"\" class=\"kg-image\" width=\"1999\" height=\"435\" loading=\"lazy\"/>\n            \n            </figure><p>Adding a Content-Security-Policy (used to <a href=\"https://www.cloudflare.com/learning/security/how-to-prevent-xss-attacks/\">mitigate Cross-Site Scripting (‘XSS’) attacks</a>) or a Permission-Policy (used to give websites the ability to allow or block the use of browser features) increases the score to an ‘A’; the addition of both improves the score to the maximum: A+.</p>\n            <figure class=\"kg-card kg-image-card kg-width-wide\">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/3M5FV3sWJnaHx2ScPkPLGW/097a9be1449c8842812ee20956bcbc3b/image1-58.png\" alt=\"\" class=\"kg-image\" width=\"1999\" height=\"431\" loading=\"lazy\"/>\n            \n            </figure><p>During the design of Managed Transforms we chose not to include default Content-Security-Policy and Permission-Policy HTTP response headers within the ‘Add security headers’ toggle as we found these particular headers to be very specific to each individual website. Any default policies we tried either caused incorrect loading of the website content, or were too open to be of any value. So we decided to remove them from scope.</p><p>However, users can still add these HTTP response headers and their appropriate values in a handful of clicks by creating a new Transform Rule:</p>\n            <figure class=\"kg-card kg-image-card kg-width-wide\">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/zORZ4ooIorzZopWSuOBWk/79aafa3cac1df3e29ee222067148526d/image2-50.png\" alt=\"\" class=\"kg-image\" width=\"1060\" height=\"157\" loading=\"lazy\"/>\n            \n            </figure><p>The HTTP response headers entered here will be added alongside the HTTP response headers added by Managed Transforms to give an A+ score.</p><h3>Try it now</h3><p>Managed Transforms can be used to improve operations, remove sensitive data, and increase security, amongst other common use cases.</p><p>Try out <a href=\"https://dash.cloudflare.com/?to=/:account/:zone/rules/transform-rules\">Managed Transforms</a> yourself today.</p><p>...<i>We protect </i><a href=\"https://www.cloudflare.com/network-services/\"><i>entire corporate networks</i></a><i>, help customers build </i><a href=\"https://workers.cloudflare.com/\"><i>Internet-scale applications efficiently</i></a><i>, accelerate any </i><a href=\"https://www.cloudflare.com/performance/accelerate-internet-applications/\"><i>website or Internet application</i></a><i>, ward off </i><a href=\"https://www.cloudflare.com/ddos/\"><i>DDoS attacks</i></a><i>, keep </i><a href=\"https://www.cloudflare.com/application-security/\"><i>hackers at bay</i></a><i>, and can help you on </i><a href=\"https://www.cloudflare.com/products/zero-trust/\"><i>your journey to Zero Trust</i></a><i>.</i></p><p><i>Visit </i><a href=\"https://1.1.1.1/\"><i>1.1.1.1</i></a><i> from any device to get started with our free app that makes your Internet faster and safer.To learn more about our mission to help build a better Internet, start </i><a href=\"https://www.cloudflare.com/learning/what-is-cloudflare/\"><i>here</i></a><i>. If you’re looking for a new career direction, check out </i><a href=\"http://cloudflare.com/careers\"><i>our open positions</i></a><i>.</i></p>",
		"id": "6YEMr7635QkaWejfbVFZsT",
		"localeList": {
			"name": "Managed Transforms: templated HTTP header modifications Config",
			"enUS": "English for Locale",
			"zhCN": "No Page for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "No Page for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "No Page for Locale",
			"koKR": "No Page for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": "Customize multiple HTTP headers with a single click using Cloudflare Managed Transforms.",
		"metadata": {
			"title": "Managed Transforms: templated HTTP header modifications",
			"description": "Customize multiple HTTP headers with a single click using Cloudflare Managed Transforms.",
			"imgPreview": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/6sMEmY3cpt5VKeds2I9P5T/81363c0e8cbadbfcda14ebf6f701ddfe/managed-transforms-templated-http-header-modifications-T0LSnY.png"
		},
		"primary_author": {},
		"published_at": "2022-06-30T13:55:19.000+01:00",
		"slug": "managed-transforms-templated-http-header-modifications",
		"tags": [
			{
				"id": "5pFvH0bxO9CCVrMvMFGvq2",
				"name": "Transform Rules",
				"slug": "transform-rules"
			}
		],
		"title": "Managed Transforms: templated HTTP header modifications",
		"updated_at": "2024-08-27T01:27:39.073Z",
		"url": "https://blog.cloudflare.com/managed-transforms-templated-http-header-modifications"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.blurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}