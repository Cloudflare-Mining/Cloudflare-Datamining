{
	"initialReadingTime": "2",
	"locale": "en-us",
	"localesAvailable": [
		"zh-cn",
		"zh-tw",
		"ja-jp",
		"ko-kr"
	],
	"post": {
		"authors": [
			{
				"name": "Ricky Robinett",
				"slug": "ricky",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/5d1AMI6khbMIgxXlI6DHs/78bd9ed7530e76b4c9f0cdf88d9ef6c3/ricky.jpeg",
				"location": null,
				"website": null,
				"twitter": "@rickyrobinett",
				"facebook": null
			},
			{
				"name": "Kristian Freeman",
				"slug": "kristian",
				"bio": "Manager, Developer Advocacy team at Cloudflare. We help developers build amazing apps on Cloudflare, with tools like Workers, Pages, and more!",
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/3VUYoHwDSenpoOr2qQ5rQe/f6c20c05395cf1e49aa28d708c396a4e/kristian.jpg",
				"location": "Austin, TX",
				"website": "https://www.signalnerve.com",
				"twitter": "@kristianf_",
				"facebook": null
			},
			{
				"name": "Jacob Lee (Guest Author)",
				"slug": "jacob-lee-guest-author",
				"bio": "Founding Software Engineer at LangChain",
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/Ee6EPPcZnLTtK2Z2lfOCm/7372e81b35abecd875b0d6d0f35bb20d/jacob-lee-guest-author.png",
				"location": null,
				"website": "https://www.langchain.com/",
				"twitter": null,
				"facebook": null
			}
		],
		"excerpt": "During Developer Week, we announced LangChain support for Cloudflare Workers. Since then, weâ€™ve been working with the LangChain team on deeper integration of many tools across Cloudflareâ€™s developer platform and are excited to share what weâ€™ve been up to",
		"feature_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/3FdsWC93DdHDIkxgMMupNg/ff03d79f36f6e3b5deb811b66f37eb12/langchain-support-for-workers-ai-vectorize-and-d1.png",
		"featured": false,
		"html": "<p></p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/7vfmv2IUCSWhFxb0iIhRwp/c6bc5f90eb736356df74ec0551c89e86/X2uuTU5jqOf4kskV9IUy6-EFJtW1QL7NCTeaIK1Ezs29fHv5rxii32xZ_eAu-9IHMQQhzevrxEeUR4Zq5_C0Y_HmIciI-GZaj-RbEnRI4vnshmYAV6jymeq1KXQr.png\" alt=\"LangChain Support for Workers AI, Vectorize and D1\" class=\"kg-image\" width=\"1600\" height=\"900\" loading=\"lazy\"/>\n            \n            </figure><p>During Developer Week, we announced <a href=\"/langchain-and-cloudflare/\">LangChain support for Cloudflare Workers</a>. Langchain is an open-source framework that allows developers to create powerful AI workflows by combining different models, providers, and plugins using a declarative API â€” and it dovetails perfectly with Workers for creating full stack, AI-powered applications.</p><p>Since then, weâ€™ve been working with the LangChain team on deeper integration of many tools across Cloudflareâ€™s developer platform and are excited to share what weâ€™ve been up to.</p><p>Today, weâ€™re announcing five new key integrations with LangChain:</p><ol><li><p><a href=\"https://js.langchain.com/docs/integrations/chat/cloudflare_workersai\">Workers AI Chat Models</a>: This allows you to use <a href=\"https://developers.cloudflare.com/workers-ai/models/text-generation/\">Workers AI text generation</a> to power your chat model within your LangChain.js application.</p></li><li><p><a href=\"https://js.langchain.com/docs/integrations/llms/cloudflare_workersai\">Workers AI Instruct Models</a>: This allows you to use Workers AI models fine-tuned for instruct use-cases, such as Mistral and CodeLlama, inside your Langchain.js application.</p></li><li><p><a href=\"https://js.langchain.com/docs/integrations/text_embedding/cloudflare_ai\">Text Embeddings Models</a>: If youâ€™re working with text embeddings, you can now use <a href=\"https://developers.cloudflare.com/workers-ai/models/text-embeddings/\">Workers AI text embeddings</a> with LangChain.js.</p></li><li><p><a href=\"https://js.langchain.com/docs/integrations/vectorstores/cloudflare_vectorize\">Vectorize Vector Store</a>: When working with a Vector database and LangChain.js, you now have the option of using <a href=\"https://developers.cloudflare.com/vectorize/\">Vectorize</a>, Cloudflareâ€™s powerful vector database.</p></li><li><p><a href=\"https://js.langchain.com/docs/integrations/chat_memory/cloudflare_d1\">Cloudflare D1-Backed Chat Memory</a>: For longer-term persistence across chat sessions, you can swap out LangChainâ€™s default in-memory chatHistory that backs chat memory classes like BufferMemory for a <a href=\"https://developers.cloudflare.com/d1/\">Cloudflare D1 instance</a>.</p></li></ol><p>With the addition of these five Cloudflare AI tools into LangChain, developers have powerful new primitives to integrate into new and existing AI applications. With LangChainâ€™s expressive tooling for mixing and matching AI tools and models, you can use Vectorize, Cloudflare AIâ€™s text embedding and generation models, and Cloudflare D1 to build a fully-featured AI application in just a few lines of code.</p><blockquote><p>This is a full persistent chat app powered by an LLM in 10 lines of codeâ€“deployed to <a href=\"https://twitter.com/Cloudflare?ref_src=twsrc%5Etfw\">@Cloudflare</a> Workers, powered by <a href=\"https://twitter.com/LangChainAI?ref_src=twsrc%5Etfw\">@LangChainAI</a> and <a href=\"https://twitter.com/Cloudflare?ref_src=twsrc%5Etfw\">@Cloudflare</a> D1.</p><p>You can even pass in a unique sessionId and have completely user/session-specific conversations ðŸ¤¯ <a href=\"https://t.co/le9vbMZ7Mc\">https://t.co/le9vbMZ7Mc</a> <a href=\"https://t.co/jngG3Z7NQ6\">pic.twitter.com/jngG3Z7NQ6</a></p><p>â€” Kristian Freeman (@kristianf_) <a href=\"https://twitter.com/kristianf_/status/1704592544099631243?ref_src=twsrc%5Etfw\">September 20, 2023</a></p></blockquote>\n          <div class=\"flex anchor relative\">\n            <h3 id=\"getting-started-with-a-cloudflare-langchain-nuxt-multi-source-chatbot-template\">Getting started with a Cloudflare + LangChain + Nuxt Multi-source Chatbot template</h3>\n            <a href=\"#getting-started-with-a-cloudflare-langchain-nuxt-multi-source-chatbot-template\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>You can get started by using LangChainâ€™s Cloudflare Chatbot template: <a href=\"https://github.com/langchain-ai/langchain-cloudflare-nuxt-template\">https://github.com/langchain-ai/langchain-cloudflare-nuxt-template</a></p><p>This application shows how various pieces of Cloudflare Workers AI fit together and expands on the concept of <a href=\"https://developers.cloudflare.com/workers-ai/tutorials/build-a-retrieval-augmented-generation-ai/\">retrieval augmented generation (RAG)</a> to build a conversational retrieval system that can route between multiple data sources, choosing the one more relevant based on the incoming question. This method helps cut down on distraction from off-topic documents getting pulled in by a vector storeâ€™s similarity search, which could occur if only a single database were used.</p><p>The base version runs entirely on the Cloudflare Workers AI stack with the Llama 2-7B model. It uses:</p><ul><li><p>A chat variant of Llama 2-7B run on Cloudflare Workers AI</p></li><li><p>A Cloudflare Workers AI embeddings model</p></li><li><p>Two different Cloudflare Vectorize DBs (though you could add more!)</p></li><li><p>Cloudflare Pages for hosting</p></li><li><p>LangChain.js for orchestration</p></li><li><p>Nuxt + Vue for the frontend</p></li></ul><p>The two default data sources are <a href=\"https://www.cloudflare.com/resources/assets/slt3lc6tev37/3HWObubm6fybC0FWUdFYAJ/5d5e3b0a4d9c5a7619984ed6076f01fe/Cloudflare_for_Campaigns_Security_Guide.pdf\">a PDF detailing some of Cloudflare&#39;s features</a> and <a href=\"https://lilianweng.github.io/posts/2023-06-23-agent/\">a blog post by Lilian Weng at OpenAI</a> that talks about autonomous agents.</p><p>The bot will classify incoming questions as being about Cloudflare, AI, or neither, and draw on the corresponding data source for more targeted results. Everything is fully customizable - you can change the content of the ingested data, the models used, and all prompts!</p><p>And if you have access to the <a href=\"https://smith.langchain.com/\">LangSmith</a> beta, the app also has tracing set up so that you can easily <a href=\"https://smith.langchain.com/public/24807f4a-4335-497e-bfbf-3a1de019b22e/r\">see and debug each step</a> in the application.</p>\n          <div class=\"flex anchor relative\">\n            <h3 id=\"we-cant-wait-to-see-what-you-build\">We canâ€™t wait to see what you build</h3>\n            <a href=\"#we-cant-wait-to-see-what-you-build\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>We can&#39;t wait to see what you all build with LangChain and Cloudflare. Come tell us about it in <a href=\"https://discord.cloudflare.com/\">discord</a> or on our <a href=\"https://community.cloudflare.com/\">community forums</a>.</p>",
		"id": "5JnxNQ7W8w3O5d2wAroT18",
		"localeList": {
			"name": "LangChain Support for Workers AI, Vectorize and D1 Config",
			"enUS": "English for Locale",
			"zhCN": "Translated for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "Translated for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "Translated for Locale",
			"koKR": "Translated for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": null,
		"metadata": {
			"title": "LangChain Support for Workers AI, Vectorize and D1",
			"description": null,
			"imgPreview": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/73hmqC2YzjZkT7LCnA6CP8/19b01a1ebc3efd0a4185240ece7b830b/langchain-support-for-workers-ai-vectorize-and-d1-q17Bc5.png"
		},
		"primary_author": {},
		"published_at": "2024-01-31T14:00:12.000+00:00",
		"slug": "langchain-support-for-workers-ai-vectorize-and-d1",
		"tags": [
			{
				"id": "28SrhkGfpC3MmJVtuGucz3",
				"name": "LangChain",
				"slug": "langchain"
			},
			{
				"id": "6hbkItfupogJP3aRDAq6v8",
				"name": "Cloudflare Workers",
				"slug": "workers"
			},
			{
				"id": "6Foe3R8of95cWVnQwe5Toi",
				"name": "AI",
				"slug": "ai"
			},
			{
				"id": "UKt2GEAUQsbObsNqZ3Pr7",
				"name": "D1",
				"slug": "d1"
			},
			{
				"id": "3JAY3z7p7An94s6ScuSQPf",
				"name": "Developer Platform",
				"slug": "developer-platform"
			},
			{
				"id": "4HIPcb68qM0e26fIxyfzwQ",
				"name": "Developers",
				"slug": "developers"
			}
		],
		"title": "LangChain Support for Workers AI, Vectorize and D1",
		"updated_at": "2024-08-27T01:01:22.604Z",
		"url": "https://blog.cloudflare.com/langchain-support-for-workers-ai-vectorize-and-d1"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.blurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"search.clear": "Clear",
		"search.filter": "Filter",
		"search.source": "Source",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"search.filters": "Filters",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"search.language": "Language",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"search.result_stat": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong> for <strong>{search_keyword}</strong>",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"search.source_location": "Source/Location",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}