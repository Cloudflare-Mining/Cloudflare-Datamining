<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image1-53.png" class="kg-image" alt="The unintended consequences of blocking IP addresses"></figure>
	<p>בסוף אוגוסט, צוות תמיכת הלקוחות של Cloudflare החל לקבל תלונות על כך שלא ניתן לגשת לאתרים של הרשת שלנו באוסטריה. הצוות שלנו נכנס מייד לפעולה כדי לנסות לזהות את המקור של מה שנראה מבחוץ כמו השבתה חלקית של האינטרנט באוסטריה. מהר מאוד הבנו שמדובר בבעיה עם ספקי אינטרנט אוסטריים מקומיים.</p>
	<p>אבל ההפרעה בשירות לא נבעה מבעיה טכנית. כפי שלמדנו מאוחר יותר <a href="https://www.derstandard.de/story/2000138619757/ueberzogene-netzsperre-sorgt-fuer-probleme-im-oesterreichischen-internet" target="_blank">מדיווחים בתקשורת</a>, מה שראינו היה תוצאה של הפעלת צו בית משפט. ללא כל הודעה מוקדמת ל-Cloudflare, בית משפט אוסטרי הורה לספקי אינטרנט אוסטריים לחסום 11 מכתובות ה-IP של Cloudflare.</p>
	<p>בניסיון לחסום 14 אתרי אינטרנט שבעלי זכויות יוצרים טענו כי הם מפרים זכויות יוצרים, חסימת ה-IP שעליה הורה בית המשפט הפכה אלפי אתרים לבלתי נגישים במשך יומיים עבור משתמשי אינטרנט מן השורה באוסטריה. במה שגו אלפי האתרים האחרים? הם לא שגו. הם היו קורבן זמני של הכישלון לייצר סעדים משפטיים ומערכות שישקפו את הארכיטקטורה של האינטרנט בפועל.</p>
	<p>היום נצלול לדיון בעניין חסימת כתובות IP: מדוע אנחנו רואים אותה, מהי, מה היא עושה, על מי היא משפיעה, ומדוע היא כל כך בעייתית בטיפול בתכנים באינטרנט.</p>
	<p><strong>השפעות עקיפות, גדולות וקטנות</strong></p>
	<p>הדבר ההזוי ביותר הוא שחסימות מהסוג הזה מבוצעות על בסיס קבוע, בכל רחבי העולם. אבל אלא אם החסימה מתרחשת בהיקף של אותה חסימה באוסטריה, או שמישהו מחליט להבליט אותה, היא בדרך כלל לא גלויה לעולם החיצוני. אפילו Cloudflare, חרף מומחיותה הטכנית העמוקה והעובדה שהיא מבינה היטב כיצד חסימות עובדות, לא יכולה לראות על בסיס שגרתי מתי כתובות IP נחסמת.</p>
	<p>מבחינת המשתמשים באינטרנט, מדובר בעניין אפילו יותר לא מובן. הם בדרך כלל לא יודעים מדוע אין להם יכולת להתחבר לאתר מסוים, מהיכן בעיית החיבור מגיעה, או כיצד לטפל בה. הם פשוט יודעים שאין ביכולתם לגשת לאתר שאליו הם מנסים להיכנס. והדבר עלול להקשות על תיעוד הזמן שבו אתרים הופכים לבלתי נגישים עקב חסימת כתובות IP.</p>
	<p>נוהגי החסימה נפוצים אף הם. במסגרת דוח ה-Freedom on the Net שלו, ארגון Freedom House <a href="https://freedomhouse.org/report/freedom-net/2022/key-internet-controls" target="_blank">דיווח</a> באחרונה כי 40 מתוך 70 המדינות שנבדקו על ידו – הנעות בין מדינות כמו רוסיה, איראן ומצרים לבין דמוקרטיות מערביות כמו בריטניה וגרמניה – ביצעו סוג כלשהו של חסימת אתרים. אף על פי שהדוח לא מתעמק באופן המדויק שבו המדינות האלה מבצעות את החסימות, רבות מהן משתמשות בצורות של חסימת IP, שהשפעתן הפוטנציאלית מתבטאת בהשבתת האינטרנט החלקית שראינו באוסטריה, בין השאר.</p>
	<p>למרות שהערכת היקף הנזק העקיף בשל חסימת IP יכולה להיות משימה מאתגרת, יש לנו דוגמאות למקרים שבהם ארגונים ניסו לכמת את הנזק הזה. יחד עם מקרה שנדון בבית המשפט האירופי לזכויות אדם, המכון האירופי למידע (European Information Society Institute), מלכ"ר שמקום מושבו בסלובקיה, סקר את הממשל הרוסי בנוגע לחסימת אתרים בשנת 2017. רוסיה השתמשה בכתובות IP כפתרון בלעדי לחסימת תכנים. המכון האירופי למידע הגיע למסקנה כי חסימת על בסיס כתובות IP הובילה ל"<em>חסימת אתרים משנית בקנה מידה גדול</em>" וציין כי נכון ל-28 ביוני 2017, "6,522,629 משאבים מקוונים נחסמו ברוסיה, ומתוכם 6,335,850 – או 97% – נחסמו באופן עקיף, כלומר, ללא הצדקה משפטית."</p>
	<p>בבריטניה, חסימת יתר הובילה את המלכ"ר Open Rights Group להקים את האתר <a href="https://www.blocked.org.uk/" target="_blank">Blocked.org.uk</a>. האתר מציע כלי שמאפשר למשתמשים ולבעלי אתרים לדווח על חסימת יתר ולבקש כי ספקי אינטרנט יבטלו חסימות. לארגון יש גם מאות סיפורים פרטניים בנוגע להשפעתה של החסימה על אנשים וגופים שאתרי האינטרנט שלהם נחסמו באופן בלתי הולם, מארגוני צדקה ועד בעלי עסקים קטנים. למרות שלא תמיד ברור אילו שיטות חסימה נמצאות בשימוש, העובדה שהאתר בכלל נחוץ מעידה על כמות חסימות היתר. תארו לעצמכם תופרת, שען או סוחר מכוניות שמעוניינים לפרסם את שירותיהם ואולי להשיג לקוחות חדשים באמצעות האתר שלהם. זה לא עובד אם למשתמשים מקומיים אין יכולת לגשת לאתר.</p>
	<p>אחת מהתגובות עשויה להיות, "ובכן, רק ודאו שאין אתרים מוגבלים שמשתפים כתובת מסוימת עם אתרים בלתי מוגבלים." אבל כפי שנדון כאן ביתר פירוט, המקרה הזה מתעלם מההבדל הגדול שקיים בין מספר שמות הדומיין האפשריים לבין מספר כתובות ה-IP הזמינות, ופועל בניגוד למפרטים המאוד טכניים שמעניקים לאינטרנט את כוחו. יתר על כן, ההגדרות "מוגבל" ו"בלתי מוגבל" משתנות בין מדינות, קהילות וארגונים. גם אם היה ניתן להכיר את כל ההגבלות, תכנוני הפרוטוקולים – של האינטרנט עצמו – פירושם שהמענה למגבלות של כל גוף הוא בגדר משימה בלתי מעשית, שלא לומר בלתי אפשרית.</p>
	<p><strong>חששות משפטיים וחששות בנוגע לזכויות אדם</strong></p>
	<p>חסימת יתר של אתרי אינטרנט אינה רק בעיה עבור משתמשים; יש לה השלכות משפטיות. בשל ההשפעה שיכולה להיות לדבר על אזרחים מן השורה שמעוניינים לממש את זכויותיהם באינטרנט, לגופים ממשלתיים (בתי משפט וגופים רגולטוריים כאחד) יש מחויבות משפטית לוודא כי הוראותיהם חיוניות ומידתיות וכי אין בהן כדי להשפיע שלא לצורך על מי שלא תורם לנזק.</p>
	<p>קשה לדמיין, למשל, מצב שבו בית משפט, בתגובה לעבירה לכאורה, יוציא בעיוורון צו חיפוש או צו שמבוסס אך ורק על כתובת רחוב מבלי להתעכב על השאלה אם אותה כתובת שייכת לבית משפחה בודד, לבניין דירות בן שש יחידות, או לגורד שחקים הכולל מאות יחידות נפרדות. אבל נראה שהנוהגים הללו בנוגע לכתובות IP נפוצים יתר על המידה.</p>
	<p>בשנת 2020, בית הדין האירופי לזכויות אדם (ECHR) – הגוף המשפטי שמפקח על יישום האמנה האירופית לזכויות אדם של המועצה האירופית – דן במקרה של אתר שנחסם ברוסיה חרף העובדה שלא אותו הממשלה הרוסית ניסתה לחסום אלא בשל העובדה שהוא חלק כתובת IP עם אתר חסום כלשהו. בעלי האתר הגיש תביעה נגד החסימה. ה-ECHR הגיע למסקנה כי החסימה חסרת ההבחנה אינה מותרת, וקבע כי חסימת התוכן החוקי של האתר "<em>שקולה להתערבות שרירותית בזכויותיהם של בעלי אתרים כאלה</em>." במילים אחרות, ה-ECHR פסק כי אין זה מן הראוי שממשלה תורה על פעולות שיובילו לחסימת אתרים שלא טורגטו לשם כך.</p>
	<p><strong>שימוש בתשתית אינטרנטית לטיפול באתגרים הקשורים לתוכן</strong></p>
	<p>משתמשי אינטרנט מן השורה לא חושבים הרבה על האופן שבו התוכן המקוון שאליו הם מנסים לגשת מועבר להם. הם מניחים שכאשר הם מקלידים שם דומיין בדפדפן שלהם, התוכן פשוט צץ באופן אוטומטי. ואם לא, הם נוטים להניח שהאתר עצמו נתקל בבעיות, אלא אם נראה כי אבד החיבור שלהם לאינטרנט בכללותו. אבל ההנחות הבסיסיות האלה מתעלמות מהעובדה שהגישה לאתר זה או אחר משמשת לעתים קרובות לצורך הגבלת גישה לתכנים באינטרנט.</p>
	<p>מדוע מדינות חוסמות את הגישה לאתרי אינטרנט? ייתכן כי הן רוצות להגביל את האזרחים שלהן מגישה למה שהן תופסות כתוכן בלתי חוקי – למשל הימורים מקוונים או חומר בוטה מבחינה מינית – שמאושר במקומות אחרים בעולם. ייתכן שהן רוצות למנוע צפייה במקור חדשות זר שמשדר חדשות ולדידן מפיץ בעיקר דיסאינפורמציה. ולחלופין, ייתכן שהן רוצות לתמוך במחזיקי זכויות יוצרים שמבקשים לחסום גישה לאתר מסוים על מנת להגביל את הצפייה בתכנים שלדעתם מפרים את הקניין הרוחני שלהם.</p>
	<p>נבהיר ונאמר ש<strong>חסימת גישה אינה זהה להסרת תוכן מהאינטרנט</strong>. יש מגוון של חובות ורשויות משפטיות שמטרתן לאפשר הסרה בפועל של תוכן בלתי חוקי. אכן, המוסכמה המשפטית במדינות רבות היא שאקט החסימה הוא עניין של מוצא אחרון, שמגיע לאחר שכבר נעשו ניסיונות להסרת מקור התוכן.</p>
	<p>חסימה פשוט מונעת מצופים מסוימים – אלה שגישתם לאינטרנט תלויה בספק האינטרנט שמבצע את החסימה – להיכנס לאתרים. האתר עצמו ממשיך להתקיים באינטרנט ונשאר נגיש לכל אחד אחר. אבל כאשר התוכן מגיע ממקום אחר ולא ניתן להסירו בקלות, מדינה עשויה להתייחס לחסימה בתור קו הפעולה הטוב ביותר או היחיד שעומד לרשותה.</p>
	<p>אנו מזהים את החששות שלפעמים מניעים מדינות לבצע חסימות. אבל ביסודו של דבר, אנו מאמינים שחשוב שהמשתמשים ידעו מתי נחסמו אתרי האינטרנט שאליהם הם מנסים לגשת, ובמידת האפשר, מי חסם את אפשרות הצפייה בהם ומדוע. וחשוב מאוד שכל הגבלות התוכן יצומצמו ככל האפשר לטיפול בנזק כדי למנוע מצבים שבהם זכויותיהם של אחרים יופרו.</p>
	<p>חסימה גסה של כתובת IP אינה מאפשרת את הדברים האלה. משתמשי אינטרנט עיוורים לחלוטין לדרך שבה היא פועלת. לדרך הפעולה הזאת יש השלכות בלתי מכוונות ובלתי נמנעות על תכנים אחרים. והבסיס לקיומו של האינטרנט משמעו שאין דרך טובה לזהות אילו אתרים אחרים עשויים להיות מושפעים לפני חסימת IP או במהלכה.</p>
	<p>כדי להבין מה קרה באוסטריה, ומה קורה במדינות רבות אחרות ברחבי העולם שמבקשות לחסום תכנים באמצעות הכלי הגס שנקרא כתובות IP, עלינו להבין קודם את ההתרחשות מאחורי הקלעים. משמעות הדבר היא להיכנס לעומקם של פרטים טכניים כאלה ואחרים.</p>
	<p><strong>הזהות מקושרת לשמות, לעולם לא לכתובות</strong></p>
	<p>לפני שבכלל מתחילים לתאר את העובדות הטכניות הנוגעות לחסימה, חשוב להדגיש כי האפשרות הראשונה והטובה ביותר להתמודד עם תוכן היא להשפיע על המקור שלו. לרשותם של בעלי אתר או ספק אחסון עומדת אפשרות הסרת פרטי תוכן ספציפיים, ללא צורך בהסרת האתר כולו. בצד הטכני יותר של הדברים, רשם או גוף רישום של שמות דומיין יכולים להסיר את שם הדומיין, ולפיכך גם אתר, מהאינטרנט באופן מוחלט.</p>
	<p>אבל איך חוסמים את הגישה לאתר אם בעלי התוכן או מקור התוכן לא מסוגל או אינו מוכן להסיר אותו מהרשת מסיבה כלשהי? קיימות רק שלוש נקודות שליטה אפשריות.</p>
	<p>הראשונה היא DNS (מערכת שמות דומיין), שמתרגמת את השמות לכתובות IP כך שניתן למצוא דרכם את האתר. במקום להחזיר כתובת IP חוקית עבור שם דומיין, מערכת ה-DNS יכולה לשקר ולהגיב באמצעות קוד, NXDOMAIN, שמשמעו "אין שם כזה." גישה טובה יותר היא שימוש באחד ממספרי ה"שגיאות בתום לב" <a href="https://datatracker.ietf.org/doc/rfc8914/" target="_blank">שתוקננו בשנת 2020, לרבות שגיאה מספר 15 לחסימות, 16 לצנזורה, 17 לסינון או 18 לאיסור, אם כי הללו לא נמצאות בשימוש נרחב כיום.</a></p>
	<p>מעניין לדעת שהדיוק והיעילות של ה-DNS כנקודת בקרה תלויים בהיותה פרטית או ציבורית. מערכות DNS פרטיות או 'פנימיות' מופעלות על ידי ספקי אינטרנט וסביבות ארגוניות עבור לקוחות מוכרים להם, כלומר, מפעילים יכולים לדייק ביישום הגבלות התוכן. לעומת זאת, רמת דיוק זו אינה זמינה למערכות DNS פתוחות או ציבוריות, בין היתר משום שניתוב ושיוך כתובות הם תהליכים גלובליים ומשתנים תדיר במפת האינטרנט, זאת בניגוד מוחלט לכתובות ולמסלולים שמופיעים על גבי מפת דואר או רחוב קבועה. לדוגמה, מערכות DNS פרטיות עשויות להיות מסוגלות לחסום גישה לאתרים בתוך אזורים גיאוגרפיים מסוימים לפחות ברמה כלשהי של דיוק ובאופן שמערכות DNS ציבוריות לא יכולות לבצע בעצמן; הדיוק הופך להיות חשוב מאוד בהתחשב בקווי מדיניות שונים (ולא עקביים) הנוגעים לחסימה ברחבי העולם.</p>
	<p>הגישה השנייה היא חסימת בקשות ספציפיות להתחברות לשמות דומיין מוגבלים. כאשר משתמש או לקוח מבקש לבקר באתר אינטרנט, הלקוח פותח חיבור <em>לשם</em> שרת, כלומר לשם הדומיין. אם רשת או התקן בנתיב מסוגלים לצפות בשם השרת, משמעות הדבר היא שניתן לנתק את החיבור. שלא כמו DNS, במקרה זה אין מנגנון שמאפשר להעביר למשתמש את המסר כי הגישה לשם השרת נחסמה או מדוע.</p>
	<p>הגישה השלישית היא חסימת גישה לכתובת IP מסוימת שבה ניתן למצוא את שם הדומיין. החסימה הזו דומה לחסימת משלוח כל דברי הדואר לכתובת פיזית. חשבו למשל על הכתובת הזו כעל גורד שחקים שבו מתגוררים דיירים רבים שאינם קשורים זה לזה. הפסקת משלוח הדואר לכתובתו של גורד השחקים גורמת לנזק משני בכך שהיא משפיעה תמיד על כל הנמצאים בכתובת זו. כתובות IP פועלות באותו אופן.</p>
	<p>ראוי לציין כי כתובת ה-IP היא היחידה מבין שלוש האפשרויות שאינה משויכת לשם הדומיין. שם הדומיין של האתר לא נדרש לצורך ניתוב ומסירה של מנות נתונים; למעשה, מתעלמים ממנו באופן מוחלט. אתר אינטרנט יכול להיות זמין בכל כתובת IP, או אפילו בכתובות IP רבות, בו זמנית. ומערכת כתובות ה-IP שבה נמצא אתר אינטרנט יכולה להשתנות בכל עת. לא ניתן לדעת <em>באופן מוחלט</em> מהי מערכת כתובות ה-IP באמצעות שאילתת DNS, שכן השאילתה מסוגלת להחזיר כל כתובת חוקית בכל עת ומכל סיבה שהיא מאז <a href="https://datatracker.ietf.org/doc/rfc1794/" target="_blank">1995</a>.</p>
	<p>הרעיון שלפיו כתובת מייצגת זהות מנוגד לרעיון העומד בבסיס תכנון האינטרנט. הסיבה לכך היא שניתוק הכתובת מהשם מוטמע עמוק בסטנדרטים ובפרוטוקולים של האינטרנט, כפי שיוסבר בהמשך.</p>
	<p><strong>האינטרנט הוא סדרה של פרוטוקולים, לא מדיניות או נקודת מבט</strong></p>
	<p>אנשים רבים עדיין מניחים באופן שגוי שכתובת IP מייצגת אתר אינטרנט יחיד. בעבר <a href="https://blog.cloudflare.com/addressing-agility/">ציינו</a> כי הקשר בין שמות דומיינים לכתובות מובן בהתחשב בעובדה שהרכיבים המחוברים המוקדמים ביותר של האינטרנט הופיעו כמחשב אחד, כממשק אחד, ככתובת אחת וכשם אחד. שיוך אחד לאחד זה היה פועל יוצא של המערכת האקולוגית שבה נפרס פרוטוקול האינטרנט, וענתה על הצרכים באותה תקופה.</p>
	<p>למרות שיטת השִׁיּוּם אחד לאחד שהייתה נהוגה בראשית דרכו של האינטרנט, תמיד ניתן היה להקצות יותר משם אחד לשרת (או "גוף מאחסן"). לדוגמה, שרת הוגדר (ועודנו מוגדר) לעתים קרובות עם שמות המשקפים את השירותים שהוא מציע, למשל 'mail.example.com' ו-'www.example.com', אם כי אלה חלקו ביניהם שם דומיין בסיסי אחד. עד הופעת הצורך בריכוז אתרים שונים לחלוטין על שרת יחיד, היו רק סיבות בודדות להחזקת שמות דומיין שונים לחלוטין. נוהג זה הפך פשוט יותר בשנת 1997 הודות להדר ה-Host (גוף מאחסן) ב-<a href="https://datatracker.ietf.org/doc/rfc2068/" target="_blank">HTTP/1.1</a>, מאפיין שנשמר באמצעות שדה ה-SNI <a href="https://datatracker.ietf.org/doc/rfc3546/" target="_blank">בתוסף TLS</a> ב-2003.</p>
	<p>לאורך שינויים אלה, פרוטוקול האינטרנט ובנפרד, פרוטוקול ה-DNS, לא רק צלחו את התהליך אלא גם נותרו ללא שינוי מהותי. זוהי הסיבה לכך שהאינטרנט הצליח להתרחב ולהתפתח, כי הם עוסקים בכתובות, בנגישות וביחס השרירותי שבין שם דומיין לכתובת IP.</p>
	<p>תכנוני ה-IP וה-DNS עצמאיים לחלוטין אף הם, מה שרק מחזק את ההפרדה בין שמות לכתובות. בדיקה מעמיקה יותר של המרכיבים התכנוניים של הפרוטוקולים שופכת אור על תפיסות מוטעות לגבי המדיניות שהובילה בשעתה לנוהג הנפוץ כיום של שליטה בגישה לתכנים על ידי חסימת כתובות IP.</p>
	<p><strong>על פי תכנונה, כתובת ה-IP נועדה ליצירת נגישות ותו לא</strong></p>
	<p>בדומה לפרויקטים ציבוריים גדולים מתחום ההנדסה האזרחית, האינטרנט נבנה באמצעות מערכת של סטנדרטים ומפרטים <em>פתוחים</em> המתבססים על ניסיון והם בגדר קונצנזוס בינלאומי. תקני האינטרנט המחברים בין חומרה ליישומים מפורסמים על ידי כוח המשימה להנדסת אינטרנט (<a href="https://www.ietf.org/" target="_blank">IETF</a>) בצורה של "בקשות לתגובה" או <a href="https://www.ietf.org/standards/rfcs/" target="_blank">RFC</a> – שם זה לא נועד לרמז על חוסר שלמות אלא לשקף כי סטנדרטים חייבים להיות מסוגלים להתפתח יחד עם הידע והניסיון. ה-IETF כמו וה-RFC שהגיש מהווים חלק מהותי ממרקם התקשורת עצמו. דוגמה טובה לכך היא פרסומה של ה-RFC הראשונה (RFC 1) בשנת 1969. מפרט ה-IP (פרוטוקול האינטרנט) הגיע ל<a href="https://datatracker.ietf.org/doc/rfc791/" target="_blank">סטטוס RFC</a> &nbsp;בשנת 1981.</p>
	<p>לצד ארגוני הסטנדרטים, הצלחת האינטרנט נשענה על רעיון ליבה הידוע כעיקרון ה-e2e (מקצה לקצה), <a href="https://web.mit.edu/Saltzer/www/publications/endtoend/endtoend.pdf" target="_blank">שקודד</a> אף הוא ב-1981, בהתבסס על <a href="https://en.wikipedia.org/wiki/End-to-end_principle" target="_blank">ניסיון</a> רב שנים של ניסוי וטעייה. עיקרון ה-e2e הוא הפשטה רבת עוצמה, שחרף העובדה ששינתה צורות רבות, מביאה לידי ביטוי מושג ליבה של מפרט ה-IP: האחריות היחידה של הרשת היא לבסס נגישות, וכל מאפיין אפשרי אחר כרוך בעלות או בסיכון.</p>
	<p>רעיון ה"נגישות" בפרוטוקול האינטרנט מעוגן גם בתכנון של כתובות ה-IP עצמן. כאשר בוחנים את המפרט, <a href="https://www.rfc-editor.org/rfc/rfc791" target="_blank">RFC 791</a>, המקטע הבא מסעיף 2.3 אומר במפורש כי כתובות IP אינן מקושרות לשמות, לממשקים או לכל דבר אחר.</p><!--kg-card-begin: markdown-->
	<pre><code>קביעת כתובות

    קיימת הבחנה בין שמות, כתובות ומסלולים [4].
שם מציין את מה שאנחנו מחפשים. כתובת מציינת היכן הדבר נמצא.	מסלול מציין כיצד ניתן להגיע לאותה כתובת.	פרוטוקול האינטרנט עוסק בעיקר בכתובות.	על פרוטוקולים ברמה גבוהה יותר (כלומר, פרוטוקולי host-to-host או יישום) מוטלת המשימה לביצוע המיפוי משמות לכתובות.
מודול האינטרנט ממפה כתובות אינטרנט לכתובות רשת מקומיות.	על פרוטוקולים ברמה נמוכה יותר (כלומר, רשת מקומית או שערים) מוטלת המשימה לביצוע המיפוי מכתובות רשת מקומיות למסלולים.
                            [ RFC 791, 1981 ]
</code></pre>
	<!--kg-card-end: markdown-->
	<p>בדיוק כמו כתובות דואר עבור גורדי שחקים בעולם הפיזי, כתובות IP הן לא יותר מאשר כתובות רחוב שנכתבו על פיסת נייר. ובדיוק כמו במקרה של כתובת רחוב המופיעה על גבי פיסת נייר, אי אפשר להיות בטוחים אף פעם לגבי הישויות או הארגונים שעומדים מאחורי כתובת IP. ברשת כמו זו של Cloudflare, כל כתובת IP מייצגת <a href="https://blog.cloudflare.com/cloudflare-architecture-and-how-bpf-eats-the-world/">אלפי שרתים</a>, ויכולה להכיל בתוכה אפילו יותר אתרי אינטרנט ושירותים – שבמקרים מסוימים מספרם מגיע <a href="https://blog.cloudflare.com/addressing-agility/">למיליונים</a> – פשוט כיוון שפרוטוקול האינטרנט נועד לאפשר זאת.</p>
	<p>לפניכם שאלה מעניינת: האם אנחנו, או כל ספק שירותי תוכן, יכולים להבטיח שכל כתובת IP תואמת לשם אחד ויחיד? התשובה היא, חד משמעית, <strong>לא</strong>, וגם כאן הסיבה היא תכנון פרוטוקול – במקרה זה, DNS.</p>
	<p><strong>מספר השמות ב-DNS תמיד חורג מהכתובות הזמינות</strong></p>
	<p>מערכת יחסים של אחד לאחד בין שמות וכתובות אינה אפשרית עקב מפרטי האינטרנט, מאותן סיבות שהדבר אינו ישים בעולם הפיזי. בואו נתעלם לרגע מהעובדה שאנשים וארגונים יכולים לשנות כתובות. ביסודו של דבר, מספר האנשים והארגונים על פני כדור הארץ עולה על מספר כתובות הדואר. אנחנו לא רק רוצים שהאינטרנט יאכלס יותר שמות מאשר כתובות – אנו <em>זקוקים</em> לכך.</p>
	<p>ההבדל בין שיעור השמות לשיעור הכתובות מקודד אף הוא במפרטים. כתובות IPv4 מבוססות על 32 סיביות, ואילו כתובות IPv6 מבוססות על 128 סיביות. גודלו של שם דומיין שניתן לתחקר את ה-DNS לגביו הוא עד 253 שמיניות, או 2,024 סיביות (מתוך מקטע 2.3.4 ב-<a href="https://datatracker.ietf.org/doc/rfc1035/" target="_blank">RFC 1035</a>, פורסם ב-1987). הטבלה שלהלן מסייעת להתייחס להבדלים האלה בהקשר הנכון:</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/Screenshot-2022-12-16-at-13.02.04.png" class="kg-image"></figure>
	<p>ב-15 בנובמבר 2022, האו"ם הודיע כי אוכלוסיית כדור הארץ עלתה על שמונה מיליארד בני אדם. באופן אינטואיטיבי, אנו יודעים שלא יכולות להיות כל כך הרבה כתובות. ההבדל בין מספר השמות האפשריים הקיימים בעולם, ובאופן דומה באינטרנט, עולה וחייב לעלות על מספר הכתובות הזמינות.</p><!--kg-card-begin: markdown-->
	<h2 id="">אין חכם כבעל ניסיון!</h2>
	<!--kg-card-end: markdown-->
	<p>כעת, כששני העקרונות הרלוונטיים לגבי כתובות IP ושמות DNS בסטנדרטים הבינלאומיים ברורים – העובדה שכתובת IP ושמות דומיין משרתים מטרות שונות ושאין קשר של אחד לאחד בין השניים – בחינה של מקרה מהזמן האחרון שבו התבצעה חסימת תוכן באמצעות כתובות IP תוכל לעזור לנו לראות את הסיבות לכך שחסימה כזו היא פעולה בעייתית. קחו לדוגמה את מקרה חסימת ה-IP באוסטריה מסוף אוגוסט 2022. המטרה הייתה להגביל את הגישה ל-14 דומיינים על ידי חסימת 11 כתובות IP (מקור: RTR.Telekom. באמצעות <a href="https://web.archive.org/web/20220828220559/http://netzsperre.liwest.at/" target="_blank">ארכיון האינטרנט</a>) – חוסר ההתאמה בין שני מספרים אלה צריך היה לשמש כתמרור אזהרה לכך שחסימת IP עלולה שלא לגרום לאפקט הרצוי.</p>
	<p>אנלוגיות וסטנדרטים בינלאומיים עשויים להסביר את הסיבות לכך שיש להימנע מחסימת IP, אך ניתן לראות את קנה המידה של הבעיה על ידי התבוננות בנתונים בקנה המידה של האינטרנט. כדי להבין טוב יותר ולהסביר את חומרת חסימת ה-IP, החלטנו ליצור תצוגה גלובלית של שמות דומיין וכתובות IP (התודות על המאמץ מגיעות לשותף מחקר הדוקטורט, Sudheesh Singanamalla). בספטמבר 2022 עשינו שימוש בקובצי האזור המוסמכים עבור הדומיינים ברמה העליונה (TLDs), com ,.net ,.info., ו-org., לצד רשימות מיליון האתרים המובילים, במטרה למצוא מספר כולל של 255,315,270 שמות ייחודיים. לאחר מכן שאלנו DNS מכל אחד מחמשת האזורים ורשמנו את מערכת כתובות ה-IP שהוחזרו. הטבלה שבהמשך מסכמת את הממצאים שלנו:</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image3-23.png" class="kg-image"></figure>
	<p>הטבלה לעיל מבהירה כי לא יותר מ-10.7 מיליון כתובות מקושרות ל-255,315,270 מיליון שמות מכל אזור על פני כדור הארץ, והסך הכולל של כתובות IP עבור שמות אלה מכל מקום הוא כ-16 מיליון – היחס בין שמות לכתובות IP הוא כמעט פי 24 באירופה ופי 16 בעולם.</p>
	<p>יש עוד פרט חשוב על המספרים שלמעלה: כתובות ה- IP הן הסכומים המשולבים של כתובות IPv4 ו- IPv6, כלומר, יש צורך בהרבה פחות כתובות כדי להגיע לכל 225 מיליון אתרי האינטרנט.</p>
	<p>בחנו את הנתונים בכמה דרכים שונות כדי למצוא כמה תובנות מעניינות. לדוגמה, האיור שלהלן מציג את ה-CDF (פונקציית ההתפלגות המצטברת) של שיעור אתרי האינטרנט שניתן לבקר בהם תוך שימוש בכל כתובת IP נוספת. על ציר ה-y נראה שיעור האתרים שניתן להגיע אליהם בהינתן מספר מסוים של כתובות IP. על ציר ה-x נראות 16 מיליון כתובות ה-IP שסודרו החל מאלה שמכילות את הדומיינים הרבים ביותר (בצד שמאל) וכלה באלה שמכילות את הדומיינים המועטים ביותר (בצד ימין). לתשומת ליבכם, כל כתובת IP בקבוצה זו היא תגובה שסופקה על ידי DNS, כלומר, חייב להיות לה לפחות שם דומיין אחד, אם כי היקפי הדומיינים הגבוהים ביותר לכתובת IP אחת הוגבלו ל-8 ספרות (מיליונים).</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/12/image2-37.png" class="kg-image"></figure>
	<p>צפייה ב-CDF מביאה לכמה הבחנות מסעירות:</p>
	<ul>
		<li>יש צורך בפחות מ-10 כתובות IP כדי להגיע ל-20% (כ-51 מיליון) מהדומיינים המופיעים בסיס הנתונים;</li>
		<li>100 כתובות IP מספיקות להגעה ל-50% מהדומיינים בקירוב;</li>
		<li>1,000 כתובות IP מספיקות להגעה ל-60% מהדומיינים;</li>
		<li>10,000 כתובות IP מספיקות להגעה ל-80% (כ-204 מיליון) דומיינים.</li>
	</ul>
	<p>למעשה, מתוך מספר כולל של 16 מיליון כתובות, פחות ממחצית הכתובות שבבסיס הנתונים, כלומר 7.1 מיליון (43.7%), הכילו שם אחד. בעניין ה'אחד' הזה, אנחנו חייבים להבהיר שאיננו יכולים לקבוע אם הכתובות האלה הכילו רק שם אחד ולא יותר כיוון שקיימים הרבה יותר שמות דומיין מאלה שנכללים רק ב-com ,.org ,.info. ו-net. – וייתכן מאוד שהכתובות מכילות שמות נוספים.</p>
	<p>מעבר להכללת מספר דומיינים בכתובת IP אחת, כל כתובת IP עשויה להשתנות עם הזמן עבור כל אחד מהדומיינים הללו. שינוי כתובות IP מעת לעת יכול להיות צעד מועיל בנוגע למאפייני אבטחה וביצועים מסוימים, ויש בו כדי לשפר את רמת האמינות של אתרי אינטרנט. דוגמה נפוצה לשימוש רווח היא איזון עומס. משמעות הדבר היא ששאילתות DNS עשויות להחזיר כתובות IP שונות לאורך זמן, או במקומות שונים, עבור אותם אתרי אינטרנט. זוהי סיבה נוספת ונפרדת לכך שחסימה המבוססת על כתובות IP לא תשרת את מטרתה לאורך זמן.</p>
	<p>בסופו של דבר, <strong>אין דרך אמינה לדעת מהו מספר הדומיינים הכלולים בכתובת IP</strong> מבלי לבדוק את כל השמות ב-DNS מכל מיקום על פני כדור הארץ, בכל רגע בזמן – רעיון לגמרי בלתי ישים.</p>
	<p>לכן, כל פעולה שקשורה לכתובת IP חייבת, על פי הגדרות הפרוטוקולים השולטים באינטרנט, להשפיע בצורה עקיפה.</p>
	<p><strong>העדר שקיפות בעניין חסימת IP</strong></p>
	<p>אם כן, אם צפוי שלחסימת כתובת IP יהיו השלכות עקיפות, ומאחר שקיימת הסכמה כללית על כך שאין זה הולם או אפילו חוקי לבצע חסימות יתר על ידי חסימת כתובות IP המקושרות לדומיינים מרובים, מדוע הדבר עדיין קורה? קשה לדעת זאת בוודאות ומה שנותר הוא רק לשער. לפעמים הדבר משקף חוסר הבנה טכנית בנוגע להשפעות האפשריות, במיוחד מצד שופטים שאינם מומחים לטכנולוגיה. לפעמים ממשלות פשוט מתעלמות מהנזק המשני – כפי שהן עושות בעניין השבתת האינטרנט – כיוון שהן רואות את החסימה כאינטרס שלהן. וכאשר מתרחש נזק עקיף, הוא בדרך כלל לא ברור לעולם שמבחוץ. לכן, מופעל רק לחץ חיצוני מועט לטובת הטיפול בנושא.</p>
	<p>שווה להדגיש את הנקודה הזאת. כאשר כתובת IP נחסמת, המשתמש רואה חיבור שנכשל. הוא לא יודע מדוע החיבור נכשל או מי גרם לו להיכשל. בצד השני, השרת הפועל מטעם האתר אפילו לא יודע כי האחרון נחסם עד שהוא מתחיל לקבל תלונות על כך שהוא לא זמין. אין כמעט שקיפות או לקיחת אחריות בנוגע לתופעת חסימות היתר. וההתמודדות עם חסימת אתר על ידי בעליו או בקשת סעד בגין חסימה לא הולמת שלו, עלולות להיות משימות מאתגרות אם לא בלתי אפשריות.</p>
	<p>ממשלות מסוימות, כולל זו של <a href="https://www.rtr.at/TKP/was_wir_tun/telekommunikation/weitere-regulierungsthemen/netzneutralitaet/nn_blockings.de.html" target="_blank">אוסטריה</a>, מפרסמות רשימות של חסימות פעילות, צעד חשוב למען שקיפות. אבל מכל הסיבות שדנו בהן, פרסום כתובת IP לא מביא לחשיפה של כל האתרים שייתכן כי נחסמו בטעות. אסור גם לשכוח שהפרסום לא מספק לנפגעים אמצעים לערעור על חסימת היתר. שוב, כמו בעולם הפיזי, קשה לדמיין צו בית משפט המוטל על גורד שחקים שלא היה מתפרסם על דלת הבניין, אבל ככל שמדובר בעולם הווירטואלי, נראה כי לעתים קרובות אנו מדלגים על הליך הוגן זה של הודעה מוקדמת.</p>
	<p>אנו סבורים כי השיח אודות ההשלכות הבעייתיות של חסימת כתובות IP חשוב יותר מאי פעם, במיוחד לאור העובדה שמספר הולך וגדל של מדינות דוחפות לחסימת תכנים באינטרנט. למרבה הצער, ספקי אינטרנט משתמשים לעתים קרובות בחסימות IP כדי ליישם את הדרישות הללו. ייתכן שספק האינטרנט חדש יותר או חסין פחות מעמיתים גדולים יותר, אבל ספקי אינטרנט גדולים עושים גם הם שימוש בנוהג הזה. ניתן להבין אותם משום שחסימת IP דורשת את המאמץ הקטן ביותר וזמינה במרבית סוגי הציוד.</p>
	<p>וככל שיותר ויותר דומיינים נכללים באותו מספר של כתובות IP, הבעיה רק הולכת ומחמירה.</p>
	<p><strong>הצעדים הבאים</strong></p>
	<p>אז מה אנחנו יכולים לעשות?</p>
	<p>אנו מאמינים שהצעד הראשון הוא שיפור השקיפות בשימוש בחסימת IP. למרות שאיננו מודעים לקיומן של דרכים מקיפות לתיעוד הנזק העקיף שנגרם בשל חסימת IP, אנו מאמינים כי ישנם צעדים שביכולתנו לנקוט על מנת להרחיב את המודעות לנוהג הזה. אנו מחויבים לעבוד על יוזמות חדשות שידגישו את התובנות האלה, כפי שעשינו במקרה של Cloudflare Radar Outage Center.</p>
	<p>כמו כן, אנו מכירים בכך שמדובר בבעיה של אינטרנט בכללותו, ושמסיבה זו עלינו להיות חלק ממאמץ נרחב יותר. הסבירות המשמעותית לכך שחסימה באמצעות כתובת IP תגרום להגבלת גישה לסדרה שלמה של דומיינים לא קשורים (ולא מטורגטים) אמורה לפסול אותה כאפשרות בת-קיימא עבור כולם. מסיבה זו, אנו מתקשרים עם שותפים מהחברה אזרחית ועם חברות בעלות אופי דומה כדי שיצטרפו למאבק בשימוש בחסימת כתובות IP כדרך להתמודדות עם אתגרי תוכן, ויצביעו על נזק עקיף כאשר הם מבחינים בו.</p>
	<p>לצורך הבהרה, כדי להתמודד עם האתגרים שמציבים תכנים בלתי חוקיים באינטרנט, מדינות זקוקות למנגנונים משפטיים שיאפשרו להן להסיר תוכן או להגבילו באופן שמכבד זכויות קיימות. אנו מאמינים כי טיפול במקור התוכן הוא כמעט תמיד הפתרון הטוב ביותר והצעד הראשון שיש לנקוט. חוקים כמו חוק השירותים הדיגיטליים החדש של האיחוד האירופי או חוק זכויות היוצרים של המילניום הדיגיטלי (DMCA) שמקורו בארה"ב מספקים כלים שיכולים לשמש לטיפול במקורותיהם תכנים, תוך כיבוד עקרונות חשובים של תהליך הוגן. ממשלות צריכות להתמקד בבנייה ובהטמעה של מנגנונים משפטיים בדרכים שיביאו להשפעה המצומצמת ביותר על זכויותיהם של אנשים ויהיו עקביות בכל הנודע לציפיות הקשורות לזכויות אדם.</p>
	<p>פשוט מאוד, לא ניתן לענות על צרכים אלה באמצעות חסימת כתובות IP.<br>אנו נמשיך לחפש דרכים חדשות לדבר על פעילות ושיבוש ברשת, במיוחד במצבים שבהם הדבר גורם להגבלת גישה שלא לצורך. עיינו ב-<a href="https://radar.cloudflare.com/" target="_blank">Cloudflare Radar</a> לקבלת תובנות נוספות על מה שאנחנו רואים באינטרנט.</p>
</div>