{
	"footerBlurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
	"initialReadingTime": "1",
	"locale": "en-us",
	"localesAvailable": [],
	"post": {
		"authors": [
			{
				"name": "John Graham-Cumming",
				"slug": "john-graham-cumming",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5vGNsXzZrtSLn2X30pnpUY/6f350e7dd36058a6422f9199b452bb02/john-graham-cumming.jpg",
				"location": "Lisbon, Portugal",
				"website": null,
				"twitter": null,
				"facebook": null,
				"publiclyIndex": true
			}
		],
		"excerpt": "In December, we released HTTP/2 support for all customers and on April 28 we released HTTP/2 Server Push support as well.",
		"feature_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6KPu4idOpHzSk35PBrF8vd/caa4db6b208fa0b44d64eee1a54896f7/open-sourcing-our-nginx-http-2-spdy-code.jpg",
		"featured": false,
		"html": "<p>In December, we <a href=\"/introducing-http2/\">released HTTP/2 support</a> for all customers and on April 28 we released <a href=\"/announcing-support-for-http-2-server-push-2/\">HTTP/2 Server Push</a> support as well.</p><p>The release of HTTP/2 by CloudFlare had a <a href=\"/cloudflares-impact-on-the-http-2-universe/\">huge impact</a> on the number of sites supporting and using the protocol. Today, <a href=\"http://isthewebhttp2yet.com/measurements/adoption.html#organization\">50%</a> of sites that use HTTP/2 are served via CloudFlare.</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/ivzR7ozInwwFcSoZD7fLj/5e431ce2e34bd056b09dd4f9a52661b9/4950445842_daabb0ae20_z.jpg\" alt=\"\" class=\"kg-image\" width=\"640\" height=\"426\" loading=\"lazy\"/>\n            \n            </figure><p><a href=\"https://creativecommons.org/licenses/by/2.0/\">CC BY 2.0</a> <a href=\"https://www.flickr.com/photos/jdhancock/4950445842/in/photolist-8xsk5w-cp4c1Q-g1SjoM-o6zhX1-eZbScr-pWSwPv-rafHbb-qEjnf2-dJ9WCw-eZbRVa-gJeKqf-ef7sWH-augo8B-5BNSQM-8eyuUM-5iBMWY-6tQ5es-74BxiW-bnh8zK-Attqbq-eZbTGp-eZbTy4-7TRcLo-8FuDVS-8xWVkW-rcVTV9-8j5QDB-eZoiTE-eZbQUz-oQHS69-eZohaG-o2rMkj-eZbSiz-eZo5ww-eZofqb-eZbQMD-eZbUc6-eZo5Tf-eZbTaV-eZoeAW-ifNAyH-eZohG3-eZbJoT-qhNbsA-eZoaKJ-eZbQm6-eZbTXn-eZbYdF-6JAeef-eZbXpT\">image</a> by <a href=\"https://www.flickr.com/photos/jdhancock/\">JD Hancock</a></p><p>When we released HTTP/2 support we decided not to deprecate SPDY immediately because it was still in widespread use and we <a href=\"/introducing-http2/#comment-2391853103\">promised</a> to open source our modifications to NGINX as it was not possible to support both SPDY and HTTP/2 together with the standard release of NGINX.</p><p>We&#39;ve extracted our changes and they are available as a <a href=\"https://github.com/cloudflare/sslconfig/tree/master/patches\">patch here</a>. This patch should build cleanly against NGINX 1.9.7.</p><p>The patch means that NGINX can be built with both <code>--with-http_v2_module</code> and <code>--with-http_spdy_module</code>. And it will accept both the <code>spdy</code> and <code>http2</code> keywords to the <code>listen</code> directive.</p><p>To configure both HTTP/2 and SPDY in NGINX you&#39;ll need to run:</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">./configure --with-http_spdy_module --with-http_v2_module --with-http_ssl_module</pre></code>\n            <p>Note that you need SSL support for both SPDY and HTTP/2.</p><p>Then it will be possible to configure an NGINX server to support both HTTP/2 and SPDY on the same port as follows:</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">server {\n        listen       443 ssl spdy http2;\n        server_name  www.example.com;\n\n        ssl_certificate      cert.pem;\n        ssl_certificate_key  cert.key;\n\n        location / {\n            root   html;\n            index  index.html index.htm;\n        }\n}</pre></code>\n            <p>Our patch uses <a href=\"https://en.wikipedia.org/wiki/Application-Layer_Protocol_Negotiation\">ALPN</a> and NPN to advertise the availability of the two protocols. To test that the two protocols are being advertised you can use the OpenSSL client as follows (sending an empty ALPN/NPN extension in the ClientHello causes the server to return a list of available protocols).</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">openssl s_client -connect www.example.com:443 -nextprotoneg &#039;&#039;\nCONNECTED(00000003)\nProtocols advertised by server: h2, spdy/3.1, http/1.1</pre></code>\n            <p>Many other tools for testing and debugging HTTP/2 connections can be found <a href=\"/tools-for-debugging-testing-and-using-http-2/\">here</a>.</p><p>The patch puts HTTP/2 before SPDY/3.1 and will prefer HTTP/2 over SPDY/3.1. If a web browser offers both, HTTP/2 will be preferred and used for the connection.</p><p>We continue to support SPDY and HTTP/2 across all CloudFlare sites and will keep an eye on the percentage of connections that use SPDY before making a decision on its eventual deprecation.</p>",
		"id": "7gEBf46aPQJcumKOasnoXP",
		"localeList": {
			"name": "Open sourcing our NGINX HTTP/2 + SPDY code Config",
			"enUS": "English for Locale",
			"zhCN": "No Page for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "No Page for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "No Page for Locale",
			"koKR": "No Page for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": null,
		"metadata": {
			"imgPreview": ""
		},
		"primary_author": {},
		"publicly_index": true,
		"published_at": "2016-05-13T10:55:41.000+01:00",
		"slug": "open-sourcing-our-nginx-http-2-spdy-code",
		"tags": [
			{
				"id": "1HElwgNEl197gbuevMX3lr",
				"name": "spdy",
				"slug": "spdy"
			},
			{
				"id": "3FBpuRfF7HUFga2Z5jgAFf",
				"name": "NGINX",
				"slug": "nginx"
			},
			{
				"id": "3lxBe7kJ3IDjqgqMaBU1QJ",
				"name": "HTTP2",
				"slug": "http2"
			},
			{
				"id": "48r7QV00gLMWOIcM1CSDRy",
				"name": "Speed & Reliability",
				"slug": "speed-and-reliability"
			},
			{
				"id": "6QVJOBzgKXUO9xAPEpqxvK",
				"name": "Reliability",
				"slug": "reliability"
			}
		],
		"title": "Open sourcing our NGINX HTTP/2 + SPDY code",
		"updated_at": "2024-10-10T00:34:33.577Z",
		"url": "https://blog.cloudflare.com/open-sourcing-our-nginx-http-2-spdy-code"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"search.clear": "Clear",
		"search.filter": "Filter",
		"search.source": "Source",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"search.filters": "Filters",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"search.language": "Language",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"search.result_stat": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong> for <strong>{search_keyword}</strong>",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"search.icon_aria_label": "Search",
		"search.source_location": "Source/Location",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"search.result_stat_empty": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong>",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"search.autocomplete_title": "Insert a query. Press enter to send",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}