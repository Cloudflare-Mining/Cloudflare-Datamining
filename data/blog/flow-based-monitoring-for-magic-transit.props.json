{
	"locale": "en-us",
	"post": {
		"id": "603975eb91fb1c01ba60f6cd",
		"uuid": "7ad4a069-4983-4762-9ed1-4cf15f79cbb7",
		"title": "Flow-based monitoring for Magic Transit",
		"slug": "flow-based-monitoring-for-magic-transit",
		"html": "<figure class=\"kg-card kg-image-card\"><img src=\"http://blog.cloudflare.com/content/images/2021/02/1-2.png\" class=\"kg-image\" alt loading=\"lazy\"></figure><p>Network-layer DDoS attacks are <a href=\"http://blog.cloudflare.com/network-layer-ddos-attack-trends-for-q4-2020/\">on the rise</a>, prompting security teams to rethink their L3 DDoS mitigation strategies to prevent business impact. <a href=\"https://www.cloudflare.com/magic-transit\">Magic Transit</a> protects customers’ entire networks from DDoS attacks by placing our network in front of theirs, either always on or on demand. Today, we’re announcing new functionality to improve the experience for on-demand Magic Transit customers: flow-based monitoring. Flow-based monitoring allows us to detect threats and notify customers when they’re <a href=\"https://www.cloudflare.com/ddos/under-attack/\">under attack</a> so they can activate Magic Transit for protection.</p><p>Magic Transit is Cloudflare’s solution to secure and accelerate your network at the IP layer. With Magic Transit, you get <a href=\"https://www.cloudflare.com/ddos/\">DDoS protection</a>, traffic acceleration, and other network functions delivered as a service from every Cloudflare data center. With Cloudflare’s global network (59 Tbps capacity across 200+ cities) and &lt;3sec time to mitigate at the edge, you’re covered from even the largest and most sophisticated attacks without compromising performance. Learn more about Magic Transit <a href=\"http://blog.cloudflare.com/magic-transit/\">here</a>.</p><h3 id=\"using-magic-transit-on-demand\">Using Magic Transit on demand</h3><p>With Magic Transit, Cloudflare <a href=\"http://blog.cloudflare.com/bringing-your-own-ips-to-cloudflare-byoip/\">advertises customers’ IP prefixes</a> to the Internet with BGP in order to attract traffic to our network for DDoS protection. Customers can choose to use Magic Transit always on or on demand. With always on, we advertise their IPs and mitigate attacks all the time; for on demand, customers activate advertisement only when their networks are under active attack. But there’s a problem with on demand: if your traffic isn’t routed through Cloudflare’s network, by the time you notice you’re being targeted by an attack and activate Magic Transit to mitigate it, the attack may have already caused impact to your business.</p><figure class=\"kg-card kg-image-card\"><img src=\"http://blog.cloudflare.com/content/images/2021/02/2-1.png\" class=\"kg-image\" alt loading=\"lazy\"></figure><h3 id=\"on-demand-with-flow-based-monitoring\">On demand with flow-based monitoring</h3><p>Flow-based monitoring solves the problem with on-demand by enabling Cloudflare to detect and notify you about attacks based on traffic flows from your data centers. You can configure your routers to continuously send NetFlow or sFlow (coming soon) to Cloudflare. We’ll ingest your flow data and analyze it for volumetric DDoS attacks.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"http://blog.cloudflare.com/content/images/2021/02/3-1.png\" class=\"kg-image\" alt loading=\"lazy\"><figcaption>Send flow data from your network to Cloudflare for analysis</figcaption></figure><p>When an attack is detected, we’ll notify you automatically (by email, webhook, and/or PagerDuty) with information about the attack.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"http://blog.cloudflare.com/content/images/2021/02/4.png\" class=\"kg-image\" alt loading=\"lazy\"><figcaption>Cloudflare detects attacks based on your flow data</figcaption></figure><p>You can choose whether you’d like to activate IP advertisement with Magic Transit manually - we support activation via the Cloudflare dashboard or API - or automatically, to minimize the time to mitigation. Once Magic Transit is activated and your traffic is flowing through Cloudflare, you’ll receive only the clean traffic back to your network over your GRE tunnels.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"http://blog.cloudflare.com/content/images/2021/02/5-1.png\" class=\"kg-image\" alt loading=\"lazy\"><figcaption>Activate Magic Transit for DDoS protection</figcaption></figure><p>Using flow-based monitoring with Magic Transit on demand will provide your team peace of mind. Rather than acting in response to an attack after it impacts your business, you can complete a simple one-time setup and rest assured that Cloudflare will notify you (and/or start protecting your network automatically) when you’re under attack. And once Magic Transit is activated, Cloudflare’s global network and industry-leading DDoS mitigation has you covered: your users can continue business as usual with <a href=\"https://assets.ctfassets.net/slt3lc6tev37/5TjO2f5Y0mBd1DZLA7yRdf/68c34acc375b1443f91518ffde9421d2/Magic_Transit_protects_networks_while_also_improving_performance.pdf\">no impact to performance</a>.</p><h3 id=\"example-flow-based-monitoring-workflow-faster-time-to-mitigate-for-acme-corp\">Example flow-based monitoring workflow: faster time to mitigate for Acme Corp</h3><p>Let’s walk through an example customer deployment and workflow with Magic Transit on demand and flow-based monitoring. Acme Corp’s network was hit by a large <a href=\"http://blog.cloudflare.com/ransom-ddos-attacks-target-a-fortune-global-500-company/\">ransom DDoS attack</a> recently, which caused downtime for both external-facing and internal applications. To make sure they’re not impacted again, the Acme network team chose to set up on-demand Magic Transit. They authorize Cloudflare to advertise their IP space to the Internet in case of an attack, and set up <a href=\"https://www.cloudflare.com/learning/network-layer/what-is-gre-tunneling/\">Anycast GRE tunnels</a> to receive clean traffic from Cloudflare back to their network. Finally, they configure their routers at each data center to send NetFlow data to a Cloudflare Anycast IP.</p><p>Cloudflare receives Acme’s NetFlow data at a location close to the data center sending it (thanks, Anycast!) and analyzes it for DDoS attacks. When traffic exceeds attack thresholds, Cloudflare triggers an automatic <a href=\"https://support.cloudflare.com/hc/en-us/articles/360047358211-Connecting-PagerDuty-to-Cloudflare\">PagerDuty incident</a> for Acme’s NOC team and starts advertising Acme’s IP prefixes to the Internet with BGP. Acme’s traffic, including the attack, starts flowing through Cloudflare within minutes, and the attack is <a href=\"http://blog.cloudflare.com/rolling-with-the-punches-shifting-attack-tactics-dropping-packets-faster-cheaper-at-the-edge/\">blocked at the edge</a>. Clean traffic is routed back to Acme through their GRE tunnels, causing no disruption to end users - they’ll never even know Acme was attacked. When the attack has subsided, Acme’s team can withdraw their prefixes from Cloudflare with one click, returning their traffic to its normal path.</p><figure class=\"kg-card kg-image-card kg-card-hascaption\"><img src=\"http://blog.cloudflare.com/content/images/2021/02/6-1.png\" class=\"kg-image\" alt loading=\"lazy\"><figcaption>When the attack subsides, withdraw your prefixes from Cloudflare to return to normal</figcaption></figure><h3 id=\"get-started\">Get started</h3><p>To learn more about Magic Transit and flow-based monitoring, <a href=\"https://www.cloudflare.com/plans/enterprise/contact/\">contact us</a> today.</p><h3 id=\"watch-it-on-cloudflare-tv\">Watch it on Cloudflare TV</h3><!--kg-card-begin: html--><div style=\"position: relative; padding-top: 56.25%;\"><iframe src=\"https://iframe.videodelivery.net/3b840b53f73804fc8dddd38cb99a0495?preload=true\" style=\"border: none; position: absolute; top: 0; height: 100%; width: 100%;\"  allow=\"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;\" allowfullscreen=\"true\"></iframe></div>\n<p></p><!--kg-card-end: html-->",
		"comment_id": "603975eb91fb1c01ba60f6cd",
		"feature_image": "http://blog.cloudflare.com/content/images/2021/02/1-3.png",
		"featured": false,
		"visibility": "public",
		"created_at": "2021-02-26T22:27:55.000+00:00",
		"updated_at": "2023-11-13T16:45:29.000+00:00",
		"published_at": "2021-02-26T23:00:00.000+00:00",
		"custom_excerpt": "Today, we’re announcing new functionality to improve the experience for on demand Magic Transit customers: flow-based monitoring. Flow-based monitoring allows us to detect and notify customers when they’re under attack so they can activate Magic Transit for protection.",
		"codeinjection_head": null,
		"codeinjection_foot": null,
		"custom_template": null,
		"canonical_url": null,
		"authors": [
			{
				"id": "5e910f48e589a401bcf85a37",
				"name": "Annika Garbers",
				"slug": "annika",
				"profile_image": "https://blog-cloudflare-com-assets.storage.googleapis.com/2020/04/annika.png",
				"cover_image": "https://blog-cloudflare-com-assets.storage.googleapis.com/2020/04/general@2x.png",
				"bio": null,
				"website": null,
				"location": null,
				"facebook": null,
				"twitter": "@annikagarbers",
				"meta_title": null,
				"meta_description": null,
				"url": "http://blog.cloudflare.com/author/annika/"
			}
		],
		"tags": [
			{
				"id": "5d16450341acde0011a951ee",
				"name": "Product News",
				"slug": "product-news",
				"description": "Product News (EN)",
				"feature_image": "http://blog.cloudflare.com/content/images/2020/10/Product-News-1.png",
				"visibility": "public",
				"meta_title": "Cloudflare Blog: Product News",
				"meta_description": "Collection of Cloudflare blog posts tagged 'Product News'.",
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/product-news/"
			},
			{
				"id": "5d52b66a143b2105050206f0",
				"name": "Magic Transit",
				"slug": "magic-transit",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/magic-transit/"
			},
			{
				"id": "5d16450341acde0011a95265",
				"name": "Security",
				"slug": "security",
				"description": null,
				"feature_image": "http://blog.cloudflare.com/content/images/2020/10/Security.png",
				"visibility": "public",
				"meta_title": "Cloudflare Blog: Security",
				"meta_description": "Collection of Cloudflare blog posts tagged 'Security'.",
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/security/"
			},
			{
				"id": "5d16450341acde0011a951e3",
				"name": "DDoS",
				"slug": "ddos",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/ddos/"
			},
			{
				"id": "5d16450341acde0011a95169",
				"name": "Attacks",
				"slug": "attacks",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/attacks/"
			}
		],
		"primary_author": {
			"id": "5e910f48e589a401bcf85a37",
			"name": "Annika Garbers",
			"slug": "annika",
			"profile_image": "https://blog-cloudflare-com-assets.storage.googleapis.com/2020/04/annika.png",
			"cover_image": "https://blog-cloudflare-com-assets.storage.googleapis.com/2020/04/general@2x.png",
			"bio": null,
			"website": null,
			"location": null,
			"facebook": null,
			"twitter": "@annikagarbers",
			"meta_title": null,
			"meta_description": null,
			"url": "http://blog.cloudflare.com/author/annika/"
		},
		"primary_tag": {
			"id": "5d16450341acde0011a951ee",
			"name": "Product News",
			"slug": "product-news",
			"description": "Product News (EN)",
			"feature_image": "http://blog.cloudflare.com/content/images/2020/10/Product-News-1.png",
			"visibility": "public",
			"meta_title": "Cloudflare Blog: Product News",
			"meta_description": "Collection of Cloudflare blog posts tagged 'Product News'.",
			"og_image": null,
			"og_title": null,
			"og_description": null,
			"twitter_image": null,
			"twitter_title": null,
			"twitter_description": null,
			"codeinjection_head": null,
			"codeinjection_foot": null,
			"canonical_url": null,
			"accent_color": null,
			"url": "http://blog.cloudflare.com/tag/product-news/"
		},
		"url": "http://blog.cloudflare.com/flow-based-monitoring-for-magic-transit/",
		"excerpt": "Today, we’re announcing new functionality to improve the experience for on demand Magic Transit customers: flow-based monitoring. Flow-based monitoring allows us to detect and notify customers when they’re under attack so they can activate Magic Transit for protection.",
		"reading_time": 4,
		"access": true,
		"comments": false,
		"og_image": null,
		"og_title": null,
		"og_description": null,
		"twitter_image": null,
		"twitter_title": null,
		"twitter_description": null,
		"meta_title": null,
		"meta_description": null,
		"email_subject": null,
		"frontmatter": null,
		"feature_image_alt": null,
		"feature_image_caption": null
	}
}