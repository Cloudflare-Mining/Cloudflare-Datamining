<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/08/image2-21.png" class="kg-image"></figure>
	<p>スピードか責任ある行動か、私たちはその選択を迫られることが多々あります。それが安全性についてであろうとセキュリティについてであろうと、今回のテーマである持続可能性に関してであろうと、自社やユーザー、あるいは地球を保護するためにイノベーションにブレーキをかけるというトレードオフを求められます。しかし、トレードオフが必要ないとしたらどうでしょう？Cloudflareの目標は、余計な時間を一切かけず、作業量の増大や複雑化を招くことなく、持続可能なコンピューティングを提供することです。</p>
	<p>Green Compute on Cloudflare Workersが登場</p>
	<p>Green Compute は、<a href="https://blog.cloudflare.com/introducing-cron-triggers-for-cloudflare-workers/">Cron Triggerを設定したWorkers</a>であれば有効化できます。コンセプトはシンプルです。Green Computeをオンにすると、お客様のコンピューティングワークロードはすべて、当社エッジネットワークのうち、再生可能エネルギーで稼働する施設にある部分で実行されます。Cloudflareのエッジネットワーク自体はすでに再生可能エネルギーで提供していますが、一部のデータセンターは100％再生可能エネルギー利用でないサードパーティ施設にあります。Green Compute は、サステナビリティの取り組みをさらに一歩進め、ネットワーク機器だけでなく建物施設全体が再生可能エネルギーで稼働するものを使います。コードの変更はまったく必要ありません。リーダーボードを5分ごとに更新する場合でも、エッジで直接DNAシーケンシングを行う場合（実在するユースケースです）でも、複雑さやエネルギー負荷に関係なく、スケジュール設定された作業の環境インパクトを最小限に抑えることができます。</p>
	<h3 id="-">仕組み</h3>
	<p>開発者はCron Triggersを使ってWorkersに呼び出し時間を設定できます。するとWorkersは、アプリケーションユーザーがHTTP リクエストによってトリガーせずとも、定期的なスケジュールで実行されるようになります。開発者は、WranglerまたはWorkersダッシュボード内で、使い慣れたcron構文を使ってジョブスケジュールを設定します。ジョブスケジュールを設定するには、まず定期的なタスクを実行するWorkersを作成し、次に「Triggers」タブに移動してCron Triggerを定義します。</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/08/image3-17.png" class="kg-image"></figure>
	<p>Cron Trigger設定したWorkersが好都合なのは、リアルタイムで応答を待つ人がいない点です。近くでジョブを実行する必要のあるエンドユーザーはいません。これらのWorkersは（計算コストがかさみがちの）バックグラウンドジョブとして実行されるようスケジュール設定されているのですから、たとえユーザーベースに最も近いものでなくても持続可能なハードウェア上で実行しない手はありません。</p>
	<p>Cloudflareの大規模グローバルネットワークは、論理上は全パーツの接続、セキュリティ、信頼性が確保された1つの分散システムです。当社のネットワークは、論理上分離したリージョンを持つシステムとは違い、単一のシステムとして機能するため、お客様のインパクトの目標を念頭に置いて、ワークロードを世界中にシームレスに移動できる柔軟性を備えており、お客様に管理の複雑さで追加の負担をかけることもありません。</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/08/image4-12.png" class="kg-image"></figure>
	<p>Green Computeを有効にしてCron Triggerを設定すると、Cloudflareネットワークは、アプリケーションの変更を必要とせずに、スケジュールされたすべてのジョブをグリーンエネルギーハードウェアに自動的にルーティングします。Green Computeを今すぐオンにするには、<a href="https://www.cloudflare.com/ja-jp/green-compute-cloudflare-workers/" target="_blank">ベータ版にサインアップしてください。</a></p>
	<h3 id="--1">ユースケースの実例</h3>
	<p>Cronジョブを作成したことがない方は、スケジュールされたコンピューティングを使って何をするのかと疑問に思われるかもしれません。</p>
	<p>アプリケーションを稼働させるために必要な定期的なメンテナンスタスクは広範囲に及びます。筆者自身も、担当していたシステムの可用性を監視するために毎分実行し、サービスが利用できない場合は自分宛にメッセージを送信するよう設定したジョブを作った経験があります。ジョブが5分ごとに実行され、新しいアプリケーションデータをすべて取得して変換し、検索データベースに挿入することで、コアデータベースと検索機能の同期を維持したこともあります。さらに別の例では、定期ジョブを30分ごとに実行し、ユーザーセッションをすべて反復処理して、アクティブでなくなったセッションをクリーンアップするように設定しました。</p>
	<p>スケジュールされたジョブは、実世界のシステムのバックボーンです。Green Compute on Cloudflare Workersができた今、実世界システムとその計算コストの高いバックグラウンドメンテナンスタスクはことごとく、再生可能エネルギーで稼働するマシン上でコンピューティングを実行できるようになりました。</p>
	<h3 id="the-green-network">The Green Network</h3>
	<p>Cloudflareの使命は、サステナビリティの目標に取り組むお客様のお手伝いをすることです。現在、カーボンインパクトレポートのリリースにより、お客様の環境への影響を可視化しています。Green Web Foundationとの提携により、Cloudflare Pagesのグリーンホスティング認定も取得しています。そして今回、Green Compute on Cloudflare Workersの開始によって、再生可能エネルギー利用のハードウェアだけを使った実行を可能にしました。何よりすばらしいのは、上記のいずれもシステムの複雑化を要しないことです。</p>
	<p>Cloudflareは、お客様が高い目標を達成しやすくすることに力を入れています。できることはまだまだあります。</p>
</div>