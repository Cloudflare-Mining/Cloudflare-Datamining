{
	"footerBlurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
	"initialReadingTime": "4",
	"locale": "en-us",
	"localesAvailable": [],
	"post": {
		"authors": [
			{
				"name": "Nikita Cano",
				"slug": "nikita",
				"bio": "Product Manager, Rules and Insights (Configuration Rules, Compression Rules, Page Rules, Redirect Rules, Origin Rules, Snippets, Trace, Traffic Sequence, Transform Rules, URL Normalization, etc.)",
				"profile_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6hGB1W3bIJaibV4F7Qe0L8/56f554eeae28828297135a54eacc3065/nikita.jpeg",
				"location": "London, United Kingdom",
				"website": "https://nikitacano.com",
				"twitter": null,
				"facebook": null
			}
		],
		"excerpt": "Cloudflare Snippets are now generally available, enabling fast, cost-free JavaScript-based HTTP traffic modifications across all paid plans. ",
		"feature_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4K75EXkUFjERUZC1whnHvh/5c9a5ec68e5a3024bbb0fc605f1378d8/Feature_Image.png",
		"featured": false,
		"html": "\n          <div class=\"flex anchor relative\">\n            <h2 id=\"program-your-traffic-at-the-edge-fast-flexible-and-free\">Program your traffic at the edge — fast, flexible, and free</h2>\n            <a href=\"#program-your-traffic-at-the-edge-fast-flexible-and-free\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n          <p><a href=\"https://developers.cloudflare.com/rules/snippets/\"><u>Cloudflare Snippets</u></a> are <b>now generally available (GA)</b> for all paid plans, giving you a fast, flexible way to control HTTP traffic using lightweight JavaScript “code rules” — at no extra cost.</p><p>Need to transform headers dynamically, fine-tune caching, rewrite URLs, retry failed requests, replace expired links, throttle suspicious traffic, or validate authentication tokens? Snippets provide a production-ready solution built for performance, security, and control.</p><p>With GA, we’re introducing a new <a href=\"https://developers.cloudflare.com/changelog/2025-01-29-snippets-code-editor/\"><u>code editor</u></a> to streamline writing and testing logic. This summer, we’re also rolling out an integration with <a href=\"https://blog.cloudflare.com/secrets-store-beta/\"><u>Secrets Store</u></a> — enabling you to bind and manage sensitive values like API keys directly in Snippets, securely and at scale.</p>\n          <div class=\"flex anchor relative\">\n            <h2 id=\"what-are-snippets\">What are Snippets?</h2>\n            <a href=\"#what-are-snippets\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n          <p>Snippets bring the power of JavaScript to <a href=\"https://developers.cloudflare.com/rules/\"><u>Cloudflare Rules</u></a>, letting you write logic that runs before a request reaches your origin or after a response returns from upstream. They’re ideal when built-in rule actions aren’t quite enough. While Cloudflare Rules let you define traffic logic without code, Snippets extend that model with greater flexibility for advanced scenarios.</p><p>Think of Snippets as the ultra-fast <b>“code layer” </b>of <a href=\"https://developers.cloudflare.com/rules/\"><u>Cloudflare Rules</u></a>: the <a href=\"https://developers.cloudflare.com/ruleset-engine/\"><u>Ruleset Engine</u></a> evaluates your rules and invokes your code, which then runs on the <a href=\"https://developers.cloudflare.com/workers/runtime-apis/\"><u>Workers runtime</u></a>.</p>\n          <div class=\"flex anchor relative\">\n            <h3 id=\"key-capabilities-of-snippets\">Key capabilities of Snippets:</h3>\n            <a href=\"#key-capabilities-of-snippets\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <ul><li><p><b>Ultra-fast execution</b>: optimized for speed with the <a href=\"https://developers.cloudflare.com/ruleset-engine/\"><u>Ruleset Engine</u></a> and <a href=\"https://developers.cloudflare.com/workers/runtime-apis/\"><u>Workers runtime</u></a>.</p></li><li><p><b>Granular request matching</b>: trigger Snippets based on <a href=\"https://developers.cloudflare.com/ruleset-engine/rules-language/fields/reference/http.request.full_uri/\"><u>URI</u></a>, <a href=\"https://developers.cloudflare.com/ruleset-engine/rules-language/fields/reference/http.user_agent/\"><u>user-agent</u></a>, <a href=\"https://developers.cloudflare.com/ruleset-engine/rules-language/fields/reference/http.request.cookies/\"><u>cookies</u></a>, headers and more.</p></li><li><p><b>Sequential execution</b>: <a href=\"https://developers.cloudflare.com/rules/snippets/how-it-works/\"><u>run</u></a> multiple Snippets on the same request, applying modifications step by step.</p></li><li><p>Native <a href=\"https://developers.cloudflare.com/rules/\"><u>Cloudflare Rules</u></a> integration: Snippets <a href=\"https://developers.cloudflare.com/ruleset-engine/reference/phases-list/#request-phases\"><u>inherit</u></a> request modifications from other Cloudflare products.</p></li><li><p>JavaScript and Web APIs support, plus essential <a href=\"https://developers.cloudflare.com/workers/runtime-apis/\"><u>Workers runtime</u></a> features:</p><ul><li><p><a href=\"https://developers.cloudflare.com/workers/runtime-apis/fetch/\"><u>fetch API</u></a></p></li><li><p><a href=\"https://developers.cloudflare.com/workers/runtime-apis/cache/\"><u>cache API</u></a></p></li><li><p><a href=\"https://developers.cloudflare.com/workers/runtime-apis/request/#incomingrequestcfproperties\"><u>request.cf object</u></a></p></li><li><p><a href=\"https://developers.cloudflare.com/workers/runtime-apis/html-rewriter/\"><u>HTMLRewriter</u></a></p></li></ul></li><li><p>Automated deployment and versioning via <a href=\"https://developers.cloudflare.com/rules/snippets/create-terraform/\"><u>Terraform</u></a>.</p></li></ul><p>Best of all? Snippets are <a href=\"https://developers.cloudflare.com/rules/snippets/#availability\"><u>included</u></a> at no extra cost for Pro, Business, and Enterprise plans — with <b>no usage-based fees</b>.</p>\n          <div class=\"flex anchor relative\">\n            <h2 id=\"the-journey-to-ga-how-snippets-became-production-grade\">The journey to GA: How Snippets became production-grade</h2>\n            <a href=\"#the-journey-to-ga-how-snippets-became-production-grade\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n          <p>Cloudflare Snippets started as a bold idea: bring the power of JavaScript-based logic to Cloudflare Rules, without the complexity of a full-stack developer platform.</p><p>Over the past two years, Snippets have evolved into a production-ready “code rules” solution, shaping the future of HTTP traffic control.</p><p><b>2022:</b> Cloudflare Snippets were <a href=\"https://blog.cloudflare.com/snippets-announcement/\"><u>announced</u></a> during Developer Week as a solution for users needing flexible HTTP traffic modifications without a full Worker.</p><p><b>2023:</b> <b>Alpha launch </b>— hundreds of users tested Snippets for high-performance traffic logic.</p><p><b>2024:</b> <b>7x traffic growth</b>, processing 17,000 requests per second. Terraform support and production-grade backend were released.</p><p><b>2025:</b> <b>General Availability </b>— Snippets introduces a <a href=\"https://developers.cloudflare.com/changelog/2025-01-29-snippets-code-editor/\"><u>new code editor</u></a>, <a href=\"https://developers.cloudflare.com/changelog/2025-02-12-rules-upgraded-limits/\"><u>increased limits</u></a> alongside other Cloudflare Rules products, integration with <a href=\"https://developers.cloudflare.com/fundamentals/trace-request/#_top\"><u>Trace</u></a>, and a production-grade experience built for scale, handling <b>over 2 million requests per second</b> at peak. Integration with the Secrets Store is rolling out this summer.</p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1fZv7cpSGntSQadS761Zkv/31707075a85d393f4883b190599581f7/1.png\" alt=\"\" class=\"kg-image\" width=\"1999\" height=\"1031\" loading=\"lazy\"/>\n          </figure>\n          <div class=\"flex anchor relative\">\n            <h2 id=\"new-snippets-secrets-store\">New: Snippets + Secrets Store</h2>\n            <a href=\"#new-snippets-secrets-store\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n          <p><a href=\"https://developers.cloudflare.com/fundamentals/trace-request/#_top\"><u>Cloudflare Trace</u></a> now shows exactly which Snippets were triggered on a request. This makes it easier to debug traffic behavior, verify logic execution, and understand how your Snippets interact with other products in the request pipeline.</p><p>Whether you’re fine-tuning header logic or troubleshooting a routing issue, Trace gives you real-time insight into how your edge logic behaves in production.</p>\n          <div class=\"flex anchor relative\">\n            <h2 id=\"coming-soon-snippets-secrets-store\">Coming soon: Snippets + Secrets Store</h2>\n            <a href=\"#coming-soon-snippets-secrets-store\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n          <p>In the third quarter, you’ll be able to securely access API keys, authentication tokens, and other sensitive values from <a href=\"https://blog.cloudflare.com/secrets-store-beta/\"><u>Secrets Store</u></a> directly in your Snippets. No more plaintext secrets in your code, no more workarounds.</p><div style=\"position: relative; padding-top: 41.72453703703704%;\">\n  <iframe\n    src=\"https://customer-eq7kiuol0tk9chox.cloudflarestream.com/5ef9a151a67a362fc2b7591c9573538f/iframe?preload=true&poster=https%3A%2F%2Fcustomer-eq7kiuol0tk9chox.cloudflarestream.com%2F5ef9a151a67a362fc2b7591c9573538f%2Fthumbnails%2Fthumbnail.jpg%3Ftime%3D%26height%3D600\"\n    loading=\"lazy\"\n    style=\"border: none; position: absolute; top: 0; left: 0; height: 100%; width: 100%;\"\n    allow=\"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;\"\n    allowfullscreen=\"true\"\n  ></iframe>\n</div>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/51QyhWrvtGEQ568lzuqRD/f8eb60c0258d28ef1431fad7f5d03b12/2.png\" alt=\"\" class=\"kg-image\" width=\"1999\" height=\"886\" loading=\"lazy\"/>\n          </figure><p>Once rolled out, secrets can be configured for Snippets via the <a href=\"https://developers.cloudflare.com/rules/snippets/create-dashboard/\"><u>dashboard</u></a> or <a href=\"https://developers.cloudflare.com/rules/snippets/create-api/\"><u>API</u></a> under the new <b>“Settings”</b> button.</p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2ipprc9qz2mPpp7XGOURgH/47112dde677906746ef4f798d5c082c0/3.png\" alt=\"\" class=\"kg-image\" width=\"1796\" height=\"780\" loading=\"lazy\"/>\n          </figure>\n          <div class=\"flex anchor relative\">\n            <h2 id=\"when-to-use-snippets-vs-cloudflare-workers\">When to use Snippets vs. Cloudflare Workers</h2>\n            <a href=\"#when-to-use-snippets-vs-cloudflare-workers\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n          <p>Snippets are fast, flexible, and free, but how do they compare to Cloudflare Workers? Both allow you to programmatically control traffic. However, they solve different problems:</p><div style=\"margin-left:0pt;\" dir=\"ltr\" align=\"left\">\n    <figure class=\"table\">\n        <table class=\"ck-table-resized\" style=\"border-collapse:collapse;border-style:none;\">\n            <colgroup>\n                <col style=\"width:33.33%;\" width=\"470\">\n                <col style=\"width:33.33%;\" width=\"89\">\n                <col style=\"width:33.34%;\" width=\"75\">\n            </colgroup>\n            <tbody>\n                <tr style=\"height:25.75pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;text-align:center;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\"><strong>Feature</strong></span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;text-align:center;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\"><strong>Snippets</strong></span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;text-align:center;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\"><strong>Workers</strong></span></span></p>\n                    </td>\n                </tr>\n                <tr style=\"height:27.25pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Execute scripts based on request attributes (headers, geolocation, cookies, etc.)</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">❌</span></span></p>\n                    </td>\n                </tr>\n                <tr style=\"height:27.25pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#383838;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Modify HTTP requests/responses or serve a different response</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                </tr>\n                <tr style=\"height:27.25pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:#ffffff;color:#383838;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Add, remove, or rewrite headers dynamically</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                </tr>\n                <tr style=\"height:27.25pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:#ffffff;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Cache</span></span><span style=\"background-color:#ffffff;color:#383838;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\"> assets at the edge</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                </tr>\n                <tr style=\"height:27.25pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:#ffffff;color:#383838;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Route traffic dynamically between origins</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                </tr>\n                <tr style=\"height:27.25pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:#ffffff;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Authenticate</span></span><span style=\"background-color:#ffffff;color:#383838;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\"> requests, pre-sign URLs, run A/B testing</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                </tr>\n                <tr style=\"height:27.25pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Perform compute-intensive tasks (e.g., AI inference, image processing)</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">❌</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                </tr>\n                <tr style=\"height:27.25pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Store persistent data (e.g., KV, Durable Objects, D1)</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">❌</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                </tr>\n                <tr style=\"height:27.25pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Deploy via CLI (Wrangler)</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">❌</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                </tr>\n                <tr style=\"height:27.25pt;\">\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#383838;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">Use TypeScript, Python, Rust or other programming languages</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:middle;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">❌</span></span></p>\n                    </td>\n                    <td style=\"border-color:#000000;border-width:0.5pt;overflow-wrap:break-word;overflow:hidden;padding:5pt;vertical-align:top;\">\n                        <p style=\"line-height:1.38;margin-bottom:0pt;margin-top:0pt;\" dir=\"ltr\"><span style=\"background-color:transparent;color:#000000;font-family:Arial,sans-serif;\"><span style=\"font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;vertical-align:baseline;white-space:pre-wrap;\">✅</span></span></p>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </figure>\n</div><p><b>Use Snippets when:</b></p><ul><li><p>You need ultra-fast conditional traffic modifications directly on Cloudflare’s network.</p></li><li><p>You want to extend Cloudflare Rules beyond built-in actions.</p></li><li><p>You need free, unlimited invocations within the <a href=\"https://developers.cloudflare.com/rules/snippets/#limits\"><u>execution limits</u></a>.</p></li><li><p>You are migrating from VCL, Akamai’s EdgeWorkers, or on-premise logic.</p></li></ul><p><b>Use Workers when:</b></p><ul><li><p>Your application requires state management, Developer Platform product integrations, or high compute limits.</p></li><li><p>You are building APIs, full-stack applications, or complex workflows.</p></li><li><p>You need logging, debugging tools, CLI support, and gradual rollouts.</p></li></ul><p>Still unsure? Check out our <a href=\"https://developers.cloudflare.com/rules/snippets/when-to-use/\"><u>detailed guide</u></a> for best practices.</p>\n          <div class=\"flex anchor relative\">\n            <h2 id=\"snippets-in-action-real-world-use-cases\">Snippets in action: real-world use cases</h2>\n            <a href=\"#snippets-in-action-real-world-use-cases\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n          <p>Below are practical use cases demonstrating Snippets. Each script can be dynamically triggered using our powerful <a href=\"https://developers.cloudflare.com/ruleset-engine/rules-language/\"><u>Rules</u></a> language, so you can granularly control which requests your Snippets will be applied to.</p>\n          <div class=\"flex anchor relative\">\n            <h3 id=\"1-dynamically-modify-headers\">1. Dynamically modify headers</h3>\n            <a href=\"#1-dynamically-modify-headers\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>Inject custom headers, remove unnecessary ones, and tweak values on the fly:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">export default {\n  async fetch(request) {\n    const timestamp = Date.now().toString(16); // convert timestamp to HEX\n    const modifiedRequest = new Request(request, { headers: new Headers(request.headers) });\n    modifiedRequest.headers.set(&quot;X-Hex-Timestamp&quot;, timestamp); // send HEX timestamp to upstream\n\n    const response = await fetch(modifiedRequest);\n    const newResponse = new Response(response.body, response); // make response from upstream immutable\n\n    newResponse.headers.append(&quot;x-snippets-hello&quot;, &quot;Hello from Cloudflare Snippets&quot;); // add new response header\n    newResponse.headers.delete(&quot;x-header-to-delete&quot;); // delete response header\n    newResponse.headers.set(&quot;x-header-to-change&quot;, &quot;NewValue&quot;); // replace the value of existing response header\n\n    return newResponse;\n  },\n};</pre></code>\n            \n          <div class=\"flex anchor relative\">\n            <h3 id=\"2-serve-a-custom-maintenance-page\">2. Serve a custom maintenance page</h3>\n            <a href=\"#2-serve-a-custom-maintenance-page\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>Route traffic to a maintenance page when your origin is undergoing planned maintenance:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">export default {\n    async fetch(request) { // for all matching requests, return predefined HTML response with 503 status code\n        return new Response(`\n            &lt;!DOCTYPE html&gt;\n            &lt;html lang=&quot;en&quot;&gt;\n            &lt;head&gt;\n                &lt;meta charset=&quot;UTF-8&quot;&gt;\n                &lt;title&gt;We&#039;ll Be Right Back!&lt;/title&gt;\n                &lt;style&gt; body { font-family: Arial, sans-serif; text-align: center; padding: 20px; } &lt;/style&gt;\n            &lt;/head&gt;\n            &lt;body&gt;\n                &lt;h1&gt;We&#039;ll Be Right Back!&lt;/h1&gt;\n                &lt;p&gt;Our site is undergoing maintenance. Check back soon!&lt;/p&gt;\n            &lt;/body&gt;\n            &lt;/html&gt;\n        `, { status: 503, headers: { &quot;Content-Type&quot;: &quot;text/html&quot; } });\n    }\n};</pre></code>\n            \n          <div class=\"flex anchor relative\">\n            <h3 id=\"3-retry-failed-requests-to-a-backup-origin\">3. Retry failed requests to a backup origin</h3>\n            <a href=\"#3-retry-failed-requests-to-a-backup-origin\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>Ensure reliability by automatically rerouting requests when your primary origin returns an unexpected response:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">export default {\n  async fetch(request) {\n    const response = await fetch(request); // send original request to the origin\n\n    if (!response.ok &amp;&amp; !response.redirected) { // if response is not 200 OK or a redirect, send to another origin\n      const newRequest = new Request(request); // clone the original request to construct a new request\n      newRequest.headers.set(&quot;X-Rerouted&quot;, &quot;1&quot;); // add a header to identify a re-routed request at the new origin\n      const url = new URL(request.url); // clone the original URL\n      url.hostname = &quot;backup.example.com&quot;; // send request to a different origin / hostname\n      return await fetch(url, newRequest); // serve response from the backup origin\n    }\n\n    return response; // otherwise, serve response from the primary origin\n  },\n};</pre></code>\n            \n          <div class=\"flex anchor relative\">\n            <h3 id=\"4-redirect-users-based-on-their-location\">4. Redirect users based on their location</h3>\n            <a href=\"#4-redirect-users-based-on-their-location\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>Send visitors to region-specific sites for better localization:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">export default {\n    async fetch(request) {\n        const country = request.cf.country; // identify visitor&#039;s country using request.cf property\n        const redirectMap = { US: &quot;https://example.com/us&quot;, EU: &quot;https://example.com/eu&quot; }; // define redirects for each country\n        if (redirectMap[country]) return Response.redirect(redirectMap[country], 301); // redirect on match\n        return fetch(request); // otherwise, proceed to upstream normally\n    }\n};</pre></code>\n            \n          <div class=\"flex anchor relative\">\n            <h2 id=\"getting-started-with-snippets\">Getting started with Snippets</h2>\n            <a href=\"#getting-started-with-snippets\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n          <p>Snippets are available right now in the Cloudflare dashboard under <b>Rules &gt; Snippets</b>:</p><ol><li><p>Go to Rules → Snippets.</p></li><li><p>Use prebuilt <a href=\"https://developers.cloudflare.com/rules/examples/\"><u>templates</u></a> or write your own JavaScript code.</p></li><li><p>Configure a flexible rule to trigger your Snippet.</p></li><li><p>Test and deploy instantly.</p></li><li><p>Automate via <a href=\"https://developers.cloudflare.com/rules/snippets/create-api/\"><u>API</u></a> or <a href=\"https://developers.cloudflare.com/rules/snippets/create-terraform/\"><u>Terraform</u></a>.</p></li></ol>\n          <div class=\"flex anchor relative\">\n            <h2 id=\"try-snippets-today\">Try Snippets today</h2>\n            <a href=\"#try-snippets-today\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n          <p>Cloudflare Snippets are now generally available, bringing fast, cost-free, and intelligent HTTP traffic control to all paid plans.</p><p>With native integration into Cloudflare Rules and Terraform — and Secrets Store integration coming this summer — Snippets provide the most efficient way to manage advanced traffic logic at scale.</p><p>Explore Snippets in the Cloudflare Dashboard and start optimizing your traffic with lightweight, flexible rules that enhance performance and reduce complexity.</p>",
		"id": "6rBnmM6UiFX8ca7XXlOU2X",
		"localeList": {
			"name": "blog-english-only",
			"enUS": "English for Locale",
			"zhCN": "No Page for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "No Page for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "No Page for Locale",
			"koKR": "No Page for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": "Cloudflare Snippets are now GA, enabling fast, cost-free JavaScript-based HTTP traffic modifications across all paid plans. With Terraform support and upcoming integration with Secrets Store, Snippets provide a powerful, production-ready solution for managing HTTP traffic via code rules.",
		"metadata": {
			"title": "Cloudflare Snippets are now Generally Available",
			"description": "Cloudflare Snippets are now GA, enabling fast, cost-free JavaScript-based HTTP traffic modifications across all paid plans. With Terraform support and upcoming integration with Secrets Store, Snippets provide a powerful, production-ready solution for managing HTTP traffic via code rules.",
			"imgPreview": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1u82DgH9pMX5KZvYTBK5fl/bad7c50cde89c9153e80d19107be709a/OG_Share_2024__35_.png"
		},
		"primary_author": {},
		"published_at": "2025-04-09T14:00+00:00",
		"slug": "snippets",
		"tags": [
			{
				"id": "2xCnBweKwOI3VXdYsGVbMe",
				"name": "Developer Week",
				"slug": "developer-week"
			},
			{
				"id": "4eBircwQ1VIos6rC8wgALG",
				"name": "Snippets",
				"slug": "snippets"
			},
			{
				"id": "3E2D6D4cI82KIloPpl0WZW",
				"name": "General Availability",
				"slug": "general-availability"
			},
			{
				"id": "78aSAeMjGNmCuetQ7B4OgU",
				"name": "JavaScript",
				"slug": "javascript"
			},
			{
				"id": "3aRZvV7ApVpkYKGhnNQH4w",
				"name": "CDN",
				"slug": "cdn"
			},
			{
				"id": "4Hr4XSACbfTmrYAA7iESxH",
				"name": "Edge Rules",
				"slug": "edge-rules"
			},
			{
				"id": "4HIPcb68qM0e26fIxyfzwQ",
				"name": "Developers",
				"slug": "developers"
			}
		],
		"title": "Cloudflare Snippets are now Generally Available",
		"updated_at": "2025-04-09T13:00:02.905Z",
		"url": "https://blog.cloudflare.com/snippets"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"search.clear": "Clear",
		"search.filter": "Filter",
		"search.source": "Source",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"search.filters": "Filters",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"search.language": "Language",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"search.result_stat": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong> for <strong>{search_keyword}</strong>",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"search.icon_aria_label": "Search",
		"search.source_location": "Source/Location",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"search.result_stat_empty": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong>",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"search.autocomplete_title": "Insert a query. Press enter to send",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}