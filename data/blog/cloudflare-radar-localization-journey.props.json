{
	"footerBlurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
	"initialReadingTime": "13",
	"locale": "en-us",
	"localesAvailable": [
		"zh-cn",
		"zh-tw"
	],
	"post": {
		"authors": [
			{
				"name": "Alejandro Diaz-Garcia",
				"slug": "alejandro-diaz-garcia",
				"profile_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7yCRRxIOq9LdBV03Ce5poC/0c392740c5dce324ac922446a9ec0271/unnamed.webp",
				"publiclyIndex": true
			},
			{
				"name": "David Fidalgo",
				"slug": "david-fidalgo",
				"profile_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4cLhERyfSM5zX6qvksLZe4/ae2e3e9504b2722d435afa239a9cbe0b/unnamed__1_.webp",
				"publiclyIndex": true
			},
			{
				"name": "Nuno Pereira",
				"slug": "nuno-pereira",
				"bio": "full-time househusband, cat dad, total weeb. part-time frontend dev. i work as a hobby.",
				"profile_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3XV8v72ZJPC16ZrtHYsjaN/c9969e181cfc075b5f1e4653e23299e4/nuno-pereira.png",
				"location": "Lisbon, Portugal",
				"website": null,
				"twitter": null,
				"facebook": null,
				"publiclyIndex": true
			}
		],
		"excerpt": "Internationalization and localization require more than translation: tone, images, date/time and number formatting, among other items, need to be considered.",
		"feature_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/23W9FGPU51EFRpGuQPbjsB/938a0b6d732350374c6bad7a172992fe/image5.png",
		"featured": false,
		"html": "<p><a href=\"https://radar.cloudflare.com/\">Cloudflare Radar</a> celebrated its fourth birthday in September 2024. As we’ve expanded Radar’s scope over the last four years, the value that it provides as a resource for the <b>global</b> Internet has grown over time, and with Radar data and graphs often appearing in publications and social media around the world, we knew that we needed to make it available in languages beyond English.</p><p>Localization is important because most Internet users do not speak English as a first language. According to <a href=\"https://w3techs.com/technologies/history_overview/content_language/ms/y\"><u>W3Techs</u></a>, English usage on the Internet has dropped 8.3 points (57.7% to 49.4%) since January 2023, whereas usage of other languages like Spanish, German, Japanese, Italian, Portuguese and Dutch is steadily increasing. Furthermore, a <a href=\"https://csa-research.com/Featured-Content/For-Global-Enterprises/Global-Growth/CRWB-Series/CRWB-B2C\"><u>CSA Research study</u></a> determined that 65% of Internet users prefer content in their language.</p><p>To successfully (and painlessly) localize any product, it must be internationalized first.  Internationalization is the process of making a product ready to be translated and adapted into multiple languages and cultures, and it sets the foundation to enable your product to be localized later on at a much faster pace (and at a lower cost, both in time and budget). Below, we review how Cloudflare’s Radar and Globalization teams worked together to deliver a Radar experience spanning twelve languages.</p>\n    <div class=\"flex anchor relative\">\n      <h2 id=\"what-is-localization\">What is localization?</h2>\n      <a href=\"#what-is-localization\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>Localization (l10n) is the process of adapting content for a region, including translation, associated imagery, and cultural elements that influence how your content will be perceived. The goal, ideally, is to make the content sound like it was originally written with the region in mind, incorporating relevant cultural nuances instead of merely replacing English with translated text.</p><p>Localization includes, among others:</p><ul><li><p><b>Language</b>: Translation, obviously, but it’s just the beginning.</p></li><li><p><b>Tone and message</b>: Localization considers what will resonate with your target audience, not just what’s accurate.</p></li><li><p><b>Images</b>: What may be appropriate in one country can be problematic in another (maps, for instance, that tend to include disputed territories). </p></li><li><p><b>Date, time, measurement, and number formats</b>: Formats change based on location and may differ even within the same language. In the U.S., the date follows this format: “December 15, 2018.” But in the U.K., that same date would be written like this: “15 December 2018.” Not to mention a constant source of confusion: the month/day/year vs.day/month/year difference:</p></li></ul>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/ChruPHkbCpKkaDNfnd3wK/13a299038c2fc70e71fc7e4e71fb8671/image9.png\" alt=\"\" class=\"kg-image\" width=\"356\" height=\"222\" loading=\"lazy\"/>\n          </figure><p><sup><i>Image: XKCD, </i></sup><a href=\"https://xkcd.com/2562/\"><sup><i><u>https://xkcd.com/2562/</u></i></sup></a></p><p>Pixar movies are a great example of localization<b><i>. </i></b>Pixar takes great care to internationalize their movie production process, so they can replace or insert scenes that will resonate with watchers all over the world, not just the US. Let’s consider <i>Inside Out</i> (2015). During the movie, Riley reminisces about playing ice hockey back in Minnesota. Most of the world is not as familiar with ice hockey as in the US, so Pixar wisely decided that they would use soccer elsewhere, allowing a more direct emotional connection with those audiences. </p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2vmuz0H3YXa6sAh0EJpj0E/5ed37b80f24932c6082a079a587c1ac4/Screenshot_2024-12-14_at_16.15.15.png\" alt=\"\" class=\"kg-image\" width=\"1378\" height=\"322\" loading=\"lazy\"/>\n          </figure><p><sup><i>Images: scene from Inside Out (2015), produced by Pixar Animation Studios and Walt Disney Pictures. Copyright Pixar Animation Studios and Walt Disney Pictures. Images used under fair use.</i></sup></p><p>And you don’t have to go to computer animated movies. Here’s an example from The Shining (1980) where the famous “All work and no play makes Jack a dull boy” typewriter scene was localized into all languages differently. <i>The producers, in a pre-Information Technology example of internationalization, shot and cut the localized scene into the local versions of the movie.</i></p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3GNqgdcxlk9fLll5OQgilJ/5bfe683547230280ea84741a7c7c0405/Screenshot_2024-12-14_at_16.16.28.png\" alt=\"\" class=\"kg-image\" width=\"1492\" height=\"362\" loading=\"lazy\"/>\n          </figure><p><sup><i>Images: scene from The Shining (1980), directed by Stanley Kubrick. Copyright Warner Bros. Pictures. Images used under fair use.</i></sup></p>\n    <div class=\"flex anchor relative\">\n      <h2 id=\"internationalization\">Internationalization</h2>\n      <a href=\"#internationalization\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>Localization is hard, and no one in the business will tell you otherwise. Fortunately there’s a playbook: the first step to localization is <b>internationalization</b> (i18n). <b>Internationalization</b> is the process of making a product ready to be translated and adapted into multiple languages and cultures. It&#39;s a preparatory step that helps with translation and localization. The more you internationalize your code and the more you take into account language and cultural nuances, the easier the localization will be.</p>\n    <div class=\"flex anchor relative\">\n      <h3 id=\"hard-coding-and-externalization\">Hard-coding and externalization</h3>\n      <a href=\"#hard-coding-and-externalization\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>The first step to internationalize Radar was to assess how many of the localizable strings were hard-coded. Hard coding is the practice of embedding data directly into the source code of a program. Although a convenient and fast way to write your code, it makes it more difficult to change or localize the code later.</p><p>Most of the strings that make up the Radar pages used to be hard-coded, so before we could begin translating, <b>externalization</b> had to be done, which is the process of extracting any text that needs to be localized from the code and moving it into separate files.</p><p>Hard-coded strings:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">import Card from “~/components/Card”;\nimport Chart from “~/components/Chart”;\n\nexport default function TrafficChart() {\n  return (\n    &lt;Card\n      title=&quot;Traffic&quot;\n      description=&quot;Share of HTTP requests&quot;\n    &gt;\n      &lt;Chart /&gt;\n    &lt;/Card&gt;\n  );\n}</pre></code>\n            <p>Externalized key placeholders:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">import { useTranslation } from &quot;react-i18next&quot;;\nimport Card from “~/components/Card”;\nimport Chart from “~/components/Chart”;\n\nexport default function TrafficChart() {\n  const { t } = useTranslation();\n  return (\n    &lt;Card\n      title={t(&quot;traffic.chart.title&quot;)}\n      description={t(&quot;traffic.chart.description&quot;)}\n    &gt;\n      &lt;Chart /&gt;\n    &lt;/Card&gt;\n  );\n}</pre></code>\n            <p>There are several benefits to externalizing strings:</p><ul><li><p>It allows translators to work on separate, isolated files that contain only localizable strings </p></li><li><p>It prevents accidental changes to the code </p></li><li><p>It allows developers to deploy updates, changes, and fixes without having to recompile or redeploy code for each language every time</p></li></ul><p>If you look at the example below, when the code is compiled or deployed, upon reaching line 10 (on the left), it will find a key named <code>traffic.chart.title</code>. It will then proceed to match that key within the JSON file on the right, finding it on line 1090 and resolving it to “<code>Traffic</code>” for English, &quot;<code>Tráfego</code>&quot; for Portuguese and &quot;<code>トラフィック</code>&quot; for Japanese, doing this for every localized JSON file present in the code.</p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/14pNiwO9UTdrwbFzq2VUvi/c1a163bc98915195a0cb8ccb29639365/image1.png\" alt=\"\" class=\"kg-image\" width=\"1920\" height=\"800\" loading=\"lazy\"/>\n          </figure>\n    <div class=\"flex anchor relative\">\n      <h3 id=\"pseudo-translation\">Pseudo translation</h3>\n      <a href=\"#pseudo-translation\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>Not all strings are easily found and some are buried deep in the code, sometimes in legacy, inherited code or APIs. Fortunately, there are some strategies that help detect hard-coded strings. This is where <b><i>pseudo translation</i></b> comes into play.</p><p><i>Pseudo translation</i> is a process that replaces all characters in a string with similar-looking ones; pseudo translated strings are enclosed within [ ] characters, and some extra characters are added to them to simulate text expansion (<a href=\"#text-expansion\"><u>more on that later</u></a>). It is an invaluable tool to help us find any hard coded strings, and to stress test the UI for language readiness and length variability, while still keeping the content mostly readable. For example, this string:</p><p><code>Routing Information</code></p><p>looks like this once pseudo translated:</p><p><code>[R~óútíñg Í~ñfó~rmát~íóñ]</code></p><p>Once pseudo translation is done, any English strings left intact are most likely hard coded or come from other sources. In the screenshot below you can see how <code>ASN</code>, <code>Country</code>, <code>Name</code> and <code>Prefix Count</code> did not get pseudo translated and had to be externalized by the Radar developers. The Globalization team collaborated with the Radar team to report and fix hard-coded text issues, as well as the issues that are mentioned in the next few sections.</p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/16SjYR099rxBLw0YuptB9n/7ca430aa1544349c3e2eff45cdbdfe60/image4.png\" alt=\"\" class=\"kg-image\" width=\"1271\" height=\"644\" loading=\"lazy\"/>\n          </figure>\n    <div class=\"flex anchor relative\">\n      <h3 id=\"text-expansion\">Text expansion</h3>\n      <a href=\"#text-expansion\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>Text expansion occurs when translated content from one language to another takes up more space than the original. Sometimes this expansion is horizontal, as English to German can <a href=\"https://abctranslations.com/text-expansion-and-reduction-in-translation-services\"><u>expand</u></a> up to an average of 35%, Spanish 30%, and French 20%). Asian languages might contract from the English but expand vertically. Interestingly, the fewer characters English has, the more the localized languages tend to expand.</p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3P2FszOadUDhhc1oRzjjra/250d2425f09423907359914bf628e29c/image10.png\" alt=\"\" class=\"kg-image\" width=\"996\" height=\"507\" loading=\"lazy\"/>\n          </figure><p><sup><i>Data source: </i></sup><a href=\"https://www.ibm.com/docs/en/i/7.3?topic=interfaces-text-translation-design\"><sup><i><u>IBM</u></i></sup></a></p><p>UI designers and developers need to keep this in mind when creating their applications. Thus, one important consideration is to test the design mock-ups with larger texts and plan the UI to accommodate for text expansion. If some English content barely fits within its container, it will most likely not fit in other languages and possibly break the layout.</p><p>Here’s an example of the same button in different languages in Radar’s fixed-width sidebar. Since it’s the main navigation, truncating the text is not appropriate and the only viable option is wrapping, which means localized buttons can end up having different heights. Sometimes it’s necessary to trade visual consistency for usability.</p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/oByQcEAMDwh4gv1GtxOQG/0de2878728f293a49e03a9b90fbae536/image3.png\" alt=\"\" class=\"kg-image\" width=\"1104\" height=\"294\" loading=\"lazy\"/>\n          </figure>\n    <div class=\"flex anchor relative\">\n      <h3 id=\"string-concatenation\">String concatenation</h3>\n      <a href=\"#string-concatenation\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>In English, you can easily chain-connect words because most words lack <a href=\"https://en.wikipedia.org/wiki/Inflection\"><u>inflections</u></a>. Almost all programming languages are designed using the English language in mind. An old linguist joke goes like: <i>an English teacher: a teacher of English or a teacher from England? </i>Case in point, it would be nightmarish to translate this example:</p><p><code>A lovely little old rectangular green French silver whittling knife</code> </p><p>Most Western languages need to connect words with some <i>glue</i>: prepositions, articles, or inflections. This is why, in general, string concatenation (putting together sentences or sentence parts by combining two or more strings) is a terrible practice for localization, even though it seems efficient from a development point of view. You can’t assume that all languages follow the same sentence structure as English. Most languages don’t.</p><p>Sentences may need to be completely reversed for them to sound grammatically correct in other languages. This becomes a particularly severe problem when a string doesn’t include a placeholder because it’s assumed to be concatenated at the beginning or the end of the string, such as this:</p><p><code>&quot;is currently categorized as:&quot;</code></p><p>Developers need to make sure to include any placeholders within the string itself, so that translators can easily move them as needed, for instance:</p><p><code>&quot;Distribution of {{botClass}} traffic by IP version&quot;</code></p><p>would look like this in Simplified Chinese (notice how the <code>{{botClass}}</code> placeholder got moved)</p><p><code>&quot;{{botClass}} 流量分布（按 IP 版本）&quot;</code></p>\n    <div class=\"flex anchor relative\">\n      <h3 id=\"string-reuse\">String reuse</h3>\n      <a href=\"#string-reuse\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>As with string concatenation, string reuse (using the same string in more than one place and just swapping out the contents of a placeholder) seems efficient if you’re a developer. A problem arises when translating this into gendered languages, such as most European languages. In Spanish, depending on its position and context, a word as simple as “open” standing by itself, could have all these different translations:</p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3rcU3cH7ZXfsn5bxmx11UG/60e9ebfbec19caed3553e8d3b63828fd/image7.png\" alt=\"\" class=\"kg-image\" width=\"847\" height=\"614\" loading=\"lazy\"/>\n          </figure><p>Other examples are <code>Custom</code>, <code>Detected</code>, or <code>Disabled</code>, which can have different translations depending on their position within a sentence, their location in the UI, depending on whether they accompany a singular, plural, masculine or feminine noun, so <a href=\"https://www.i18next.com/translation-function/plurals#singular-plural\"><u>extra entries</u></a> for these may need to be created in the language files.</p><p>Translators will also need to know what will replace the placeholders in strings like the one below, because the surrounding wording may refer to a term that is masculine, feminine, or neutral (for languages that have those, such as German). If a placeholder could be more than one of these (a masculine noun but also a feminine noun), the translation will become grammatically incorrect in at least some of the cases. In the following example, translators would need to know what <code>{link1}</code> and <code>{link2}</code> will be replaced with, so they know which grammatically correct wording to use around them.</p><p><code>Your use of the URL Scanner is subject to our {{link1}}. Any personal data in a submitted URL will be handled in accordance with our {{link2}}</code>.</p><p>A better way to do this is to have component placeholders and include the text to be translated for context:</p><p><code>Your use of the URL Scanner is subject to our &lt;link1&gt;Online Service Terms of Use&lt;/link1&gt;. Any personal data in a submitted URL will be handled in accordance with our &lt;link2&gt;Privacy Policy&lt;/link2&gt;</code>.</p>\n    <div class=\"flex anchor relative\">\n      <h2 id=\"regional-considerations\">Regional considerations</h2>\n      <a href=\"#regional-considerations\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    \n    <div class=\"flex anchor relative\">\n      <h3 id=\"date-formats\">Date formats</h3>\n      <a href=\"#date-formats\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>Date formats vary greatly from country to country. Not only can’t you assume that all countries use a month/day/year format, but even the day that the week starts may be different based on the country or culture.\n\nHere’s a comparison of Radar’s date picker in American English against European Spanish (which has weeks starting on Mondays instead of Sundays), and against Simplified Chinese (which uses a completely different format for dates).</p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/10dcc7wLFMwNmIeMtHeezb/863c9e61d174f9f647379a146b0d4912/image2.png\" alt=\"\" class=\"kg-image\" width=\"1548\" height=\"600\" loading=\"lazy\"/>\n          </figure><p>Thankfully, developers don’t need to know all the country-specific details, as they can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat\"><u>Intl.DateTimeFormat</u></a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\"><u>Date.toLocaleString()</u></a> for this.</p><p>Intl.DateTimeFormat receives a locale and formatting <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat#date-time_component_options\"><u>options</u></a> that differ from string tokens commonly found on date libraries such as <a href=\"http://day.js\"><u>Day.js</u></a> or <a href=\"https://momentjs.com/\"><u>Moment.js</u></a>. Unless you specifically use the <a href=\"https://day.js.org/docs/en/display/format#localized-formats\"><u>localized string tokens</u></a> on those libraries, the order of the tokens is fixed, along with any characters or delimiters you might add to the format, which poses a problem because the date format parts order should change according to the locale. \n\nIntl.DateTimeFormat handles all that and saves you the trouble of having to add a date formatting dependency to your project and loading library-specific locale resources.</p><p>Here’s an example of a generic React component using Intl.DateTimeFormat and react-i18next. The code below will render the date as “Tue, Oct 1, 2024” for American English (en-US) and as “2024年10月1日(火)” for Japanese (ja-JP).</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">import { useTranslation } from &quot;react-i18next&quot;;\n\nexport default function SomeComponent() {\n  const { i18n } = useTranslation();\n  const date = new Date(&quot;2024-10-01&quot;);\n  return (\n    &lt;time dateTime={date.toISOString()}&gt;\n      {new Intl.DateTimeFormat(i18n.language, {\n        weekday: &quot;short&quot;,\n        month: &quot;short&quot;,\n        year: &quot;numeric&quot;,\n        day: &quot;numeric&quot;,\n      }).format(date)}\n    &lt;/time&gt;\n  );\n}</pre></code>\n            \n    <div class=\"flex anchor relative\">\n      <h3 id=\"number-notations\">Number notations</h3>\n      <a href=\"#number-notations\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>Similarly, different locales use different notations for numbers. In the US and the UK, a period is used as the decimal separator, and a comma as the thousands separator. Instead, other countries use a comma as the decimal separator and a period (or a space) as the thousands separator. Again, it’s not necessary for developers to know all the odds and ends for this, as they can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat\"><u>Intl.NumberFormat</u></a>.</p><p>Here’s an example of a generic React component using Intl.NumberFormat and react-i18next. The code below will render the number as “12,345,678.90” for American English (en-US) and as “12 345 678,90” for Portuguese (pt-PT). Intl.NumberFormat <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#options\"><u>options</u></a> can be passed to format numbers as decimals, percentages, currencies, etc, and specify things like number of decimal places and rounding strategies.</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">import { useTranslation } from &quot;react-i18next&quot;;\n\nexport default function SomeComponent() {\n  const { i18n } = useTranslation();\n  return (\n    &lt;span&gt;{new Intl.NumberFormat(i18n.language, {\n    style: &quot;decimal&quot;,\n    minimumFractionDigits: 2,\n  }).format(12345678.9)}&lt;/span&gt;);\n}</pre></code>\n            <p>As of mid-December, regionalized number formatting is not fully implemented on Radar. We expect this to be complete by the end of Q1 2025.</p>\n    <div class=\"flex anchor relative\">\n      <h3 id=\"list-sorting\">List sorting</h3>\n      <a href=\"#list-sorting\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>When you have a list of items that appears sorted, such as a country list in a dropdown, it’s not enough to simply translate the items. For instance, when translated into Portuguese, “<code>South Africa</code>” becomes “<code>África do Sul</code>”, which means it should then go near the top of the list. Besides that, each language has different sorting requirements, and those go way beyond the A-Z alphabet. For instance, several Asian languages don’t use Latin characters at all, and may get sorted by stroke or <a href=\"https://en.wikipedia.org/wiki/Chinese_character_radicals\"><u>character radical</u></a> order instead.</p>\n          <figure class=\"kg-card kg-image-card\">\n          <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5uOOTu2U3txnxjcVkhI4VI/37af8b29d9537fc56c4c5e23e3504640/image13.png\" alt=\"\" class=\"kg-image\" width=\"1770\" height=\"756\" loading=\"lazy\"/>\n          </figure><p>Here’s an example of a generic React country selector component using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\"><u>String.localeCompare</u></a> and react-i18next. The code below imports a list of countries with name and <a href=\"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\"><u>alpha-2</u></a> code and sorts the options according to the translated country name for the active locale. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Collator/Collator#options\"><u>Intl.Collator options</u></a> can be passed to localeCompare() for specific sorting needs.</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">import { useTranslation } from &quot;react-i18next&quot;;\n\nimport Select from &quot;~/components/Select&quot;;\nimport COUNTRIES from &quot;~/constants/geo&quot;;\n\nexport default function CountrySelector() {\n  const { t, i18n } = useTranslation();\n  const options = COUNTRIES.map(({ name, code }) =&gt; ({\n    label: t(name, { ns: &quot;countries&quot; }),\n    value: code,\n  })).sort((a, b) =&gt; a.label.localeCompare(b.label, i18n.language));\n  return &lt;Select options={options} onChange={(option) =&gt; { /* do something */ }} /&gt;;\n}</pre></code>\n            \n    <div class=\"flex anchor relative\">\n      <h2 id=\"api-localization\">API localization</h2>\n      <a href=\"#api-localization\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>Many of the Radar screens and reports include output from Cloudflare or third-party APIs. Unfortunately, the vast majority of these APIs only output English content. When combining that with the translated part of the site, it may give the impression of a poorly localized site.</p><p>To solve this, we take API outputs and map everything into <a href=\"https://react.i18next.com/guides/multiple-translation-files\"><u>separate files</u></a>, translate all possible messages, and then display that instead of the original output. But as APIs evolve over time and new messages are added, or existing ones get changed, keeping up with these translations becomes an endless game of “<a href=\"https://en.wikipedia.org/wiki/Whac-A-Mole\"><u>whac-a-mole</u></a>&quot;.</p>\n            <pre class=\"language-RUST\"><code class=\"language-RUST\">&quot;Address unreachable error when attempting to load page&quot;: &quot;Error de dirección inaccesible al intentar cargar la página&quot;,\n&quot;Authentication failed&quot;: &quot;Autenticación fallida&quot;,\n&quot;Browser did not fully start before timeout&quot;: &quot;El navegador no se ha iniciado por completo antes de agotar el tiempo de espera.&quot;,\n&quot;Certificate and/or SSL error when attempting to load page&quot;: &quot;Error de certificado y/o SSL al intentar cargar la página&quot;,\n&quot;Crawl took too long to finish&quot;: &quot;El rastreo ha tardado demasiado en completarse.&quot;,\n&quot;DNS resolution failed&quot;: &quot;Error de resolución de DNS&quot;,\n&quot;Network connection aborted.&quot;: &quot;Conexión de red cancelada&quot;</pre></code>\n            <p>It should be a best practice for APIs to accept a locale parameter or header, and for engineers to have multiple languages in mind when building these APIs, even if it’s just the error messages. That could save time and resources for any number of clients they might have.</p>\n    <div class=\"flex anchor relative\">\n      <h2 id=\"project-setup\">Project setup</h2>\n      <a href=\"#project-setup\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>Radar is a <a href=\"https://remix.run/\"><u>Remix</u></a> project running on <a href=\"https://pages.cloudflare.com/\"><u>Cloudflare Pages</u></a>. While researching ways to implement internationalization, we came across this Remix <a href=\"https://remix.run/blog/remix-i18n\"><u>blog post</u></a>, and after some experimenting, we decided to go with Sergio Xalambrí’s <a href=\"https://github.com/sergiodxa/remix-i18next\"><u>remix-i18next</u></a>. We mostly followed the installation instructions found on the repo, with some changes.</p><p>We have multiple translation files on every locale folder, one for each data source, to help us maintain strings that come from APIs. Each file can be used to create a namespace for translations, to avoid key collisions, and also to be loaded separately as needed for each route or component.</p><p>On remix-i18next’s instructions, you’ll find the concept of backend plugins to achieve the loading of these files, except that you cannot use <a href=\"https://github.com/i18next/i18next-fs-backend\"><u>i18next-fs-backend</u></a> with Cloudflare Pages because there’s no access to the filesystem. To solve that we used the <i>resources</i> approach, similar to what can be found on this sample <a href=\"https://github.com/sergiodxa/remix-vite-i18next\"><u>remix-i18next with vite</u></a> setup, but we didn’t want to have to maintain the resources dictionary each time we add new namespaces, so <a href=\"https://vite.dev/guide/features#glob-import\"><u>vite’s Glob imports</u></a> came in handy:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">import { serverOnly$ } from &quot;vite-env-only/macros&quot;;\n\nexport const resources = serverOnly$(\n  Object.entries(import.meta.glob(&quot;./*/*.json&quot;, { import: &quot;default&quot; })).reduce(\n    (acc, [path, module]) =&gt; {\n      const parts = path.split(&quot;/&quot;).slice(1);\n      const locale = parts[0];\n      const namespace = parts[1].split(&quot;.&quot;)[0];\n      if (!acc[locale]) acc[locale] = {};\n      if (!acc[locale][namespace]) acc[locale][namespace] = {};\n      module().then((value) =&gt; (acc[locale][namespace] = value));\n      return acc;\n    },\n    {},\n  ),\n)!;</pre></code>\n            <p>This creates a <a href=\"https://github.com/pcattori/vite-env-only?tab=readme-ov-file#serveronly\"><u>server-side only</u></a> resources dictionary by importing all JSON files in the locales folder to be passed as the resources property for the i18next configuration in Remix’s <a href=\"https://remix.run/docs/en/main/file-conventions/entry.server\"><u>entry.server.tsx</u></a>.</p><p>To load namespaces on the client side, we created a Remix <a href=\"https://remix.run/docs/en/main/guides/resource-routes#creating-resource-routes\"><u>resource route</u></a> that uses the resources dictionary and responds with the namespace object of the requested locale:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">import { LoaderFunctionArgs } from &quot;@remix-run/server-runtime&quot;;\n\nimport { resources } from &quot;~/i18n&quot;;\n\nexport async function loader({ params }: LoaderFunctionArgs) {\n  const { locale, namespace } = params;\n  return resources[locale]?.[namespace] || {};\n}</pre></code>\n            <p>You can then use the <a href=\"https://github.com/i18next/i18next-http-backend\"><u>i18next-http-backend</u></a> or <a href=\"https://github.com/dotcore64/i18next-fetch-backend\"><u>i18next-fetch-backend</u></a> backend plugins for the i18next configuration in Remix’s <a href=\"https://remix.run/docs/en/main/file-conventions/entry.client\"><u>entry.client.tsx</u></a>:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">import i18next from &quot;i18next&quot;;\nimport i18nextHttpBackend from &quot;i18next-http-backend&quot;;\nimport { initReactI18next } from &quot;react-i18next&quot;;\nimport { getInitialNamespaces } from &quot;remix-i18next/client&quot;;\nimport { options } from “~/i18n”;\n  \nawait i18next\n    .use(initReactI18next)\n    .use(i18nextHttpBackend)\n    .init({\n      ...options,\n      ns: getInitialNamespaces(),\n      backend: { loadPath: &quot;/api/i18n/{{lng}}/{{ns}}&quot; },\n    });</pre></code>\n            <p>Default namespaces are defined with the <i>defaultNS</i> config property:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">export const defaultNS = [&quot;main&quot;, &quot;countries&quot;];</pre></code>\n            <p>Additional namespaces to be used for each route can be defined through Remix’s <a href=\"https://remix.run/docs/en/main/route/handle\"><u>handle export</u></a>:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">export const handle = {\n  i18n: [&quot;url-scanner&quot;, &quot;domain-categories&quot;],\n};</pre></code>\n            <p>Namespaces on the server side get picked up by the <i>getRouteNamespaces</i> function on entry.server.tsx:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">const ns = i18n.getRouteNamespaces(remixContext);</pre></code>\n            <p>On the client-side, examples suggested that you’d have to declare the namespaces on each <i>useTranslation()</i> hook instance, but we worked around that in Remix’s <a href=\"https://remix.run/docs/en/main/file-conventions/root\"><u>root.tsx</u></a> file:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">import { useLocation, useMatches } from &quot;@remix-run/react&quot;;\nimport { useTranslation } from &quot;react-i18next&quot;;\nimport { defaultNS } from “~/i18n”;\n\nexport function Layout({ children }) {\n  const location = useLocation();\n  const matches = useMatches();\n  const handle = matches?.find((m) =&gt; m.pathname === location.pathname)?.handle || {};\n  useTranslation([...new Set([...defaultNS, ...(handle.i18n || [])])]);\n  ...\n}</pre></code>\n            <p>This causes the client-side plugin to make calls to the resource route and load the required namespaces.</p><p>We also wanted to have the locale in the URL pathname, but not for the default language, so Remix’s <a href=\"https://remix.run/docs/en/main/file-conventions/routes#optional-segments\"><u>optional segments</u></a> allowed us to do just that. remix-i18next does not have URL locale detection by default, but you can provide your own <a href=\"https://github.com/sergiodxa/remix-i18next?tab=readme-ov-file#finding-the-locale-from-the-request-url-pathname\"><u>findLocale function</u></a> that will receive the request as an argument, and you can then parse the request URL to extract the locale.</p>\n    <div class=\"flex anchor relative\">\n      <h2 id=\"search-engine-optimization\">Search engine optimization</h2>\n      <a href=\"#search-engine-optimization\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>Once you set up your project for internationalization, you can inform search engines of <a href=\"https://developers.google.com/search/docs/specialty/international/localized-versions\"><u>localized versions of your pages</u></a>. This allows search engines to display localized results of your website in the same language that is being searched.</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">&lt;head&gt;\n  ...\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/&quot; hreflang=&quot;en-US&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/de-de&quot; hreflang=&quot;de-DE&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/es-es&quot; hreflang=&quot;es-ES&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/es-la&quot; hreflang=&quot;es-LA&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/fr-fr&quot; hreflang=&quot;fr-FR&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/it-it&quot; hreflang=&quot;it-IT&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/ja-jp&quot; hreflang=&quot;ja-JP&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/ko-kr&quot; hreflang=&quot;ko-KR&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/pt-br&quot; hreflang=&quot;pt-BR&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/pt-pt&quot; hreflang=&quot;pt-PT&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/zh-cn&quot; hreflang=&quot;zh-CN&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/zh-tw&quot; hreflang=&quot;zh-TW&quot;&gt;\n  &lt;link rel=&quot;alternate&quot; href=&quot;https://radar.cloudflare.com/&quot; hreflang=&quot;x-default&quot;&gt;\n  &lt;link rel=&quot;canonical&quot; href=&quot;https://radar.cloudflare.com/&quot;&gt;\n  ...\n&lt;/head&gt;</pre></code>\n            <p>You should also localize page titles, descriptions, and relevant <a href=\"https://ogp.me/\"><u>Open Graph</u></a> metadata. To achieve this with Remix and remix-i18next, you use the <a href=\"https://github.com/sergiodxa/remix-i18next?tab=readme-ov-file#translating-text-inside-loaders-or-actions\"><u>getFixedT</u></a> method in route loaders to resolve the translations and return data for the <a href=\"https://remix.run/docs/en/main/route/meta\"><u>meta export</u></a>:</p>\n            <pre class=\"language-JavaScript\"><code class=\"language-JavaScript\">import type { LoaderFunctionArgs, MetaArgs } from &quot;@remix-run/server-runtime&quot;;\nimport i18n from &quot;~/i18next.server&quot;;\n\nexport async function loader({ request }: LoaderFunctionArgs) {\n  const t = await i18n.getFixedT(request);\n  return {\n    meta: {\n      title: t(&quot;meta.about.title&quot;),\n      description: t(&quot;meta.about.description&quot;),\n      url: request.url,\n    },\n  };\n}\n\nexport const meta = ({ data }: MetaArgs&lt;typeof loader&gt;) =&gt; data.meta;</pre></code>\n            <p>If you are defining default meta tags in parent routes you may also need to <a href=\"https://remix.run/docs/ru/main/route/meta#merging-with-parent-meta\"><u>merge the meta objects</u></a>.</p>\n    <div class=\"flex anchor relative\">\n      <h2 id=\"conclusion\">Conclusion</h2>\n      <a href=\"#conclusion\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n      </a>\n    </div>\n    <p>There is hardly ever an absolute when dealing with languages. Your Spanish, your French, your Japanese will be different from someone else’s, even if you grew up next door to each other. Family, education, environment, relationships will season and give color to your language. It is like a family recipe — it’s unique, it feels like home and it’s not negotiable. It does not make it better or worse, it just makes it yours. And yours will always be different from other languages.</p><p>Localization is hard. We have seen that there are many things that can and will go sideways, and there are many unknowns that bubble up to the surface in the process. It can also make a product better, as it stress tests the product’s code and design. A tight relationship between the globalization and Radar teams helped make our efforts go more smoothly. In addition, our translators stepped up to the challenge, familiarizing themselves with Radar, analyzing the English content, finding the right translation that will not only resonate with the audience but also fit in the space allotted, constantly checking for context, previous translations, consistency, industry standards, adapting to style guides, tone, and messaging, and after all of that, ultimately acknowledging the fact that there will be people who will disagree (to varying levels of zeal) with their choice of words.</p><p>If you haven’t done so already, we encourage you to explore the localized versions of <a href=\"https://radar.cloudflare.com/\">Cloudflare Radar</a>. Click the language drop-down in the upper right corner of the Radar interface and select your language of choice — Radar will be presented in that language until a new selection is made. Have comments or suggestions about the translations? Let us know at radar_localization@cloudflare.com.</p>",
		"id": "6mJPdu3FUGFiIg7e0UMXr6",
		"localeList": {
			"name": "Internationalization and localization: bringing Cloudflare Radar to a global audience: Loc",
			"enUS": "English for Locale",
			"zhCN": "Translated for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "Translated for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "No Page for Locale",
			"koKR": "No Page for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": "Internationalization and localization require more than translation: tone, images, date/time and number formatting, among other items, need to be considered. The strong collaboration between the localization and Radar dev teams was key to successfully tailoring content to accommodate regional differences.",
		"metadata": {
			"title": "Internationalization and localization: bringing Cloudflare Radar to a global audience",
			"description": "Internationalization and localization require more than translation: tone, images, date/time and number formatting, among other items, need to be considered. The strong collaboration between the localization and Radar dev teams was key to successfully tailoring content to accommodate regional differences.",
			"imgPreview": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3KzRfuAuUCXl6WncXAJJwH/32b7fb879a4b4f26414c6714f70a35b9/Internationalization_and_localization-_bringing_Cloudflare_Radar_to_a_global_audience-OG.png"
		},
		"primary_author": {},
		"publicly_index": true,
		"published_at": "2024-12-16T14:00+00:00",
		"slug": "cloudflare-radar-localization-journey",
		"tags": [
			{
				"id": "5kZtWqjqa7aOUoZr8NFGwI",
				"name": "Radar",
				"slug": "cloudflare-radar"
			},
			{
				"id": "78aSAeMjGNmCuetQ7B4OgU",
				"name": "JavaScript",
				"slug": "javascript"
			},
			{
				"id": "4Q2EPwJDKGOtxg97VVbme6",
				"name": "Radar Maps",
				"slug": "radar-maps"
			},
			{
				"id": "4Bxs1aM0hus2gdp4Q1U8DZ",
				"name": "Localization",
				"slug": "localization"
			}
		],
		"title": "Internationalization and localization: bringing Cloudflare Radar to a global audience",
		"updated_at": "2024-12-27T02:23:28.341Z",
		"url": "https://blog.cloudflare.com/cloudflare-radar-localization-journey"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"search.clear": "Clear",
		"search.filter": "Filter",
		"search.source": "Source",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"search.filters": "Filters",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"search.language": "Language",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"search.result_stat": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong> for <strong>{search_keyword}</strong>",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"search.icon_aria_label": "Search",
		"search.source_location": "Source/Location",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"search.result_stat_empty": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong>",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"search.autocomplete_title": "Insert a query. Press enter to send",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}