{
	"initialReadingTime": "2",
	"locale": "en-us",
	"localesAvailable": [
		"zh-cn",
		"zh-tw",
		"ja-jp",
		"ko-kr"
	],
	"post": {
		"authors": [
			{
				"name": "Phil Wittig",
				"slug": "phil",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/2FbDE6kgoEtV8l8hu6W85e/3c850fd469701df21d21153b59953a53/phil.jpeg",
				"location": null,
				"website": null,
				"twitter": "@pdwittig",
				"facebook": null
			}
		],
		"excerpt": "We're thrilled to announce that Stable Diffusion and Code Llama are now available as part of Workers AI, running in over 100 cities across Cloudflare’s global network.",
		"feature_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/r9uTiIz51oA6BFvl2zUur/b12f59c69aad7752b59b855b4287b9d0/workers-ai-update-stable-diffusion-code-llama-workers-ai-in-100-cities.png",
		"featured": false,
		"html": "<p></p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/4JrMurER3IHj2JNpysSWao/992e95d01f2e7a06fb6c45a4e47145a6/image3-1.png\" alt=\"Workers AI Update: Stable Diffusion, Code Llama + Workers AI in 100 cities\" class=\"kg-image\" width=\"1999\" height=\"1125\" loading=\"lazy\"/>\n            \n            </figure><p>Thanksgiving might be a US holiday (and one of our favorites — we have many things to be thankful for!). Many people get excited about the food or deals, but for me as a developer, it’s also always been a nice quiet holiday to hack around and play with new tech. So in that spirit, we&#39;re thrilled to announce that <b>Stable Diffusion</b> and <b>Code Llama</b> are now available as part of Workers AI, running in over 100 cities across Cloudflare’s global network.</p><p>As many AI fans are aware, Stable Diffusion is the groundbreaking image-generation model that can conjure images based on text input. Code Llama is a powerful language model optimized for generating programming code.</p><p>For more of the fun details, read on, or head over to the <a href=\"https://developers.cloudflare.com/workers-ai/models/\">developer docs</a> to get started!</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/5AzwupJ50F4zr9X3DrfIIA/63880b4fe4417d42f55cf5936b4e0a24/image2-3.png\" alt=\"\" class=\"kg-image\" width=\"1024\" height=\"1024\" loading=\"lazy\"/>\n            \n            </figure><p><i>Generated by Stable Diffusion - “Happy llama in an orange cloud celebrating thanksgiving”</i></p><h3>Generating images with Stable Diffusion</h3><p>Stability AI launched Stable Diffusion XL 1.0 (SDXL) this past summer. You can read more about it <a href=\"https://stability.ai/news/stable-diffusion-public-release\">here</a>, but we’ll briefly mention some really cool aspects.</p><p>First off, “Distinct images can be prompted without having any particular ‘feel’ imparted by the model, ensuring absolute freedom of style”. This is great as it gives you a blank canvas as a developer, or should I say artist.</p><p>Additionally, it’s “particularly well-tuned for vibrant and accurate colors, with better contrast, lighting, and shadows than its predecessor, all in native 1024x1024 resolution.” With the advancements in today&#39;s cameras (or phone cameras), quality images are table stakes, and it’s nice to see these models keeping up.</p><p>Getting started with Workers AI + SDXL (via <a href=\"https://developers.cloudflare.com/workers-ai/models/text-to-image/\">API</a>) couldn’t be easier. Check out the example below:</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">curl -X POST \\\n&quot;https://api.cloudflare.com/client/v4/accounts/{account-id}/ai/run/@cf/stabilityai/stable-diffusion-xl-base-1.0&quot; \\\n-H &quot;Authorization: Bearer {api-token}&quot; \\\n-H &quot;Content-Type:application/json&quot; \\\n-d &#039;{ &quot;prompt&quot;: &quot;A happy llama running through an orange cloud&quot; }&#039; \\\n-o &#039;happy-llama.png&#039;</pre></code>\n            <p>And here is our happy llama:</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/6JaekijEHB7yBo5UgRQqUf/d98d94c9f2a4da6e6b1373e490299bf4/image1-9.png\" alt=\"\" class=\"kg-image\" width=\"1024\" height=\"1024\" loading=\"lazy\"/>\n            \n            </figure><p>You can also do this in a <a href=\"https://developers.cloudflare.com/workers-ai/models/text-to-image/\">Worker</a>:</p>\n            <pre class=\"language-javascript\"><code class=\"language-javascript\">import { Ai } from &#039;@cloudflare/ai&#039;;\nexport default {\n  async fetch(request, env) {\n    const ai = new Ai(env.AI);\n    const response = await ai.run(&#039;@cf/stabilityai/stable-diffusion-xl-base-1.0&#039;, {\n      prompt: &#039;A happy llama running through an orange cloud&#039;\n    });\n    return new Response(response, {\n      headers: {\n          &quot;content-type&quot;: &quot;image/png&quot;,\n      },\n  });\n  }\n}</pre></code>\n            <h3>Generate code with Code Llama</h3><p>If you’re not into generating art, then maybe you can have some fun with code. Code Llama, which was also released this last summer by Meta, is built on top of Llama 2, but optimized to understand and generate code in many popular languages (Python, C++, Java, PHP, Typescript / Javascript, C#, and Bash).</p><p>You can use it to help you generate code for a tough problem you&#39;re faced with, or you can also use it to help you understand code — perfect if you are picking up an existing, unknown codebase.</p><p>And just like all the other models, generating code with Workers AI is really easy.</p><p>From a Worker:</p>\n            <pre class=\"language-javascript\"><code class=\"language-javascript\">import { Ai } from &#039;@cloudflare/ai&#039;;\n\n// Enable env.AI for your worker by adding the ai binding to your wrangler.toml file:\n// [ai]\n// binding = &quot;AI&quot;\n\nexport default {\n  async fetch(request, env) {\n    const ai = new Ai(env.AI);\n    const response = await ai.run(&#039;@hf/thebloke/codellama-7b-instruct-awq&#039;, {\n      prompt: &#039;In JavaScript, define a priority queue class. The constructor must take a function that is called on each object to determine its priority.&#039;\n    });\n    return Response.json(response);\n  }\n}</pre></code>\n            <p>Using curl:</p>\n            <pre class=\"language-curl\"><code class=\"language-curl\">curl -X POST \\\n&quot;https://api.cloudflare.com/client/v4/accounts/{account-id}/ai/run/@hf/thebloke/codellama-7b-instruct-awq&quot; \\\n\n-H &quot;Authorization: Bearer {api-token}&quot; \\-H &quot;Content-Type: application/json&quot; \\\n-d &#039;{ &quot;prompt&quot;: &quot;In JavaScript, define a priority queue class. The constructor must take a function that is called on each object to determine its priority.&quot; }</pre></code>\n            <p>Using python:</p>\n            <pre class=\"language-python\"><code class=\"language-python\">#!/usr/bin/env python3\n\nimport json\nimport os\nimport requests\n\nACCOUNT_ID=os.environ[&quot;ACCOUNT_ID&quot;]\nAPI_TOKEN=os.environ[&quot;API_TOKEN&quot;]\nMODEL=&quot;@hf/thebloke/codellama-7b-instruct-awq&quot;\n\nprompt=&quot;&quot;&quot;In JavaScript, define a priority queue class. The constructor must take a function that is called on each object to determine its priority.&quot;&quot;&quot;\nurl = f&quot;https://api.cloudflare.com/client/v4/accounts/{ACCOUNT_ID}/ai/run/{MODEL}&quot;\nheaders = {\n  &quot;Authorization&quot;: f&quot;Bearer {API_TOKEN}&quot;\n}\npayload = json.dumps({\n  &quot;prompt&quot;: prompt\n})\n\nprint(url)\nr = requests.post(url, data=payload, headers=headers)\n\nj = r.json()\nif &quot;result&quot; in j and &quot;response&quot; in j[&quot;result&quot;]:\n   print(r.json()[&quot;result&quot;][&quot;response&quot;])\nelse:\n   print(json.dumps(j, indent=2))</pre></code>\n            <h3>Workers AI inference now available in 100 cities</h3><p>When we <a href=\"/workers-ai/\">first released Workers AI</a> back in September we launched with inference running in seven cities, but set an ambitious target to support Workers AI inference in 100 cities by the end of the year, and nearly everywhere by the end of 2024. We’re proud to say that we’re ahead of schedule and now support Workers AI Inference in 100 cities thanks to some awesome, hard-working folks across multiple teams. For developers this means that your inference tasks are more likely to run near your users, and it will only continue to improve over the next 18 months.</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/7evaAyyQ5hOg4LfGD07jZo/8dc4e22e9c5946e145cedd9cf96798f2/image4-1.png\" alt=\"\" class=\"kg-image\" width=\"1801\" height=\"1013\" loading=\"lazy\"/>\n            \n            </figure><h3>Mistral, in case you missed it</h3><p>Lastly, in case you didn’t see our other update earlier this week, we also launched Mistral 7B, a super capable and powerful language model that packs a punch for its size. You can read more about it <a href=\"/workers-ai-update-hello-mistral-7b/\">here</a>, or start building with it <a href=\"https://developers.cloudflare.com/workers-ai/models/text-generation/\">here</a>.</p><h3>Go forth and build something fun</h3><p>Today we gave you images (art), code, and Workers AI inference running in more cities. Please go have fun, build something cool, and if you need help, want to give feedback, or want to share what you’re building just pop into our <a href=\"https://discord.com/invite/cloudflaredev\">Developer Discord</a>!</p><h3>Happy Thanksgiving!</h3><p>Additionally, if you’re just getting started with AI, we’ll be offering a series of developer workshops ranging from understanding the basics such as embeddings, models and vector databases, getting started with LLMs on Workers AI and more. We encourage you to <a href=\"https://www.cloudflare.com/lp/ai-developer-workshop/\">sign up here</a>.</p>",
		"id": "6q0MD0Y6GiJ9b4fkZt88xA",
		"localeList": {
			"name": "Workers AI Update: Stable Diffusion, Code Llama + Workers AI in 100 cities Config",
			"enUS": "English for Locale",
			"zhCN": "Translated for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "Translated for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "Translated for Locale",
			"koKR": "Translated for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": "we're thrilled to announce that Stable Diffusion and Code Llama are now available as part of Workers AI, running in over 100 cities across Cloudflare’s global network.",
		"metadata": {
			"title": "Workers AI Update: Stable Diffusion, Code Llama + Workers AI in 100 cities",
			"description": "we're thrilled to announce that Stable Diffusion and Code Llama are now available as part of Workers AI, running in over 100 cities across Cloudflare’s global network.",
			"imgPreview": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/26MauPMVjGzM75s7sHPN1Z/ca511e6fe069aecead7af2b079f30d19/workers-ai-update-stable-diffusion-code-llama-workers-ai-in-100-cities-El4HGM.png"
		},
		"primary_author": {},
		"published_at": "2023-11-23T14:00:30.000+00:00",
		"slug": "workers-ai-update-stable-diffusion-code-llama-workers-ai-in-100-cities",
		"tags": [
			{
				"id": "1Wf1Dpb2AFicG44jpRT29y",
				"name": "Workers AI",
				"slug": "workers-ai"
			},
			{
				"id": "6hbkItfupogJP3aRDAq6v8",
				"name": "Cloudflare Workers",
				"slug": "workers"
			}
		],
		"title": "Workers AI Update: Stable Diffusion, Code Llama + Workers AI in 100 cities",
		"updated_at": "2024-08-27T01:02:45.330Z",
		"url": "https://blog.cloudflare.com/workers-ai-update-stable-diffusion-code-llama-workers-ai-in-100-cities"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.blurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}