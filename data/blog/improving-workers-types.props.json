{
	"footerBlurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
	"initialReadingTime": "4",
	"locale": "en-us",
	"localesAvailable": [
		"zh-cn",
		"zh-tw",
		"fr-fr",
		"de-de",
		"ja-jp",
		"pt-br",
		"es-es"
	],
	"post": {
		"authors": [
			{
				"name": "Brendan Coll",
				"slug": "brendan-coll",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5HxsE0M7scLF33HEpNCGmy/454f35a3dcaa8bd132d3fc3d0c1b5dfb/brendan-coll.png",
				"location": null,
				"website": null,
				"twitter": "@_mrbbot",
				"facebook": null,
				"publiclyIndex": true
			}
		],
		"excerpt": "Today, we’re excited to announce the next major release of Workers TypeScript definitions with a bunch of improvements, and the open-sourcing of the new automatic generation scripts.",
		"feature_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2oayDbj9d4PKvca7EtVgK5/37b5298da0a3f493f6a9d0fbeda6d4fb/improving-workers-types.png",
		"featured": false,
		"html": "\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6q7OqfYCQg4hWl6fxHoOq6/308a694c52ae40e073bc40b25e8dbe23/image2-47.png\" alt=\"Improving Workers TypeScript support: accuracy, ergonomics and interoperability\" class=\"kg-image\" width=\"1201\" height=\"676\" loading=\"lazy\"/>\n            \n            </figure><p><a href=\"https://www.typescriptlang.org/\">TypeScript</a> makes it easy for developers to write code that doesn’t crash, by catching type errors before your program runs. We want developers to take advantage of this tooling, which is why one year ago, we <a href=\"/automatically-generated-types/\">built a system to automatically generate TypeScript types</a> for the Cloudflare Workers runtime. This enabled developers to see code completions in their IDEs for Workers APIs, and to type check code before deploying. Each week, <a href=\"https://github.com/cloudflare/workers-types/pull/210\">a new version of the types would be published</a>, reflecting the most recent changes.</p><p>Over the past year, we’ve received lots of feedback from customers and internal teams on how we could improve our types. With the switch to the Bazel build system in <a href=\"/workerd-open-source-workers-runtime/\">preparation for open-sourcing the runtime</a>, we saw an opportunity to rebuild our types to be more accurate, easier to use, and simpler to generate. Today, we’re excited to announce the next major release of <code>@cloudflare/workers-types</code> with a bunch of new features, and the open-sourcing of the <a href=\"https://github.com/cloudflare/workerd/tree/main/types\">fully-rewritten automatic generation scripts</a>.</p>\n          <div class=\"flex anchor relative\">\n            <h3 id=\"how-to-use-typescript-with-workers\">How to use TypeScript with Workers</h3>\n            <a href=\"#how-to-use-typescript-with-workers\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>Setting up TypeScript in Workers is easy! If you’re just getting started with Workers, install <a href=\"https://nodejs.org/\">Node.js</a>, then run <code>npx wrangler init</code> in your terminal to generate a new project. If you have an existing Workers project and want to take advantage of our improved typings, install the latest versions of TypeScript and <code>@cloudflare/workers-types</code> with <code>npm install --save-dev typescript @cloudflare/workers-types@latest</code>, then create a <code>tsconfig.json</code> file with the following contents:</p>\n            <pre class=\"language-json\"><code class=\"language-json\">{\n  &quot;compilerOptions&quot;: {\n    &quot;target&quot;: &quot;esnext&quot;,\n    &quot;module&quot;: &quot;esnext&quot;,\n    &quot;lib&quot;: [&quot;esnext&quot;],\n    &quot;types&quot;: [&quot;@cloudflare/workers-types&quot;]\n  }\n}</pre></code>\n            <p>Your editor will now highlight issues and give you code completions as you type, leading to a less error-prone and more enjoyable developer experience.</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3Q1weJrUhhrrT7QIUkGMIw/c32d14dd8965a8b5598496045ac4fe2b/image3-39.png\" alt=\"\" class=\"kg-image\" width=\"650\" height=\"270\" loading=\"lazy\"/>\n            \n            </figure><p>Editor highlighting incorrect use of <code>set</code> instead of <code>put</code>, and providing code completions</p>\n          <div class=\"flex anchor relative\">\n            <h3 id=\"improved-interoperability-with-standard-types\">Improved interoperability with standard types</h3>\n            <a href=\"#improved-interoperability-with-standard-types\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>Cloudflare Workers implement many of the same runtime APIs as browsers, and we’re working to improve our standards compliance even more with the <a href=\"/introducing-the-wintercg/\">WinterCG</a>. However, there will always be fundamental differences between what browsers and Workers can do. For example, browsers can play audio files, whereas Workers have direct access to Cloudflare’s network for storing globally-distributed data. This mismatch means that the runtime APIs and types provided by each platform are different, which in turn makes it difficult to use Workers types with frameworks, like <a href=\"https://remix.run/\">Remix</a>, that run the same files on the Cloudflare network and in the browser. These files need to be type-checked against <a href=\"https://raw.githubusercontent.com/microsoft/TypeScript/main/lib/lib.dom.d.ts\"><code>lib.dom.d.ts</code></a>, which is incompatible with our types.</p><p>To solve this problem, we now generate a separate version of our types that can be selectively imported, without having to include <code>@cloudflare/workers-types</code> in your <code>tsconfig.json</code>’s <code>types</code> field. Here’s an example of what this looks like:</p>\n            <pre class=\"language-ts\"><code class=\"language-ts\">import type { KVNamespace } from &quot;@cloudflare/workers-types&quot;;\n\ndeclare const USERS_NAMESPACE: KVNamespace;</pre></code>\n            <p>In addition, we automatically generate a diff of our types against TypeScript’s <a href=\"https://raw.githubusercontent.com/microsoft/TypeScript/main/lib/lib.webworker.d.ts\"><code>lib.webworker.d.ts</code></a>. Going forward, we’ll use this to identify areas where we can further improve our spec-compliance.</p>\n          <div class=\"flex anchor relative\">\n            <h3 id=\"improved-compatibility-with-compatibility-dates\">Improved compatibility with compatibility dates</h3>\n            <a href=\"#improved-compatibility-with-compatibility-dates\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>Cloudflare maintains strong backwards compatibility promises for all the APIs we provide. We use <a href=\"https://developers.cloudflare.com/workers/platform/compatibility-dates/\">compatibility flags and dates</a> to make breaking changes in a backwards-compatible way. Sometimes these compatibility flags change the types. For example, the <a href=\"https://developers.cloudflare.com/workers/platform/compatibility-dates#global-navigator\"><code>global_navigator</code></a> flag adds a new <code>navigator</code> global, and the <a href=\"https://developers.cloudflare.com/workers/platform/compatibility-dates#new-url-parser-implementation\"><code>url_standard</code></a> flag changes the <code>URLSearchParams</code> constructor signature.</p><p>We now allow you to select the version of the types that matches your compatibility date, so you can be sure you’re not using features that won’t be supported at runtime.</p>\n            <pre class=\"language-ts\"><code class=\"language-ts\">{\n  &quot;compilerOptions&quot;: {\n    ...\n    &quot;types&quot;: [&quot;@cloudflare/workers-types/2022-08-04&quot;]\n  }\n}</pre></code>\n            \n          <div class=\"flex anchor relative\">\n            <h3 id=\"improved-integration-with-wrangler\">Improved integration with Wrangler</h3>\n            <a href=\"#improved-integration-with-wrangler\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>In addition to compatibility dates, your Worker environment configuration also impacts the runtime and type API surface. If you have bindings such as <a href=\"https://developers.cloudflare.com/workers/wrangler/configuration/#kv-namespaces\">KV namespaces</a> or <a href=\"https://developers.cloudflare.com/workers/wrangler/configuration/#r2-buckets\">R2 buckets</a> configured in your <code>wrangler.toml</code>, these need to be reflected in TypeScript types. Similarly, <a href=\"https://developers.cloudflare.com/workers/wrangler/configuration/#bundling\">custom text, data and WebAssembly module rules</a> need to be declared so TypeScript knows the types of exports. Previously, it was up to you to create a separate ambient TypeScript file containing these declarations.</p><p>To keep <code>wrangler.toml</code> as the single source of truth, you can now run <code>npx wrangler types</code> to generate this file automatically.</p><p>For example, the following <code>wrangler.toml</code>…</p>\n            <pre class=\"language-toml\"><code class=\"language-toml\">kv_namespaces = [{ binding = &quot;MY_NAMESPACE&quot;, id = &quot;...&quot; }]\nrules = [{ type = &quot;Text&quot;, globs = [&quot;**/*.txt&quot;] }]</pre></code>\n            <p>…generates these ambient types:</p>\n            <pre class=\"language-ts\"><code class=\"language-ts\">interface Env {\n  MY_NAMESPACE: KVNamespace;\n}\ndeclare module &quot;*.txt&quot; {\n  const value: string;\n  export default value;\n}</pre></code>\n            \n          <div class=\"flex anchor relative\">\n            <h3 id=\"improved-integrated-documentation-and-changelogs\">Improved integrated documentation and changelogs</h3>\n            <a href=\"#improved-integrated-documentation-and-changelogs\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>Code completions provide a great way for developers new to the Workers platform to explore the API surface. We now include the documentation for standard APIs from TypeScript’s official types in our types. We’re also starting the process of bringing <a href=\"https://developers.cloudflare.com/workers/runtime-apis/\">docs for Cloudflare specific APIs</a> into them too.</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4N4SjX4uCcnhULQ6BeRfD9/d678d5a385b812670f70f331796c3fcc/image4-27.png\" alt=\"docs in types shown with code completions\" class=\"kg-image\" width=\"477\" height=\"141\" loading=\"lazy\"/>\n            \n            </figure><p>For developers already using the Workers platform, it can be difficult to see how types are changing with each release of <code>@cloudflare/workers-types</code>. To avoid type errors and highlight new features, we now generate a detailed changelog with each release that <a href=\"https://github.com/cloudflare/workers-types/pull/291#issuecomment-1274541965\">splits out new, changed and removed definitions</a>.</p>\n          <div class=\"flex anchor relative\">\n            <h3 id=\"how-does-type-generation-work-under-the-hood\">How does type generation work under the hood?</h3>\n            <a href=\"#how-does-type-generation-work-under-the-hood\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>As mentioned earlier, we’ve completely rebuilt the <a href=\"https://github.com/cloudflare/workerd/tree/main/types\">automatic type generation scripts</a> to be more reliable, extensible and maintainable. This means developers will get improved types as soon as new versions of the runtime are published. Our system now uses <code>workerd</code>’s new <a href=\"https://github.com/cloudflare/workerd/blob/200ded3d8469371f9ece6a00d4012e26637e5abc/src/workerd/jsg/rtti.h\">runtime-type-information (RTTI) system</a> to query types of Workers runtime APIs, rather than attempting to extract this information from parsed C++ ASTs.</p>\n            <pre class=\"language-cpp\"><code class=\"language-cpp\">// Encode the KV namespace type without any compatibility flags enabled\nCompatibilityFlags::Reader flags = {};\nauto builder = rtti::Builder(flags);\nauto type = builder.structure&lt;KvNamespace&gt;();\ncapnp::TextCodec codec;\nauto encoded = codec.encode(type);\nKJ_DBG(encoded); // (name = &quot;KvNamespace&quot;, members = [ ... ], ...)</pre></code>\n            <p>We then pass this RTTI to a TypeScript program that uses the <a href=\"https://github.com/microsoft/TypeScript/wiki/Using-the-Compiler-API\">TypeScript Compiler API</a> to generate declarations and perform AST transformations to tidy them up. This is built into <code>workerd</code>’s Bazel build system, meaning generating types is now a single <code>bazel build //types:types</code> command. We leverage Bazel’s cache to rebuild as little as possible during generation.</p>\n            <pre class=\"language-ts\"><code class=\"language-ts\">import ts, { factory as f } from &quot;typescript&quot;;\n\nconst keyParameter = f.createParameterDeclaration(\n  /* decorators */ undefined,\n  /* modifiers */ undefined,\n  /* dotDotDotToken */ undefined,\n  &quot;key&quot;,\n  /* questionToken */ undefined,\n  f.createTypeReferenceNode(&quot;string&quot;)\n);\nconst returnType = f.createTypeReferenceNode(&quot;Promise&quot;, [\n  f.createUnionTypeNode([\n    f.createTypeReferenceNode(&quot;string&quot;),\n    f.createLiteralTypeNode(f.createNull()),\n  ]),\n]);\nconst getMethod = f.createMethodSignature(\n  /* modifiers */ undefined,\n  &quot;get&quot;,\n  /* questionToken */ undefined,\n  /* typeParameters */ undefined,\n  [keyParameter],\n  returnType\n);\nconst kvNamespace = f.createInterfaceDeclaration(\n  /* decorators */ undefined,\n  /* modifiers */ undefined,\n  &quot;KVNamespace&quot;,\n  /* typeParameters */ undefined,\n  /* heritageClauses */ undefined,\n  [getMethod]\n);\n\nconst file = ts.createSourceFile(&quot;file.ts&quot;, &quot;&quot;, ts.ScriptTarget.ESNext);\nconst printer = ts.createPrinter();\nconst output = printer.printNode(ts.EmitHint.Unspecified, kvNamespace, file);\nconsole.log(output); // interface KVNamespace { get(key: string): Promise&lt;string | null&gt;; }</pre></code>\n            \n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6d9euawkfvZmWDJeIRw0Yn/b0a19f0287fc55c2b869b0ee56c71a81/image1-64.png\" alt=\"new automatic type generation architecture\" class=\"kg-image\" width=\"1102\" height=\"758\" loading=\"lazy\"/>\n            \n            </figure><p>Whilst the auto-generated types <i>correctly</i> describe the JavaScript interface of Workers runtime APIs, TypeScript provides additional features we can use to provide <i>higher-fidelity</i> types and improve developer ergonomics. Our system allows us to handwrite partial TypeScript “overrides” that get merged with the auto-generated types. This enables us to…</p><ul><li><p>Add type parameters (generics) to types such as <a href=\"https://github.com/cloudflare/workerd/blob/aad867dfbaf6293fce9af70e08f82e1aa07dbdd5/src/workerd/api/streams/readable.h#L300-L318\"><code>ReadableStream</code></a> and avoid <code>any</code> typed values.</p></li><li><p>Specify the correspondence between input and output types with method overloads. For example, <a href=\"https://github.com/cloudflare/workerd/blob/aad867dfbaf6293fce9af70e08f82e1aa07dbdd5/src/workerd/api/kv.h#L117-L125\"><code>KVNamespace#get()</code></a> should return a <code>string</code> when the <code>type</code> argument is <code>text</code>, but <code>ArrayBuffer</code> when it’s <code>arrayBuffer</code>.</p></li><li><p>Rename types to match TypeScript standards and reduce verbosity.</p></li><li><p>Fully-replace a type for more accurate declarations. For example, we replace <a href=\"https://github.com/cloudflare/workerd/blob/aad867dfbaf6293fce9af70e08f82e1aa07dbdd5/src/workerd/api/web-socket.h#L384-L406\"><code>WebSocketPair</code></a> with a <code>const</code> declaration for better types with <code>Object.values()</code>.</p></li><li><p>Provide types for values that are internally untyped such as the <code>Request#cf</code> object.</p></li><li><p>Hide internal types that aren’t usable in your workers.</p></li></ul><p>Previously, these overrides were defined in separate TypeScript files to the C++ declarations they were overriding. This meant they often fell out-of-sync with the original declarations. In the new system, overrides are defined alongside the originals with C++ macros, meaning they can be reviewed alongside runtime implementation changes. See the <a href=\"https://github.com/cloudflare/workerd/blob/aad867dfbaf6293fce9af70e08f82e1aa07dbdd5/src/workerd/jsg/README.md#typescript\">README for <code>workerd</code>’s JavaScript glue code</a> for many more details and examples.</p>\n          <div class=\"flex anchor relative\">\n            <h3 id=\"try-typing-with-workers-types-today\">Try typing with workers-types today!</h3>\n            <a href=\"#try-typing-with-workers-types-today\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>We encourage you to upgrade to the latest version of <code>@cloudflare/workers-types</code> with <code>npm install --save-dev @cloudflare/workers-types@latest</code>, and try out the new <code>wrangler types</code> command. We’ll be publishing a new version of the types with each <code>workerd</code> release. Let us know what you think on the <a href=\"https://discord.gg/cloudflaredev\">Cloudflare Developers Discord</a>, and please <a href=\"https://github.com/cloudflare/workerd/issues/new\">open a GitHub issue</a> if you find any types that could be improved.</p>",
		"id": "7eNVYoR4NxTj3mypa2LM7U",
		"localeList": {
			"name": "Improving Workers TypeScript support: accuracy, ergonomics and interoperability Config",
			"enUS": "English for Locale",
			"zhCN": "Translated for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "Translated for Locale",
			"frFR": "Translated for Locale",
			"deDE": "Translated for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "Translated for Locale",
			"koKR": "No Page for Locale",
			"ptBR": "Translated for Locale",
			"esLA": "No Page for Locale",
			"esES": "Translated for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": "Today, we’re excited to announce the next major release of Workers TypeScript definitions with a bunch of improvements, and the open-sourcing of the new automatic generation scripts.",
		"metadata": {
			"title": "Improving Workers TypeScript support: accuracy, ergonomics and interoperability",
			"description": "Today, we’re excited to announce the next major release of Workers TypeScript definitions with a bunch of improvements, and the open-sourcing of the new automatic generation scripts.",
			"imgPreview": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7xlovkGLpYKM5c0Pds6zls/78c2c2279b353d554c6087f9442bad2b/improving-workers-types-fan4Op.png"
		},
		"primary_author": {},
		"publicly_index": true,
		"published_at": "2022-11-18T14:00:00.000+00:00",
		"slug": "improving-workers-types",
		"tags": [
			{
				"id": "2xCnBweKwOI3VXdYsGVbMe",
				"name": "Developer Week",
				"slug": "developer-week"
			},
			{
				"id": "4HIPcb68qM0e26fIxyfzwQ",
				"name": "Developers",
				"slug": "developers"
			},
			{
				"id": "3CHhhmZIu8jnzcZ81VLRUQ",
				"name": "Wrangler",
				"slug": "wrangler"
			}
		],
		"title": "Improving Workers TypeScript support: accuracy, ergonomics and interoperability",
		"updated_at": "2024-10-09T23:21:20.897Z",
		"url": "https://blog.cloudflare.com/improving-workers-types"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"search.clear": "Clear",
		"search.filter": "Filter",
		"search.source": "Source",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"search.filters": "Filters",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"search.language": "Language",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"search.result_stat": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong> for <strong>{search_keyword}</strong>",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"search.icon_aria_label": "Search",
		"search.source_location": "Source/Location",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"search.result_stat_empty": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong>",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"search.autocomplete_title": "Insert a query. Press enter to send",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}