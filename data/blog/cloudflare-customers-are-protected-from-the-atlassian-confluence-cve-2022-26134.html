<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/12/image1-52.png" class="kg-image"></figure>
	<!--kg-card-begin: markdown-->
	<p><small>Updated on 3rd of June: amended information according to Atlassianâ€™s official advisory update.</small></p>
	<!--kg-card-end: markdown-->
	<p>On June 2, 2022 Atlassian released a security advisory for their <a href="https://confluence.atlassian.com/doc/confluence-security-advisory-2022-06-02-1130377146.html" target="_blank">Confluence Server and Data Center</a> applications, highlighting a critical severity unauthenticated remote code execution vulnerability. The vulnerability is as <a href="https://nvd.nist.gov/vuln/detail/CVE-2022-26134" target="_blank">CVE-2022-26134</a> and &nbsp;impacts all versions of Confluence Server and Data Center versions greater than 1.3.0.</p>
	<p>Atlassian has released a patch and all Confluence customers should update immediately to the latest version available from the <a href="https://www.atlassian.com/software/confluence/download-archives" target="_blank">official download center</a>.</p>
	<p>Cloudflare customers using either WAF or Access are already protected. Atlassian also recommends implementing a WAF rule that blocks URLs containing <code>${</code> as it &nbsp;may reduce risk of being compromised. </p>
	<p>Our own Confluence nodes are protected by both WAF and Access, and at the time of writing, we have found no evidence that our Confluence instance was exploited.</p>
	<p>Cloudflare reviewed the security advisory, conducted our own analysis, and prepared a WAF mitigation rule via an emergency release. The rule, once tested, was deployed on June 2, 2022, at 23:38 UTC with a default action of BLOCK and the following IDs:</p>
	<ul>
		<li>100531 (for our legacy WAF)</li>
		<li>408cff2b &nbsp;(for our new WAF)</li>
	</ul>
	<p>All websites, including free customers using the Cloudflare WAF to protect their self-hosted Confluence applications have automatically been protected since the new rule was deployed. </p>
	<p>Customers who have deployed Cloudflare Access in front of their Confluence applications were protected from external exploitation attempts even before the emergency release. Access verifies every request made to a Confluence application to ensure it is coming from an authenticated user. Any unauthenticated users attempting this exploit would have been blocked by Cloudflare before they could reach the Confluence server. </p>
	<p>Customers not yet using zero trust rules to protect access to their applications can <a href="https://developers.cloudflare.com/cloudflare-one/applications/configure-apps/self-hosted-apps/" target="_blank">follow these instructions</a> to enable Access now in a few minutes.</p>
	<h3 id="timeline-of-events">Timeline of Events</h3>
	<!--kg-card-begin: html-->
	<style type="text/css">
		.tg {
			border-collapse: collapse;
			border-spacing: 0;
		}

		.tg td {
			border-color: black;
			border-style: solid;
			border-width: 1px;
			font-family: Arial, sans-serif;
			font-size: 14px;
			overflow: hidden;
			padding: 10px 5px;
			word-break: normal;
		}

		.tg th {
			border-color: black;
			border-style: solid;
			border-width: 1px;
			font-family: Arial, sans-serif;
			font-size: 14px;
			font-weight: normal;
			overflow: hidden;
			padding: 10px 5px;
			word-break: normal;
		}

		.tg .tg-c6of {
			background-color: #ffffff;
			border-color: inherit;
			text-align: left;
			vertical-align: top
		}
	</style>
	<table class="tg" style="undefined;table-layout: fixed; width: 783px">
		<colgroup>
			<col style="width: 179.001736px">
			<col style="width: 604.001736px">
		</colgroup>
		<thead>
			<tr>
				<th class="tg-c6of">2022-06-02 at 20:00 UTC</th>
				<th class="tg-c6of">Atlassian publishes security advisory</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="tg-c6of">2022-06-02 at 23:38 UTC</td>
				<td class="tg-c6of">Cloudflare publishes WAF rule to target CVE 2022-26134</td>
			</tr>
		</tbody>
	</table>
	<!--kg-card-end: html-->
</div>