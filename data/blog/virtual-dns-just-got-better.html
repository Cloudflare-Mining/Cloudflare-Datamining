<div class="mb2 gray5">1 min read</div><img class="mr2" src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/1sTwYIQUp3xdg5aUnbHNMC/5a1133025f3c02995df1749aedc81a82/virtual-dns-just-got-better.png" alt="">
<div class="post-content lh-copy gray1">
	<p></p>
	<p>Over the last six years, we’ve built the tooling, infrastructure and expertise to run a DNS network that handles our scale - we’ve answered a few million DNS queries in the few seconds since you started reading this.</p>
	<p><a href="https://www.cloudflare.com/learning/dns/what-is-dns">DNS</a> is the backbone of the internet. Every email, website visit, and API call ultimately begins with a DNS lookup. Internet is built on DNS, so every hosting company, registrar, TLD operator, and cloud provider must be able to run reliable DNS.</p>
	<p>Last year CloudFlare launched <a href="https://www.cloudflare.com/dns/virtual-dns">Virtual DNS</a>, providing DDoS mitigation and a strong caching layer of <a href="https://blog.cloudflare.com/amsterdam-to-zhuzhou-cloudflare-global-network">100 global data centers</a> to those running DNS infrastructure.</p>
	<p>Today we’re expanding that offering with two new features for an extra layer of reliability: Serve Stale and DNS Rate Limiting.</p>
	<div class="flex anchor relative">
		<h3 id="serve-stale">Serve Stale</h3>
		<a href="https://blog.cloudflare.com/#serve-stale" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>Virtual DNS sits in front of your DNS infrastructure. When DNS resolvers lookup answers on your authoritative DNS, the query first goes to CloudFlare Virtual DNS. We either serve the answer from cache if we have the answer in cache, or we reach out to your nameservers to get the answer to respond to the DNS resolver.</p>
	<p>Even if your DNS servers are down, Virtual DNS can now answer on your behalf by serving a stale answer from cache. It’s a backup for you when your nameservers aren’t up, keeping your customers’ records online.</p>
	<div class="flex anchor relative">
		<h3 id="rate-limiting">Rate Limiting</h3>
		<a href="https://blog.cloudflare.com/#rate-limiting" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>Virtual DNS can now help you control what hits your network. Because Virtual DNS sits in front of your DNS nameservers, it shields your infrastructure from the load, and only sends you the traffic that you want to get.</p>
	<p>With rate limiting, you configure a threshold of how many queries per second Virtual DNS should send through to your DNS servers. The rate limit only counts queries that are sent to your server, not what gets answered from cache. Queries that exceed the rate limit may still be answered with answers in cache, even if they are stale, with our new Serve Stale functionality.</p>
	<div class="flex anchor relative">
		<h3 id="getting-started-with-virtual-dns">Getting Started With Virtual DNS</h3>
		<a href="https://blog.cloudflare.com/#getting-started-with-virtual-dns" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>If you’re running your own DNS infrastructure and would like to get started with Virtual DNS, <a href="https://www.cloudflare.com/plans/enterprise/contact">get in touch</a>.</p>
</div>