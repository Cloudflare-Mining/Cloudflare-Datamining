{
	"initialReadingTime": "2",
	"locale": "en-us",
	"localesAvailable": [],
	"post": {
		"authors": [
			{
				"name": "Erwin van der Koogh",
				"slug": "erwin",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/fayl90WdBlMlt0PuzhExJ/cdf6ef9bbde53cc58efecaaea3617930/erwin.jpeg",
				"location": "Melbourne",
				"website": null,
				"twitter": "@evanderkoogh",
				"facebook": null
			}
		],
		"excerpt": "MailChannels has created an email sending service specifically for Cloudflare Workers that removes all the friction associated with sending emails",
		"feature_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/44GJMrFGdShYlBgrpMCCmX/4139793c6da2ec5579af24d1bfd7e579/sending-email-from-workers-with-mailchannels.png",
		"featured": false,
		"html": "\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/65S91YeHZCBNKSbQEFz7uz/88d94b783e381cf83c556d258f887fc5/Send-email-from-Workers.png\" alt=\"\" class=\"kg-image\" width=\"1600\" height=\"900\" loading=\"lazy\"/>\n            \n            </figure><p>Here at Cloudflare we often talk about HTTP and related protocols as we work to help build a better Internet. However, the Simple Mail Transfer Protocol (SMTP) — used to send emails — is still a massive part of the Internet too.</p><p>Even though SMTP is turning 40 years old this year, most businesses still rely on email to validate user accounts, send notifications, announce new features, and more.</p><p>Sending an email is simple from a technical standpoint, but getting an email actually delivered to an inbox can be extremely tricky. Because of the enormous amount of spam that is sent every single day, all major email providers are very wary of things like new domains and IP addresses that start sending emails.</p><p>That is why we are delighted to announce a partnership with <a href=\"https://mailchannels.com\">MailChannels</a>. MailChannels has created an email sending service specifically for Cloudflare Workers that removes all the friction associated with sending emails. To use their service, you do not need to validate a domain or create a separate account. MailChannels filters spam <b>before</b> sending out an email, so you can feel safe putting user-submitted content in an email and be confident that it won’t ruin your domain reputation with email providers. But the absolute best part? Thanks to our friends at MailChannels, it is completely free to send email.</p><blockquote><p>In the words of their CEO Ken Simpson: <i>“Cloudflare Workers and Pages are changing the game when it comes to ease of use and removing friction to get started. So when we sat down to see what friction we could remove from sending out emails, it turns out that with our incredible anti-spam and anti-phishing, the answer is “everything&quot;. We can’t wait to see what applications the community is going to build on top of this.”</i></p></blockquote><p>The only constraint currently is that the integration only works when the request comes from a Cloudflare IP address. So it won’t work yet when you are developing on your local machine or running a test on your build server.</p><p>First let’s walk you through how to send out your first email using a Worker.</p>\n            <pre class=\"language-js\"><code class=\"language-js\">export default {\n  async fetch(request) {\n    send_request = new Request(&#039;https://api.mailchannels.net/tx/v1/send&#039;, {\n      method: &#039;POST&#039;,\n      headers: {\n        &#039;content-type&#039;: &#039;application/json&#039;,\n      },\n      body: JSON.stringify({\n        personalizations: [\n          {\n            to: [{ email: &#039;test@example.com&#039;, name: &#039;Test Recipient&#039; }],\n          },\n        ],\n        from: {\n          email: &#039;sender@example.com&#039;,\n          name: &#039;Workers - MailChannels integration&#039;,\n        },\n        subject: &#039;Look! No servers&#039;,\n        content: [\n          {\n            type: &#039;text/plain&#039;,\n            value: &#039;And no email service accounts and all for free too!&#039;,\n          },\n        ],\n      }),\n    })\n  },\n}</pre></code>\n            <p>That is all there is to it. You can modify the example to make it send whatever email you want.</p><p>The MailChannels integration makes it easy to send emails to and from anywhere with Workers. However, we also wanted to make it easier to send emails to yourself from a form on your website. This is perfect for quickly and painlessly setting up pages such as “Contact Us” forms, landing pages, and sales inquiries.</p><p>The <a href=\"/cloudflare-pages-plugins/\">Pages Plugin Framework</a> that we announced earlier this week allows other people to email you without exposing your email address.</p><p>The only thing you need to do is copy and paste the following code snippet in your <code>/functions/_middleware.ts</code> file. Now, every form that has the <code>data-static-form-name</code> attribute will automatically be emailed to you.</p>\n            <pre class=\"language-typescript\"><code class=\"language-typescript\">import mailchannelsPlugin from &quot;@cloudflare/pages-plugin-mailchannels&quot;;\n\nexport const onRequest = mailchannelsPlugin({\n  personalizations: [\n    {\n      to: [{ name: &quot;ACME Support&quot;, email: &quot;hello@example.com&quot; }],\n    },\n  ],\n  from: { name: &quot;Enquiry&quot;, email: &quot;no-reply@example.com&quot; },\n  respondWith: () =&gt;\n    new Response(null, {\n      status: 302,\n      headers: { Location: &quot;/thank-you&quot; },\n    }),\n});</pre></code>\n            <p>Here is an example of what such a form would look like. You can make the form as complex as you like, the only thing it needs is the <code>data-static-form-name</code> attribute. You can give it any name you like to be able to distinguish between different forms.</p>\n            <pre class=\"language-html\"><code class=\"language-html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Contact&lt;/h1&gt;\n    &lt;form data-static-form-name=&quot;contact&quot;&gt;\n      &lt;div&gt;\n        &lt;label&gt;Name&lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;label&gt;Email&lt;input type=&quot;email&quot; name=&quot;email&quot; /&gt;&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;label&gt;Message&lt;textarea name=&quot;message&quot;&gt;&lt;/textarea&gt;&lt;/label&gt;\n      &lt;/div&gt;\n      &lt;button type=&quot;submit&quot;&gt;Send!&lt;/button&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;</pre></code>\n            <p>So as you can see there is no barrier left when it comes to sending out emails. You can copy and paste the above Worker or Pages code into your projects and immediately start to send email for free.</p><p>If you have any questions about using MailChannels in your Workers, or want to learn more about Workers in general, please join our <a href=\"https://discord.gg/cloudflaredev\">Cloudflare Developer Discord server</a>.</p>",
		"id": "4DaikhRbPGHXsshM2sM7N7",
		"localeList": {
			"name": "Send email using Workers with MailChannels Config",
			"enUS": "English for Locale",
			"zhCN": "No Page for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "No Page for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "No Page for Locale",
			"koKR": "No Page for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": "MailChannels has created an email sending service specifically for Cloudflare Workers that removes all the friction associated with sending emails.",
		"metadata": {
			"title": "Send email using Workers with MailChannels",
			"description": "MailChannels has created an email sending service specifically for Cloudflare Workers that removes all the friction associated with sending emails.",
			"imgPreview": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/3UpJkG0ufpH8nTClO0OSMz/36f49092995b77603ecfae346b68a9a7/sending-email-from-workers-with-mailchannels-HqGOAi.png"
		},
		"primary_author": {},
		"published_at": "2022-05-13T13:59:19.000+01:00",
		"slug": "sending-email-from-workers-with-mailchannels",
		"tags": [
			{
				"id": "1VkRSlsXf1AYB3QvlWU1JK",
				"name": "Platform Week",
				"slug": "platform-week"
			},
			{
				"id": "6hbkItfupogJP3aRDAq6v8",
				"name": "Cloudflare Workers",
				"slug": "workers"
			},
			{
				"id": "5cye1Bh5KxFh3pKSnX8Dsy",
				"name": "Serverless",
				"slug": "serverless"
			},
			{
				"id": "4HIPcb68qM0e26fIxyfzwQ",
				"name": "Developers",
				"slug": "developers"
			},
			{
				"id": "6QktrXeEFcl4e2dZUTZVGl",
				"name": "Product News",
				"slug": "product-news"
			},
			{
				"id": "3JAY3z7p7An94s6ScuSQPf",
				"name": "Developer Platform",
				"slug": "developer-platform"
			}
		],
		"title": "Send email using Workers with MailChannels",
		"updated_at": "2024-08-27T01:30:56.145Z",
		"url": "https://blog.cloudflare.com/sending-email-from-workers-with-mailchannels"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.blurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}