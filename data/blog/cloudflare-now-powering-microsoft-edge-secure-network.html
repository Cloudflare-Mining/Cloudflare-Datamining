<div class="mb2 gray5">5 min read</div>
<div class="post-content lh-copy gray1">
	<!--kg-card-begin: markdown-->
	<p><small>This post is also available in <a href="https://blog.cloudflare.com/zh-cn/cloudflare-now-powering-microsoft-edge-secure-network-zh-cn">简体中文</a>, <a href="https://blog.cloudflare.com/ja-jp/cloudflare-now-powering-microsoft-edge-secure-network-ja-jp">日本語</a>, <a href="https://blog.cloudflare.com/ko-kr/cloudflare-now-powering-microsoft-edge-secure-network-ko-kr">한국어</a>, <a href="https://blog.cloudflare.com/fr-fr/cloudflare-now-powering-microsoft-edge-secure-network-fr-fr">Français</a> and <a href="https://blog.cloudflare.com/es-es/cloudflare-now-powering-microsoft-edge-secure-network-es-es">Español</a>.</small></p>
	<!--kg-card-end: markdown-->
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2023/09/image1-35.png" class="kg-image" alt="Cloudflare is now powering Microsoft Edge Secure Network" loading="lazy" width="1800" height="1014"></figure>
	<p>Between third-party cookies that track your activity across websites, to highly targeted advertising based on your IP address and browsing data, it's no secret that today’s Internet browsing experience isn’t as private as it should be. Here at Cloudflare, we believe everyone should be able to browse the Internet free of persistent tracking and prying eyes.</p>
	<p>That’s why we’re excited to announce that we’ve partnered with Microsoft Edge to provide a fast and secure VPN, right in the browser. Users don’t have to install anything new or understand complex concepts to get the latest in network-level privacy: Edge Secure Network VPN is available on the latest consumer version of Microsoft Edge in most markets, and automatically comes with 5 GB of data. Just enable the feature by going to <em>[Microsoft Edge Settings &amp; more (…) &gt; Browser essentials, </em>and click <em>Get VPN for free]</em>. See Microsoft’s <a href="https://www.microsoft.com/en-us/edge/features/edge-secure-network-vpn?form=MT00D8" target="_blank">Edge Secure Network page</a> for more details.</p>
	<h3 id="cloudflare%E2%80%99s-privacy-proxy-platform-isn%E2%80%99t-your-typical-vpn">Cloudflare’s Privacy Proxy platform isn’t your typical VPN</h3>
	<p>To take a step back: a VPN is a way in which the Internet traffic leaving your device is tunneled through an intermediary server operated by a provider – in this case, Cloudflare! There are many important pieces that make this possible, but among them is the VPN<em> </em>protocol, which defines the way in which the tunnel is established and how traffic flows through it. You may have heard of some of these protocols: Wireguard, IPsec, and OpenVPN, for example. And while we’re no stranger to these, (Cloudflare’s WireGuard implementation is currently in use by millions of devices that use <a href="https://blog.cloudflare.com/1111-warp-better-vpn">1.1.1.1+WARP</a>) – we see our Privacy Proxy Platform as a way to push forward the next frontier of Internet privacy and embrace one of Cloudflare’s core values: open Internet standards.</p>
	<p>The Privacy Proxy Platform implements HTTP CONNECT, a method defined in the <a href="http://placeholder" target="_blank">HTTP standard</a> that proxies traffic by establishing a tunnel and then sending reliable and ordered byte streams through that tunnel. You can read more about this proxying method (and its history!) in our <a href="https://blog.cloudflare.com/a-primer-on-proxies">Primer on Proxies</a>.</p>
	<p>We also leverage other parts of Cloudflare’s privacy-oriented infrastructure that are already deployed at scale: requests first utilize <a href="https://1.1.1.1/dns" target="_blank">1.1.1.1</a> for DNS, a token proxy based on <a href="https://datatracker.ietf.org/wg/privacypass/about" target="_blank">Privacy Pass</a> for client authentication, and <a href="https://blog.cloudflare.com/geoexit-improving-warp-user-experience-larger-network">Geo-egress</a> to choose an accurate egress IP address without exposing users’ precise location.</p>
	<h3 id="how-it-works">How it works</h3>
	<p>Let’s dive into the details of these components. For the purposes of this blog, we’ll call the devices people are using to browse the Internet (your phone, tablet or computer) <em>clients, </em>and the websites they’re trying to visit <em>origin sites.</em></p>
	<p>The Privacy Proxy Platform includes three main parts:</p>
	<ol>
		<li><strong>Token Proxy</strong>: this is the service that checks if you’re an Edge Secure Network user with a legitimate Microsoft account.</li>
		<li><strong>Privacy API</strong>: based on the above, Cloudflare’s Privacy API issues authentication tokens that clients use for authenticating to the proxy itself.</li>
		<li><strong>Privacy Proxy</strong>: this is the HTTP CONNECT-based proxy service running on Cloudflare’s network. This service checks that the client presents a valid authentication token, and if so, proxies the encrypted HTTP request to the origin site. It is also responsible for selecting a valid egress IP address to be used.</li>
	</ol>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2023/09/image2-24.png" class="kg-image" alt="" loading="lazy" width="1600" height="897"></figure>
	<p>When Edge Secure Network protections are on – say, when a user connects to an open Wi-Fi network at a coffee shop – our proxy will automatically prompt that client for a token to authenticate. If the client has a token, it will present one. If it doesn’t, it will utilize the token proxy to mint a new pool using the help of an attester and issuer: the attester checks the validity of the client and Microsoft account, and the issuer issues tokens for that client in return. This dance is based on the <a href="https://blog.cloudflare.com/supporting-the-latest-version-of-the-privacy-pass-protocol">Privacy Pass protocol</a>. Importantly, it allows Cloudflare to validate that clients are who they say they are without collecting or storing personal information from Microsoft users.</p>
	<p>Once the client has presented the proxy server with a valid token, the Privacy Proxy then chooses a valid egress IP address based on a hash of the client’s geolocation. It then uses the DNS record (provided by Cloudflare’s DNS resolver, <a href="https://1.1.1.1" target="_blank">1.1.1.1</a>) to open up an encrypted session to the origin website. From there, it’s pretty straightforward: if the user continues to browse on that site, further requests will be sent through that connection, if they stop or close the browser, that connection will close as well.</p>
	<p>Because Cloudflare proxies millions of requests per second, many of the operational aspects of the proxy are managed by <a href="https://blog.cloudflare.com/introducing-oxy">Oxy</a>, our proxying framework that handles everything from telemetry, graceful restarts, to stream multiplexing and IP fallbacks, and authentication <a href="https://blog.cloudflare.com/oxy-extensibility">hooks</a>.</p>
	<h3 id="low-last-mile-latency-and-geolocation-parity-thanks-to-cloudflare%E2%80%99s-network">Low last-mile latency and geolocation parity thanks to Cloudflare’s Network</h3>
	<p>Cloudflare’s privacy proxy implementation maximizes user experience without sacrificing privacy. When Edge Secure Network is enabled, users will have search and browsing results relevant to where they’re geographically located. At Cloudflare, we call this the pizza test: people should be able to use any of our privacy proxy products and still be able to get results for “<em>pizza places near me</em>”. We accomplish this by always egressing through a Cloudflare data center that has an IP address that corresponds to the user’s location – we’ve written more about how we did this for <a href="https://blog.cloudflare.com/geoexit-improving-warp-user-experience-larger-network">1.1.1.1+WARP</a>.</p>
	<p>Unlike your typical VPN operator that has dozens – sometimes hundreds – of servers, Cloudflare has a much larger footprint: data centers in <a href="https://cloudflare.com/network" target="_blank">over 300 cities</a>. Because our network is an anycast “every service, everywhere” approach, each of our data centers can accept traffic from an Edge Secure network client. This means that Edge users will automatically detect and connect with a Cloudflare data center geographically very close to them, minimizing last-mile latency. Finally, because Cloudflare also operates a CDN, websites that are already on Cloudflare will be given a “hot-path,” and will load faster.</p>
	<p>We at Cloudflare are always striving to bring more privacy options to the open Internet, and we are excited to provide more private and secure browsing to Edge users. To learn more, head to <a href="https://www.microsoft.com/en-us/edge/features/edge-secure-network-vpn" target="_blank">Microsoft’s Edge Secure Network page</a> or<a href="https://support.microsoft.com/en-us/topic/use-the-microsoft-edge-secure-network-to-protect-your-browsing-885472e2-7847-4d89-befb-c80d3dda6318" target="_blank"> Microsoft’s support page</a>. If you’re a partner interested in using a privacy-preserving proxy like this one, fill out<a href="https://www.cloudflare.com/lp/privacy-edge" target="_blank"> this form</a>.</p>
</div>