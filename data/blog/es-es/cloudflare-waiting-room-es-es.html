<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/01/image3-19.png" class="kg-image"></figure>
	<p>Hoy estamos encantados de anunciar nuestro nuevo producto Sala de espera. Esta función estará disponible en primer lugar para un determinado grupo de clientes a través de un nuevo programa llamado proyecto Fair Shot, cuyo objetivo es ayudar a resolver los errores que ocurren en los sitios web de registro de citas derivados de la enorme demanda de vacunas contra la COVID-19. Más adelante estará accesible para nuestros clientes de los planes Business y Enterprise. </p>
	<h3 id="un-momento-te-gusta-la-idea-de-una-sala-de-espera">Un momento, ¿te gusta la idea de una sala de espera?</h3>
	<p>La mayoría de nosotros estamos familiarizados con el concepto de sala de espera, y rara vez nos entusiasma la idea de estar en una de ellas. Por lo general, nuestra primera experiencia en una de estas salas es en la consulta del médico. Sí, tienes una cita, pero a veces el médico se retrasa (o uno de los pacientes). Dado que el médico solo puede atender a una persona a la vez, la sala de espera se concibió como un espacio donde los pacientes esperan su turno.</p>
	<p>Aunque los servidores pueden atender más solicitudes simultáneas que un médico, también pueden saturarse. Si en un mundo antes de la irrupción de la COVID-19 has intentado alguna vez comprar entradas para un concierto o un evento popular, tal vez te hayas encontrado con una sala de espera en línea. Este sistema limita las solicitudes que llegan a una aplicación y las asigna a una cola de espera virtual. Una vez que el número de usuarios en la aplicación se ha reducido, se permite la entrada de nuevos usuarios dentro de los umbrales definidos que la aplicación puede gestionar. De esta forma se impide que los servidores que admiten la aplicación reciban demasiadas solicitudes, al mismo tiempo que se garantiza la equidad desde el punto de vista del usuario. Así pues, aquellos que intentan acceder a un recurso cuando el sistema está sobrecargado no se ven injustamente obligados a abandonar y a volver a conectar, con la esperanza de volver a ponerse en cola.</p>
	<h3 id="-por-qu-ahora">¿Por qué ahora?</h3>
	<p>No muchos de nosotros vamos a poder asistir a conciertos en vivo en un futuro próximo, entonces ¿por qué lo hacemos ahora?</p>
	<p>Bueno, tal vez no vayamos a conciertos, pero los efectos secundarios de la COVID-19 han creado una enorme necesidad de salas de espera. En primer lugar, el distanciamiento social y el cierre de muchos negocios e instituciones han empujado a los clientes y ciudadanos al uso de canales en línea, lo que ha supuesto una carga sustancialmente mayor para las infraestructuras empresariales y gubernamentales.</p>
	<p>En segundo lugar, la pandemia y sus consecuencias han hecho que muchas personas de todo el mundo hayan pasado a depender de recursos que no necesitaban hace un año. En concreto, suelen ser recursos relacionados con la sanidad o la administración pública, por ejemplo, los sitios web de prestaciones por desempleo. La infraestructura en línea se diseñó para abordar picos de carga que no vieron venir el impacto de la COVID-19. Estamos viendo un patrón similar con los sitios web relacionados con las vacunas.</p>
	<p>Anteriormente, el número de organizaciones que necesitaban salas de espera era bastante reducido. La naturaleza de la mayoría de los negocios digitales suele implicar una carga de usuarios más homogénea, en lugar de grandes aglomeraciones de personas al mismo tiempo. Esas organizaciones podían desarrollar salas de espera a medida y se integraban totalmente en su aplicación (por ejemplo, la compra de entradas). Con la función Sala de espera de Cloudflare no es necesario realizar cambios en el código de la aplicación y se puede configurar una sala de espera en cuestión de minutos para cualquier sitio web sin tener que escribir líneas de código.</p>
	<p>Tanto si eres un arquitecto de ingeniería como un analista de operaciones empresariales, la configuración de la función Sala de espera es fácil. Permitirá de forma rápida y sencilla que tus aplicaciones sean fiables y estén protegidas de picos de tráfico inesperados. Otras funciones que consideramos importantes son la activación automática y el flujo de salida dinámico. En otras palabras, una sala de espera debería activarse automáticamente cuando se superan los umbrales, permitir la salida de grupos de usuarios de diferentes tamaños cuando dejen de usar la aplicación y admitir nuevos usuarios que están en espera. El funcionamiento es sencillo. Por último, hemos sido testigos del gran impacto que la COVID-19 ha tenido en los usuarios y en las empresas, especialmente, aunque no solo, en los <a href="https://blog.cloudflare.com/project-fair-shot"> sectores de la sanidad y la administración</a>. Queríamos ofrecer otra forma de garantizar que estas aplicaciones sigan estando disponibles y operativas para que todos los usuarios puedan recibir la atención que necesitan y no errores en su navegador.</p>
	<h3 id="-c-mo-funciona-la-sala-de-espera-de-cloudflare">¿Cómo funciona la Sala de espera de Cloudflare?</h3>
	<p>Hemos desarrollado esta función a partir de nuestra red perimetral y nuestro producto Workers. Gracias a Workers y nuestra nueva oferta <a href="https://blog.cloudflare.com/introducing-workers-durable-objects/">Durable Objects</a>, hemos podido eliminar la necesidad de codificación por parte del cliente y ofrecer un producto impecable e innovador que simplemente funciona. Además, aprovechamos la escala y el rendimiento de nuestro producto Workers para garantizar que mantenemos una sobrecarga de latencia extremadamente baja, así como para asegurar que los tiempos estimados ofrecidos a los usuarios finales son lo más precisos posible a fin de no mantener a ningún usuario en espera más tiempo del necesario. Pero construir un sistema centralizado en una red descentralizada no es tarea fácil. Cuando a una aplicación llegan solicitudes de todo el mundo, tenemos que ser capaces de obtener una visión amplia y precisa de cómo es esa carga de entrada y salida para una aplicación determinada.</p>
	<figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.cloudflare.com/content/images/2021/03/image7-7.png" class="kg-image">
		<figcaption>Solicitudes que pasan por la red de Cloudflare sin Sala de espera</figcaption>
	</figure>
	<p>Estas solicitudes, por muy rápidas que sean, siguen tardando tiempo en recorrer distintos puntos del planeta. Así es como se presentó una situación única. ¿Qué ocurre si un sitio web recibe un tráfico razonable desde Norteamérica y Europa, pero de repente se produce un pico importante de tráfico desde Sudamérica? ¿Cómo sabemos cuándo debemos seguir dejando entrar a usuarios en la aplicación y cuándo debemos activar la sala de espera para impedir una sobrecarga de los servidores de origen?</p>
	<p>Gracias al trabajo de ingeniería inteligente y a nuestro producto Workers, pudimos crear un sistema que se mantiene casi inmediatamente sincronizado con la demanda global de una aplicación, dándonos la información necesaria para saber cuándo debemos dejar a los usuarios en la sala de espera y cuándo no. Gracias a nuestra red global Anycast y nuestros más de 200 centros de datos, eliminamos cualquier punto único de fallo para proteger la infraestructura de nuestros clientes y, al mismo tiempo, ofrecer una gran experiencia a los usuarios finales que tienen que esperar poco tiempo para entrar en la aplicación cuando la carga es elevada.</p>
	<figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.cloudflare.com/content/images/2021/01/image-4.png" class="kg-image" alt="Solicitudes que pasan por la red de Cloudflare con Waiting Room">
		<figcaption>Solicitudes que pasan por la red de Cloudflare con Sala de espera</figcaption>
	</figure>
	<h3 id="c-mo-configurar-la-funci-n-sala-de-espera">Cómo configurar la función Sala de espera</h3>
	<p>¡La configuración es muy fácil y rápida! La parte más sencilla es que el usuario solo tiene que cumplimentar cinco campos: 1) el nombre de la sala de espera, 2) el nombre del host (que ya estará precargado con la zona en la que se está configurando), 3) el total de usuarios activos que pueden estar en la aplicación al mismo tiempo, 4) los nuevos usuarios por minuto que pueden estar en la aplicación, y 5) la duración de la sesión para cualquier usuario. No es necesario codificar ni modificar la aplicación.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/01/image2-14.png" class="kg-image"></figure>
	<p>Ofrecemos la opción de utilizar nuestra plantilla de Sala de espera por defecto a los clientes que no quieren añadir una marca adicional. Esto simplifica el proceso de puesta en marcha de la función Sala de espera.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/01/image4-17.png" class="kg-image"></figure>
	<p>¡Nada más! Haz clic en Guardar y ¡ya está lista la sala de espera!</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/01/image1-20.png" class="kg-image"></figure>
	<p>Para los clientes con más tiempo y capacidad técnica, el proceso es el mismo, con la diferencia de que damos plena capacidad de personalización a nuestros usuarios para que puedan aplicar su marca en la sala de espera, asegurándose de que coincida con el diseño y la imagen de su producto en general.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/01/image8-9.png" class="kg-image"></figure>
	<p>Por último, la gestión de las diferentes salas de espera es muy sencilla. Con nuestra tabla de “Gestión Sala de espera”, podrás obtener de un solo vistazo una imagen completa de las salas de espera activas, aquellas en las que la cola de espera no está activa y las que están deshabilitadas.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/01/image5-9.png" class="kg-image"></figure>
	<p>Estamos muy contentos de poner al alcance de nuestros clientes la función Sala de espera para permitirles seguir centrándose en sus negocios y clientes. ¡No te pierdas el blog que se publicará próximamente con las principales actualizaciones de nuestra Sala de espera para clientes Enterprise!</p>
</div>