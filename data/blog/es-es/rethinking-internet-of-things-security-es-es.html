<div class="mb2 gray5">6 min read</div>
<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/09/image1-43.png" class="kg-image" alt="Securing the Internet of Things" loading="lazy"></figure>
	<p>Es difícil imaginar la vida sin nuestros teléfonos inteligentes. Mientras que los ordenadores están casi siempre en un sitio fijo y se suelen compartir, los teléfonos inteligentes han hecho que cada persona sea un nodo permanente y móvil en Internet, y hay unos 6500 millones de teléfonos inteligentes en el planeta en este momento.</p>
	<p>Aunque esto supone una explosión del número de dispositivos en Internet, todo lo eclipsará la siguiente etapa de la evolución de Internet: conectar dispositivos para dotarlos de inteligencia. Los dispositivos de Internet de las cosas (IoT) ya duplican en número a los teléfonos inteligentes conectados a Internet en la actualidad y, a diferencia de estos últimos, se espera que este número siga creciendo de forma considerable, ya que no tienen el factor limitante de que tienen que llevarlo personas.</p>
	<p>Pero el crecimiento exponencial del número de dispositivos lleva consigo un aumento de los riesgos. Llevamos años defendiéndonos de ataques DDoS de botnets basados en Internet de las cosas (IoT), como <a href="https://blog.cloudflare.com/tag/mirai">Mirai</a> y <a href="https://blog.cloudflare.com/meris-botnet">Meris</a>. Estas siguen <a href="https://www.securityweek.com/cloudflare-mitigates-2-tbps-ddos-attack-launched-mirai-botnet" target="_blank">aumentando</a> porque sigue siendo todo un desafío proteger los dispositivos IoT, y los fabricantes no suelen tener incentivos para ello. Esto ha llevado al NIST (National Institute of Standards and Technology de EE. UU.) <a href="https://csrc.nist.gov/publications/detail/nistir/8349/draft" target="_blank">a definir activamente los requisitos</a> para abordar la (falta de) seguridad de los dispositivos IoT, y la UE no se está quedando atrás.</p>
	<p>También es el tipo de problema que mejor sabe resolver Cloudflare.</p>
	<p>Nos complace anunciar hoy nuestra plataforma de Internet de las cosas con el objetivo de ofrecer una visión única de tus dispositivos IoT, proporcionar conectividad a nuevos dispositivos y, sobre todo, proteger cada dispositivo desde el mismo momento en que se enciende.</p>
	<h3 id="no-son-solo-bombillas">No son solo bombillas</h3>
	<p>Cuando se lee "IoT", es habitual pensar inmediatamente en bombillas o en simples sensores de movimiento, pero eso se debe a que no solemos considerar muchos de los dispositivos con los que interactuamos a diario como un dispositivo IoT.</p>
	<p>Piensa en:</p>
	<ul>
		<li>Casi todas las terminales de pago.</li>
		<li>Cualquier coche moderno con sistema de información de ocio o GPS.</li>
		<li>Millones de dispositivos industriales que hacen posible, y de forma fundamental, los servicios logísticos, los procesos industriales y los negocios de fabricación.</li>
	</ul>
	<p><em>Sobre todo, puede que no te des cuenta de que casi todos estos dispositivos tienen una tarjeta SIM, y que se conectan a través de una red móvil.</em></p>
	<p>La conectividad móvil se ha vuelto cada vez más omnipresente, y si el dispositivo puede conectarse independientemente de la configuración de la red wifi (y funcionar desde el primer momento), habrás evitado inmediatamente toda una clase de problemas de soporte operativo. Si acabas de leer nuestro anterior anuncio sobre la <a href="https://blog.cloudflare.com/es-es/the-first-zero-trust-sim-es-es">SIM Zero Trust</a>, probablemente ya estés viendo hacia dónde nos dirigimos.</p>
	<p>Cientos de miles de dispositivos IoT ya se conectan hoy de forma segura a nuestra red mediante el uso TLS mutuo y nuestro producto <a href="https://developers.cloudflare.com/api-shield" target="_blank">API Shield</a>. Los principales fabricantes de dispositivos utilizan <a href="https://developers.cloudflare.com/workers" target="_blank">Workers</a> y nuestra plataforma para desarrolladores para transferir la autenticación, los procesos y, lo que es más importante, reducir los procesos necesarios en el propio dispositivo. <a href="https://developers.cloudflare.com/pub-sub" target="_blank">Cloudflare Pub/Sub</a>, nuestro servicio de mensajería programable basado en MQTT, es otro elemento básico.</p>
	<p>Pero nos dimos cuenta de que aún faltaban algunas piezas: gestión de dispositivos, análisis y detección de anomalías. Hay <em>muchos</em> proveedores de "SIM de IoT", pero la clara mayoría se centra en el envío de tarjetas SIM a escala (lo cual es genial) y apenas presta atención a la seguridad (no tan genial) o a los desarrolladores (tampoco tan genial). Los clientes nos comentaron que querían una forma de proteger con facilidad sus dispositivos IoT, de la misma forma que protegen a sus empleados con nuestra plataforma Zero Trust.</p>
	<p><strong>La plataforma IoT de Cloudflare incorporará soporte para el aprovisionamiento de conectividad móvil a escala</strong>. Daremos soporte a los pedidos, el aprovisionamiento y la gestión de la conectividad móvil para tus dispositivos. Cada paquete que sale de cada dispositivo IoT se puede inspeccionar, aprobar o rechazar a través de las políticas que hayas creado <em>antes de que</em> llegue a Internet, a tu infraestructura en la nube o a tus otros dispositivos.</p>
	<p>Estándares emergentes como <a href="https://www.gsma.com/iot/iot-safe" target="_blank">IoT SAFE</a> también nos permitirán utilizar la tarjeta SIM como raíz de confianza, almacenando los secretos del dispositivo (y las claves de la API) de forma segura en el dispositivo, a la vez que se eleva el nivel de protección.</p>
	<p>Esto tampoco significa que dejemos atrás el TLS mutuo. Somos conscientes de que no tiene sentido que todos los dispositivos se conecten únicamente a través de una red móvil, ya sea por los costes por dispositivo, por la falta de cobertura o por la necesidad de dar soporte a una implementación existente que no puede volver a realizarse.</p>
	<h3 id="incorporar-la-seguridad-zero-trust-a-iot">Incorporar la seguridad Zero Trust a IoT</h3>
	<p>A diferencia de las personas, que necesitan poder acceder a un número potencialmente ilimitado de destinos (sitios web), el número de puntos finales con los que necesita contactar un dispositivo IoT es mucho más limitado. Pero en la práctica, suele haber pocos controles en vigor (o disponibles) para garantizar que un dispositivo solo se comunique con tu backend de la API, tu bucket de almacenamiento o tu punto final de telemetría.</p>
	<p>No obstante, nuestra plataforma Zero Trust tiene una solución para esto: <a href="https://www.cloudflare.com/es-es/products/zero-trust/gateway" target="_blank">Cloudflare Gateway</a>. Puedes crear políticas de DNS, red o HTTP, y permitir o denegar el tráfico en base no solo al origen o al destino, sino a mejores controles basados en la identidad y la ubicación. Parecía obvio que podíamos llevar estas mismas funciones a los dispositivos IoT, y permitir a los desarrolladores restringir y controlar mejor con qué puntos finales se comunican sus dispositivos (para que no formen parte de una botnet).</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2022/09/image2-38.png" class="kg-image" alt="" loading="lazy"></figure>
	<p>Al mismo tiempo, también identificamos formas de ampliar Gateway para que tenga en cuenta las especificidades de los dispositivos IoT. Por ejemplo, imaginemos que has configurado 5000 dispositivos IoT, todos ellos conectados por la red móvil directamente a la red de Cloudflare. Puedes optar por bloquear estos dispositivos a una geografía específica, si no hay necesidad de que "viajen", asegurar que solo se puedan comunicar con tu backend de la API o con tu proveedor de métricas, e incluso asegurar que si se saca la SIM del dispositivo ya no funcione al bloquear el IMEI (el número de serie del módem).</p>
	<p>Crear estos controles en la capa de red eleva el nivel de protección de los dispositivos IoT y reduce el riesgo de que un agente malicioso utilice tu conjunto de dispositivos.</p>
	<h3 id="saca-los-procesos-del-dispositivo">Saca los procesos del dispositivo</h3>
	<p>Hemos hablado mucho de seguridad, pero ¿qué pasa con los procesos y el almacenamiento? Un dispositivo puede ser extremadamente seguro si no tiene que hacer nada ni comunicarse con ninguna parte, pero evidentemente eso no es muy práctico.</p>
	<p>Al mismo tiempo, realizar cantidades no triviales de procesos "en el dispositivo" implica una serie de desafíos importantes:</p>
	<ul>
		<li>Requiere un dispositivo más potente (y, por tanto, más caro). Ligeramente potente (por ejemplo, los dispositivos basados en ARMv8) con unos cuantos gigabytes de RAM pueden ser cada vez más baratos, pero siempre van a ser más caros que un dispositivo de menor potencia, y eso se añade rápidamente a escala que tiene el IoT.</li>
		<li>No puedes garantizar (ni esperar) que tu conjunto de dispositivos sea homogéneo. Los dispositivos que implementaste hace tres años seguramente sean hoy mucho más lentos que los que estás implementando hoy. ¿Olvidas esos dispositivos?</li>
		<li>Cuanta más lógica empresarial tengas en el dispositivo, mayor será el riesgo operativo y de implementación. La gestión de los cambios se vuelve fundamental, y el riesgo de "bricking", es decir, el hecho de que un dispositivo quede inutilizado de forma que no se pueda arreglar a distancia, nunca es nulo. Resulta más difícil iterar y añadir nuevas funciones cuando estás implementando en un dispositivo al otro lado del mundo.</li>
		<li>La seguridad sigue siendo una preocupación. Si tu dispositivo necesita comunicarse con API externas, tienes que asegurarte de que has delimitado explícitamente las credenciales que utilizan para evitar que las saquen del dispositivo y las usen de una forma que no esperas.</li>
	</ul>
	<p>Hemos oído a otras plataformas hablar de "proceso perimetral", pero en la práctica quieren decir "ejecutar el proceso en el dispositivo" o "en unas pocas de regiones de la nube", (lo cual añade latencia). Ninguna de ellas aborda de verdad los problemas señalados anteriormente.</p>
	<p>En cambio, al permitir el acceso seguro a <a href="https://workers.cloudflare.com" target="_blank">Cloudflare Workers</a> para el proceso, <a href="https://blog.cloudflare.com/workers-analytics-engine">Analytics Engine</a> para la telemetría de dispositivos, <a href="https://blog.cloudflare.com/es-es/introducing-d1-es-es">D1</a> como base de datos SQL, y <a href="https://developers.cloudflare.com/pub-sub" target="_blank">Pub/Sub</a> para la mensajería escalable de forma masiva, los desarrolladores de IoT pueden mantener el proceso fuera del dispositivo, pero también <em>cerca</em> del mismo, gracias a nuestra <a href="https://www.cloudflare.com/es-es/network" target="_blank">red global</a> (más de 275 ciudades y en aumento).</p>
	<p>Además, los desarrolladores pueden utilizar herramientas modernas como <a href="https://developers.cloudflare.com/workers/wrangler/get-started" target="_blank">Wrangler</a>, para iterar más rápidamente <em>e </em>implementar el software de forma más segura, evitando el riesgo de "bricking" o que deje de funcionar parte de tu conjunto de IoT.</p>
	<h3 id="-d-nde-me-registro">¿Dónde me registro?</h3>
	<p>Puedes <a href="https://www.cloudflare.com/es-es/register-for-our-iot-platform" target="_blank">registrarte en nuestra plataforma IoT hoy mismo</a>. Nos pondremos en contacto contigo en las próximas semanas para entender mejor los problemas a los que se enfrentan los equipos, y trabajaremos para que nuestra versión beta cerrada llegue a manos de los clientes en los próximos meses. Nos interesan especialmente los equipos que están intentando averiguar cómo implementar un nuevo conjunto de dispositivos IoT o ampliar un conjunto ya existente, sea cual sea el caso de uso.</p>
	<p>Mientras tanto, puedes empezar a desarrollar en <a href="https://developers.cloudflare.com/api-shield/security/mtls" target="_blank">API Shield</a> y <a href="https://developers.cloudflare.com/pub-sub" target="_blank">Pub/Sub</a> (MQTT) si necesitas empezar hoy mismo a proteger los dispositivos de IoT.</p>
</div>