{
	"locale": "en-us",
	"localesAvailable": [],
	"post": {
		"authors": [
			{
				"name": "Junade Ali",
				"slug": "junade-ali",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/3OWtXkEWho3HaulkNRp0L2/94facede17b4a972393d41defc8d8cfe/junade-ali.jpg",
				"location": null,
				"website": null,
				"twitter": "@IcyApril",
				"facebook": null
			}
		],
		"excerpt": "Back in April, I wrote about how it was possible to modify a router to encrypt DNS queries over TLS using Cloudflare's 1.1.1.1 DNS Resolver and a GL.iNet router; the folks at GL.iNet read that blog post and decided to bake DNS-Over-TLS support into their new router using the 1.1.1.1 resolver.",
		"feature_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/3XPACqkoW6zF2Zw9TC8DX6/4b72ca238b55faffb5066c4356698725/dns-over-tls-built-in.png",
		"featured": false,
		"html": "\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/FV8I2AuSRIkDmf5CUaniX/3d64d29036477bf7b082788043399945/IMG_4277.jpg\" alt=\"GL.iNet GL-AR750S\" class=\"kg-image\" width=\"750\" height=\"563\" loading=\"lazy\"/>\n            \n            </figure><p>GL.iNet GL-AR750S in black, same form-factor as the prior white GL.iNet GL-AR750. Credit card for comparison.</p><p>Back in April, I wrote about how it was possible to <a href=\"/dns-over-tls-for-openwrt/\">modify a router to encrypt DNS queries over TLS</a> using Cloudflare&#39;s 1.1.1.1 DNS Resolver. For this, I used the GL.iNet GL-AR750 because it was pre-installed with OpenWRT (LEDE). The folks at GL.iNet read that blog post and decided to bake DNS-Over-TLS support into their new router using the 1.1.1.1 resolver, they sent me one to take a look at before it&#39;s available for pre-release. Their new router can also be configured to force DNS traffic to be encrypted before leaving your local network, which is particularly useful for any IoT or mobile device with hard-coded DNS settings that would ordinarily ignore your routers DNS settings and send <a href=\"https://www.cloudflare.com/learning/dns/what-is-dns/\">DNS queries</a> in plain-text.</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/20ZCmvqywZDLMhksEzdyXC/e1b2b5caf31a16b9b2999a9985e26ea0/Screen-Shot-2018-07-14-at-04.36.11.png\" alt=\"DNS over TLS from Cloudflare enabled\" class=\"kg-image\" width=\"1252\" height=\"550\" loading=\"lazy\"/>\n            \n            </figure><p>In <a href=\"/dns-over-tls-for-openwrt/\">my previous blog post</a> I discussed how DNS was often the weakest link in the chain when it came to browsing privacy; whilst HTTP traffic is increasingly encrypted, this is seldom the case for DNS traffic. This makes it relatively trivial for an intermediary to work out what site you&#39;re sending traffic to. In that post, I went through the technical steps required to modify a router using OpenWRT to support DNS Privacy using the DNS-Over-TLS protocol.</p><p>GL.iNet were in contact since I wrote the original blog post and very supportive of encrypting DNS queries at the router level. Last week whilst working in Cloudflare&#39;s San Francisco office, they reached out to me over Twitter to let me know they were soon to launch a new product with a new web UI containing a &quot;DNS over TLS from Cloudflare&quot; feature and offered to send me the new router before it was even available for pre-order.</p><p>On arrival back to our London office, I found a package from Hong Kong waiting for me. Aside from the difference in colour, the AR750<b>S</b> itself is identical in form-factor to the AR750 and was packaged up very similarly. They both have capacity for external storage, an OpenVPN client and can be powered over USB; amongst many other useful functionalities. Alongside the <i>S</i> suffixing the model number, I did notice the new model had some upgraded specs, but I won&#39;t dwell on that here.</p><p>Below you can see the white AR750 and the new black AR750S router together for comparison. Both have a WAN ethernet port, 2 LAN ethernet ports, a USB port for external storage (plus a micro SD port) and a micro USB power port.</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/6xi7DHkcKlmlyhATCPwXY5/a82076b200401a9fe30a6c349f281c88/IMG_4222-COLLAGE--1-.jpg\" alt=\"GL.iNet GL-AR750S\" class=\"kg-image\" width=\"1535\" height=\"2046\" loading=\"lazy\"/>\n            \n            </figure><p>The UI is where the real changes come. In the <i>More Settings</i> tab, there&#39;s an option to configure DNS with some nice options.</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/44yMMCQEQYU0gwF2Mw7sJy/398c301dc854533ee1f8f07b5bf15ef3/Screen-Shot-2018-07-14-at-03.46.56.png\" alt=\"GL.iNet GL-AR750S DNS\" class=\"kg-image\" width=\"750\" height=\"605\" loading=\"lazy\"/>\n            \n            </figure><p>One notable option is the <i>DNS over TLS from Cloudflare</i> toggle. This option uses the TLS security protocol for encrypting DNS queries, helping increase privacy and prevent eavesdropping.</p><p>Another option, <i>Override DNS Settings for All Clients</i>, forcibly overrides the DNS configuration on all clients so that queries are encrypted to the WAN. Unencrypted DNS traffic is intercepted by the router, and by forcing traffic to use it&#39;s own local resolver, it is able to transparently rewrite traffic to be encrypted before leaving the router and heading out into the public internet to the upstream resolver - 1.1.1.1.</p><p>This option is particularly useful when dealing with embedded systems or IoT devices which don&#39;t have configurable DNS options; Smart TVs, TV boxes, <a href=\"/iot-security-anti-patterns/\">your toaster</a>, etc. As this router can proxy traffic over to other Wi-Fi networks (and is portable), this is particularly useful when connecting out to an ordinarily insecure Wi-Fi network; the router can sit in the middle and transparently upgrade unencrypted DNS queries. This is even useful when dealing with phones and tablets where you can&#39;t install a DNS-Over-TLS client.</p><p>These options both come disabled by default, but can easily be toggled in the UI. As before, you can configure other DNS resolvers by toggling &quot;Manual DNS Server Settings&quot; and entering in any other DNS servers.</p><p>There are a number of other cool features I&#39;ve noticed in this router; for example, the <i>More Settings</i> &gt; <i>Advanced</i> option takes you into a standard LuCi UI that ordinarily comes bundled with LEDE routers. Like previous routers, you can easily <a href=\"https://www.cloudflare.com/learning/access-management/what-is-ssh/\">SSH</a> into the device and install various program and perform customisations.</p><p>For example; after installing TCPDump on the router, I am able to run <code>tcpdump -n -i wlan-sta &#39;port 853&#39;</code> to see encrypted DNS traffic leaving the router. When I run a DNS query over an unencrypted resolver (using <code>dig A junade.com</code> on my local computer), I can see the outgoing DNS traffic upgraded to encrypted queries on 1.1.1.1 and 1.0.0.1.</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/1xYgg1X0pt0JApfVWfLNo2/517324cc34e85986269b4773093188f9/Screen-Shot-2018-07-14-at-17.21.37.png\" alt=\"TCPDump on Encrypted DNS\" class=\"kg-image\" width=\"1000\" height=\"706\" loading=\"lazy\"/>\n            \n            </figure><p>If you&#39;re interested in learning how to configure 1.1.1.1 on other routers, your computer or your phone - check out the project landing page at <a href=\"https://1.1.1.1/\">https://1.1.1.1/</a>. If you&#39;re a developer and want to learn about how you can integrate 1.1.1.1 into your project with either DNS-Over-TLS or DNS-Over-HTTPS, checkout the <a href=\"https://developers.cloudflare.com/1.1.1.1/\">1.1.1.1 Developer Documentation</a>.</p>",
		"id": "6qlpMBGbFi8esdYxM4LWxG",
		"localeList": {
			"name": "DNS-Over-TLS Built-In & Enforced - 1.1.1.1 and the GL.iNet GL-AR750S Config",
			"enUS": "English for Locale",
			"zhCN": "No Page for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "No Page for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "No Page for Locale",
			"koKR": "No Page for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": null,
		"metadata": {
			"imgPreview": ""
		},
		"primary_author": {},
		"published_at": "2018-07-14T18:13:00.000+01:00",
		"reading_time": 4,
		"slug": "dns-over-tls-built-in",
		"tags": [
			{
				"id": "2FQK880QI5lKEUCjVHBber",
				"name": "1.1.1.1",
				"slug": "1-1-1-1"
			},
			{
				"id": "5fZHv2k9HnJ7phOPmYexHw",
				"name": "DNS",
				"slug": "dns"
			},
			{
				"id": "56vA0Z6hqev6QaJBQmO2J8",
				"name": "TLS",
				"slug": "tls"
			},
			{
				"id": "3BWeMuiOShelE7QM48sW9j",
				"name": "Privacy",
				"slug": "privacy"
			},
			{
				"id": "2erOhyZHpwsORouNTuWZfJ",
				"name": "Resolver",
				"slug": "resolver"
			},
			{
				"id": "4broVyCeNUWcCLQWJN5lQm",
				"name": "IoT",
				"slug": "iot"
			},
			{
				"id": "6Mp7ouACN2rT3YjL1xaXJx",
				"name": "Security",
				"slug": "security"
			}
		],
		"title": "DNS-Over-TLS Built-In & Enforced - 1.1.1.1 and the GL.iNet GL-AR750S",
		"updated_at": "2024-08-27T02:20:56.698Z",
		"url": "https://blog.cloudflare.com/dns-over-tls-built-in"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.blurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}