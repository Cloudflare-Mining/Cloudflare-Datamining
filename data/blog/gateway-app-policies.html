<div class="mb2 gray5">4 min read</div><img class="mr2" src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/5ZZBBE6yd1Ll1bigEpUQ1Q/ee87c6177d48e1db8fa8d7f6b09973d9/gateway-app-policies.png" alt="">
<div class="post-content lh-copy gray1">
	<p></p>
	<p>Nearly a year ago, we announced <a href="https://teams.cloudflare.com">Cloudflare for Teams</a>, Cloudflare’s platform for securing users, devices, and data. With Cloudflare for Teams, our global network becomes your team’s network, replacing on-premise appliances and security subscriptions with a single solution delivered closer to your users — wherever they work. Cloudflare for Teams centers around two core products: Cloudflare Access and Cloudflare Gateway.</p>
	<p>Cloudflare Gateway protects employees from security threats on the Internet and enforces appropriate use policies. We built Gateway to help customers replace the pain of backhauling user traffic through centralized firewalls. With Gateway, users instead connect to one of Cloudflare’s data centers in 200 cities around the world where our network can apply consistent security policies for all of their Internet traffic.</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/4buYtp6iTiEE9aDETwjhS9/e6e1f4e203088922f206825825d0b531/image4-6.png" alt="" class="kg-image" width="1639" height="793" loading="lazy">

	</figure>
	<p>In March 2020, we launched Gateway’s first feature, a <a href="https://blog.cloudflare.com/protect-your-team-with-cloudflare-gateway">secure DNS filtering solution</a>. With Gateway’s DNS filtering, administrators can click a single button to block known threats, like sources of malware or phishing sites. Policies can also be used to block specific risky categories, like gambling or social media. When users request a filtered site, Gateway stops the DNS query from resolving and prevents the device from connecting to a malicious destination or hostname with blocked material.</p>
	<p>More recently, we expanded Gateway’s security filtering with a <a href="https://blog.cloudflare.com/gateway-swg">cloud L7 firewall</a>. The L7 firewall enables admins to apply security and content policies to HTTP traffic. For example, teams can stop files from being uploaded to certain applications or to build rules by URL.</p>
	<div class="flex anchor relative">
		<h3 id="the-mundane-task-of-managing-firewall-settings-for-cloud-apps">The mundane task of managing firewall settings for cloud apps</h3>
		<a href="https://blog.cloudflare.com/#the-mundane-task-of-managing-firewall-settings-for-cloud-apps" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>Building those rules for a single hostname or URL takes just a few clicks, but applying these policies to entire “applications” can be tedious. We often think of popular applications, like Microsoft Office 365, as a single entity. But behind the scenes, those services rely on hundreds of hostnames and IP addresses that collectively enable the application. If your team wants to build a rule to always allow file uploads to Office 365, you would have to find and input every single destination in their changing list.</p>
	<p>For example, <i>Salesforce</i> is more than just salesforce.com. As of today, Salesforce uses 11 unique apex domains (e.g., forceusercontent.com, or sfdcstatic.com), and this list continues to grow.</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/7ktvj0DnhKuVOzvcKSGUtU/a57563a7f29470114bf3ecee0ce07b87/image1-9.png" alt="" class="kg-image" width="509" height="244" loading="lazy">

	</figure>
	<p>If an IT administrator wants to ensure that Salesforce functions properly on their network, they will need to make sure that all of Salesforce’s domains are in their allowlist. And, they’ll need to make sure that they update this list whenever Salesforce adds a new network endpoint.</p>
	<p>Maintaining a firewall policy for just one application can create enough of a headache. Most organizations need to keep track of hundreds of cloud applications that they want to manage on their network. These allow lists might consist of thousands of hostnames and require hours of time spent on tedious review to make sure that they are up-to-date and comprehensive.</p>
	<p>Adding to this complexity is the constantly evolving landscape of cloud applications. An IT administrator might need to limit access to all unapproved file sharing applications on company devices for compliance requirements. To achieve this, they will need to keep track of all file sharing services and all the hostnames associated with each file sharing service.</p>
	<div class="flex anchor relative">
		<h3 id="gateway-policies-with-applications-and-app-types">Gateway policies with Applications and App Types</h3>
		<a href="https://blog.cloudflare.com/#gateway-policies-with-applications-and-app-types" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>We want to reduce the burden on IT administrators and streamline the way organizations manage their firewall policies for cloud applications. Starting today, you can skip that chore with Cloudflare Gateway.</p>
	<p>Cloudflare does the work of researching and grouping these applications for you. Your team can use those collections to build single Gateway HTTP rules by both <b>application</b> (e.g., Salesforce, Microsoft Office 365) and <b>app type</b> (e.g., File Sharing, Social Media).</p>
	<p>Applications consist of a collection of hostnames based on the cloud application they belong to. App Types consist of a collection of applications.</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3D9cKnl4wiGGqREClAnlyo/00fa599e14be22cab975187f4980885d/image5-5.png" alt="" class="kg-image" width="1193" height="657" loading="lazy">

	</figure>
	<p>To create a policy using applications or app types, first navigate to the “Policies” tab of the Gateway section of the Teams dashboard. Then select the “HTTP” tab, and click the blue “Add a rule” button on the right hand side to navigate to the rule builder.</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/0Mn0lf37Q33lbRa9QfTYm/ed0af19de8255406115b7a75e86bc3cb/image6-3.png" alt="" class="kg-image" width="1999" height="994" loading="lazy">

	</figure>
	<p>For example, let’s create a rule to block all Collaboration &amp; Online Meeting tools except for Slack. In the “Selector” drop down menu, select the “Application” option, and in the “Operator” drop down menu just next to it, select the “in” option. In the “Value” field, start typing “Collaboration &amp; Online Meetings” and you’ll see the rest of the app type auto-populate.</p>
	<p>Once you click “Collaboration &amp; Online Meetings”, the full set of apps will populate in the value field. To remove Slack, press the “x” on the right hand side of value “Slack.”</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/anHuMCkZRKqp3NYP0Ekhp/ce0deb426e30e98e46524000d27c62ad/image3-7.png" alt="" class="kg-image" width="1999" height="948" loading="lazy">

	</figure>
	<p>Lastly, navigate to the “Action” drop down at the bottom of the rule builder. Here, select “Block.” Don’t forget to save your rule by clicking the blue “Save” button on the top right hand side of the screen.</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/zkvhlag99gkb/2qxBHdzUcoSiCeN1hixTE9/520122e3236dc7ed69d72c0c971a846c/image7-1.png" alt="" class="kg-image" width="1999" height="956" loading="lazy">

	</figure>
	<p>Now you’ve created your first Application rule! With one rule, you saved yourself having to bulk upload a list of several hundred hostnames to achieve the same result. You also won’t need to keep an eye on updates to network endpoints for those 20+ apps either — we’ll take care of intelligently updating that list for you.</p>
	<div class="flex anchor relative">
		<h3 id="whats-next">What’s Next</h3>
		<a href="https://blog.cloudflare.com/#whats-next" aria-hidden="true" class="relative sm:absolute sm:-left-5">
			<svg width="16" height="16" viewBox="0 0 24 24">
				<path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path>
			</svg>
		</a>
	</div>
	<p>Today, we support 223 applications across 17 app types. To view the full list of supported applications and their associated app types, check out the Gateway documentation. We’ll be making continuous updates to this list to support additional applications and app types, as well as provide additional controls and visibility into Shadow IT on your network.</p>
	<p>Applications and app types are available in the Gateway rule builder today for all customers using the L7 firewall. The L7 firewall is available in Gateway standalone, Teams Standard, and Teams Enterprise plans. If you aren’t using Gateway yet, you can get started by <a href="https://dash.cloudflare.com/sign-up/teams">signing up for a Gateway account</a> and following the <a href="https://developers.cloudflare.com/gateway/getting-started">onboarding directions</a>.</p>
</div>