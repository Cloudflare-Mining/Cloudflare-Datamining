{
	"locale": "en-us",
	"post": {
		"id": "5d16453b41acde0011a95436",
		"uuid": "a6334f9c-995d-4e9b-9b4d-585a2cc991ec",
		"title": "Introducing Page Rules: Fine Grained Control over CloudFlare's Features",
		"slug": "introducing-pagerules-fine-grained-feature-co",
		"html": "<!--kg-card-begin: markdown--><p><img alt=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s\nFeatures\" src=\"http://blog.cloudflare.com/content/images/cf-blog-pagerules.png.scaled500.png\" title=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\"><noscript><img alt=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\" src=\"http://blog.cloudflare.com/content/images/cf-blog-pagerules.png.scaled500.png\" title=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\"></noscript></p>\n<p>CloudFlare is provisioned by DNS. That means that, from the beginning, you've been able to turn CloudFlare on or off on a subdomain level. From the CloudFlare DNS Manager, you can toggle the little clouds next to your subdomains orange (on) or gray (off) in order to control whether traffic for that subdomain will pass through CloudFlare's proxy.</p>\n<p>Often, however, users have wanted finer-grained control. For example, you may want to have a CloudFlare app like UserVoice added to your public-facing pages, but not appear on your private administrative areas of your website. Before today, that wasn't an option.</p>\n<h3 id=\"introducingpagerules\">Introducing Page Rules</h3>\n<p>Page Rules is a powerful new set of tools that allows you to control how CloudFlare works on your site on a page-by-page basis. The feature provides many of the most popular controls of HTACCESS with a user-friendly interface. Page Rules are now available for all users from the Settings menu next to each domain on the My Websites page. Over the next few days we'll be posting some tutorials on the CloudFlare Blog on various ways you can use Page Rules, but I wanted to start with the example above: how to turn a <a href=\"https://www.cloudflare.com/apps\">CloudFlare app</a> like UserVoice off on the administrative portion of your website.</p>\n<p><img alt=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\" src=\"http://blog.cloudflare.com/content/images/page_rules_menu_highlighted.png.scaled500.png\" title=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\"><noscript><img alt=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\" src=\"http://blog.cloudflare.com/content/images/page_rules_menu_highlighted.png.scaled500.png\" title=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\"></noscript></p>\n<h3 id=\"usingpagerulestocontrolcloudflarefeaturesandapps\">Using Page Rules to Control CloudFlare Features and Apps</h3>\n<p>The first step to using Page Rules is to define a pattern that defines when the rule is triggered. These patterns can be simple, such as a single URL, or complicated including multiple wildcards. Imagine you have a content management system with a single administrative URL:</p>\n<ul>\n<li><code>https://www.example.com/admin.php</code></li>\n</ul>\n<p>If that is the only URL where you want <a href=\"https://www.cloudflare.com/apps\">CloudFlare Apps</a> to be turned off, you can enter it in exactly that form as a new pattern. Then, below the pattern, toggle the &quot;Apps&quot; setting to &quot;Off.&quot; It's as simple as that.</p>\n<p><img alt=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\" src=\"http://blog.cloudflare.com/content/images/new_page_rule.png.scaled500.png\" title=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\"><noscript><img alt=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\" src=\"http://blog.cloudflare.com/content/images/new_page_rule.png.scaled500.png\" title=\"Introducing Page Rules: Fine Grained Control over CloudFlare&apos;s Features\"></noscript></p>\n<h3 id=\"wildcardandadvancedpatternmatching\">Wildcard and Advanced Pattern Matching</h3>\n<p>The pattern above will only match the following URL:</p>\n<ul>\n<li><code>https://www.example.com/admin.php</code></li>\n</ul>\nIt will not match any of the following URLs:\n<ul>\n<li><code>http://www.example.com/admin.php</code> <em>[http &#x2260; https]</em></li>\n<li><code>https://example.com/admin.php</code> <em>[missing www subdomain]</em></li>\n<li><code>https://www.example.com/admin</code> <em>[admin &#x2260; admin.php]</em></li>\n</ul>\nYou can make rules more flexible by including wildcards with the * character. For example, if you wanted the pattern to match all four of the above URLs, you could use a pattern like:\n<ul>\n<li><code>*example.com/admin*</code></li>\n</ul>\n<p>A wildcard can represent <strong>zero or more</strong> characters and can be used anywhere in the pattern. So, for example, the following pattern:</p>\n<ul>\n<li><code>https://www.example.com/*b*/*</code></li>\n</ul>\n<p>Would match:</p>\n<ul>\n<li><code>https://www.example.com/blog/</code></li>\n<li><code>https://www.example.com/blog/index.php</code></li>\n<li><code>https://www.example.com/b/admin/folder/index.php</code></li>\n<li><code>https://www.example.com/myblog/</code></li>\n</ul>\n<p>But would not match:</p>\n<ul>\n<li><code>https://www.example.com/blog</code> <em>[missing the trailing slash]</em></li>\n<li><code>https://www.example.com/sam/index.php</code> <em>[sam doesn&apos;t contain a\n&quot;b&quot;]</em></li>\n</ul>\n### Practical Example\nMany WordPress users want to disable CloudFlare Apps and performance features like Rocket Loader on their WordPress Admin panel while leaving them on for their public facing pages. To do this, for most default WordPress setups, you can now create a PageRule by defining the following rule:\n<ul>\n<li><code>*example.com/wp-admin*</code></li>\n</ul>\n<p>Then toggle Apps and Performance to &quot;off&quot; then click the Add Rule button. As soon as the rule is in place, your WordPress admin pages will not have CloudFlare Apps like UserVoice included and will not be altered by features like Rocket Loader or AutoMinify.</p>\n<h3 id=\"nontrivial\">Non-Trivial</h3>\n<p>Making this work at our scale is non-trivial. To make sure it is fast, when you create a rule, it is compiled into machine code and pushed out to the edge of our network within a couple seconds. Every rule needs then needs to be checked with every request. Given that, under normal load, we're now processing well over 50,000 requests per second, we needed to put some limits on the number of rules per user. Free accounts include three (3) Page Rules per domain. If you need more, you can upgrade to a Pro account which includes twenty (20) Page Rules per domain.</p>\n<p>Over the next few days, we'll be posting other powerful things you can do with Page Rules including how you can use it for advanced URL forwarding as well as ways that it can enable powerful new caching.</p>\n<!--kg-card-end: markdown-->",
		"comment_id": "4416",
		"feature_image": "http://blog.cloudflare.com/content/images/2018/02/page_rules_menu_highlighted.png.scaled500.png",
		"featured": false,
		"visibility": "public",
		"created_at": "2014-08-20T11:03:46.000+01:00",
		"updated_at": "2018-02-01T23:57:47.000+00:00",
		"published_at": "2012-02-20T23:57:00.000+00:00",
		"custom_excerpt": "CloudFlare is provisioned by DNS. That means that, from the beginning, you've been able to turn CloudFlare on or off on a subdomain level. From the CloudFlare DNS Manager. Often, however, users have wanted finer-grained control. ",
		"codeinjection_head": null,
		"codeinjection_foot": null,
		"custom_template": null,
		"canonical_url": null,
		"authors": [
			{
				"id": "5d1644b141acde0011a94f2d",
				"name": "Matthew Prince",
				"slug": "matthew-prince",
				"profile_image": "http://blog.cloudflare.com/content/images/2023/06/Matthew-Prince-3.jpeg",
				"cover_image": "http://blog.cloudflare.com/content/images/2018/08/general@2x-79.png",
				"bio": "A little bit geek, wonk, and nerd. Repeat entrepreneur, recovering lawyer, and former ski instructor. Co-founder & CEO of Cloudflare (NYSE: NET).",
				"website": null,
				"location": "San Francisco, CA",
				"facebook": null,
				"twitter": "@eastdakota",
				"meta_title": null,
				"meta_description": null,
				"url": "http://blog.cloudflare.com/author/matthew-prince/"
			}
		],
		"tags": [
			{
				"id": "5d16450341acde0011a951ee",
				"name": "Product News",
				"slug": "product-news",
				"description": "Product News (EN)",
				"feature_image": "http://blog.cloudflare.com/content/images/2020/10/Product-News-1.png",
				"visibility": "public",
				"meta_title": "Cloudflare Blog: Product News",
				"meta_description": "Collection of Cloudflare blog posts tagged 'Product News'.",
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/product-news/"
			},
			{
				"id": "5d16450341acde0011a951c1",
				"name": "Page Rules",
				"slug": "page-rules",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/page-rules/"
			},
			{
				"id": "5d16450341acde0011a951d6",
				"name": "DNS",
				"slug": "dns",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/dns/"
			},
			{
				"id": "5d16450341acde0011a95160",
				"name": "Speed & Reliability",
				"slug": "speed-and-reliability",
				"description": null,
				"feature_image": "http://blog.cloudflare.com/content/images/2020/10/Speed---Reliability-1.png",
				"visibility": "public",
				"meta_title": "Cloudflare Blog: Speed & Reliability",
				"meta_description": "Collection of Cloudflare blog posts tagged 'Speed & Reliability'.",
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/speed-and-reliability/"
			},
			{
				"id": "5d16450341acde0011a951ce",
				"name": "Reliability",
				"slug": "reliability",
				"description": null,
				"feature_image": null,
				"visibility": "public",
				"meta_title": null,
				"meta_description": null,
				"og_image": null,
				"og_title": null,
				"og_description": null,
				"twitter_image": null,
				"twitter_title": null,
				"twitter_description": null,
				"codeinjection_head": null,
				"codeinjection_foot": null,
				"canonical_url": null,
				"accent_color": null,
				"url": "http://blog.cloudflare.com/tag/reliability/"
			}
		],
		"primary_author": {
			"id": "5d1644b141acde0011a94f2d",
			"name": "Matthew Prince",
			"slug": "matthew-prince",
			"profile_image": "http://blog.cloudflare.com/content/images/2023/06/Matthew-Prince-3.jpeg",
			"cover_image": "http://blog.cloudflare.com/content/images/2018/08/general@2x-79.png",
			"bio": "A little bit geek, wonk, and nerd. Repeat entrepreneur, recovering lawyer, and former ski instructor. Co-founder & CEO of Cloudflare (NYSE: NET).",
			"website": null,
			"location": "San Francisco, CA",
			"facebook": null,
			"twitter": "@eastdakota",
			"meta_title": null,
			"meta_description": null,
			"url": "http://blog.cloudflare.com/author/matthew-prince/"
		},
		"primary_tag": {
			"id": "5d16450341acde0011a951ee",
			"name": "Product News",
			"slug": "product-news",
			"description": "Product News (EN)",
			"feature_image": "http://blog.cloudflare.com/content/images/2020/10/Product-News-1.png",
			"visibility": "public",
			"meta_title": "Cloudflare Blog: Product News",
			"meta_description": "Collection of Cloudflare blog posts tagged 'Product News'.",
			"og_image": null,
			"og_title": null,
			"og_description": null,
			"twitter_image": null,
			"twitter_title": null,
			"twitter_description": null,
			"codeinjection_head": null,
			"codeinjection_foot": null,
			"canonical_url": null,
			"accent_color": null,
			"url": "http://blog.cloudflare.com/tag/product-news/"
		},
		"url": "http://blog.cloudflare.com/introducing-pagerules-fine-grained-feature-co/",
		"excerpt": "CloudFlare is provisioned by DNS. That means that, from the beginning, you've been able to turn CloudFlare on or off on a subdomain level. From the CloudFlare DNS Manager. Often, however, users have wanted finer-grained control. ",
		"reading_time": 4,
		"access": true,
		"comments": false,
		"og_image": null,
		"og_title": null,
		"og_description": null,
		"twitter_image": null,
		"twitter_title": null,
		"twitter_description": null,
		"meta_title": null,
		"meta_description": null,
		"email_subject": null,
		"frontmatter": null,
		"feature_image_alt": null,
		"feature_image_caption": null
	}
}