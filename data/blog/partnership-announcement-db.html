<div class="mb2 gray5">7 min read</div>
<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/3sIg8cVZ4EAJSZ9qHbkaaT/caa2570a7bba6819c8968408ce7a0551/Data-Center-Partnerships-1.png" alt="" class="kg-image" width="1439" height="801" loading="lazy">

	</figure>
	<p>Cloudflare Workers is the easiest way for developers to deploy their application’s code with performance, scale and security baked in. No configuration necessary. Worker code scales to serve billions of requests close to your users across Cloudflare’s 200+ data centers.</p>
	<p>But that’s not the only interesting problem we need to solve. Every application has two parts: code and state.</p>
	<p>State isn’t always the easiest to work in a massive distributed system. When an application runs in 200+ data centers simultaneously, there’s an inherent tradeoff between distributing the data for better performance, availability, scale, and guaranteeing that all data centers see the same data at a given point in time.</p>
	<p>Our goal is to make state at the edge seamless. We started that journey with Workers KV, which provides low-latency access to globally distributed data. We’re since added Durable Objects, with strong consistency and the ability to design coordination patterns on top of Workers. We’re continuing to invest in and build out these products.</p>
	<p>However, some use cases aren’t easily implemented with Workers KV or Durable Objects. Think querying complex datasets, or communicating with an existing system-of-record. Even if we built this functionality ourselves, there will always be customers who want to use a different tool for data storage and access.</p>
	<p>Today, we’re making our data strategy clear so that developers can build on Workers with confidence. First, we’re announcing a partnership with two distributed data companies, Macrometa and Fauna, to help developers choose an edge-first database when they build a new application on Workers. Next, we’ve introduced tutorials and guides for databases that already support HTTP connections to make connecting to existing databases even easier.</p>
	<p>With this, the Workers runtime is the easiest way to handle both parts of your application that matter: code and state.</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/CSyzDOiAvnB2QVk8poDm6/19fcf3c134b7d3946487648257cde01a/Screenshot-2021-04-15-at-21.52.09.png" alt="" class="kg-image" width="1262" height="114" loading="lazy">

	</figure>
	<p>Cloudflare is excited to announce a partnership for global data with <a href="https://www.macrometa.com/cloudflare">Macrometa</a>. Macrometa provides a serverless data platform for developers to build rich, geo-distributed, stateful applications on the edge with Cloudflare Workers. The Macrometa Global Data Network (GDN) is an ultra-fast, globally replicated noSQL database with integrated features for search, pub/sub, streams, and stream processing.</p>
	<p>Macrometa complements Cloudflare Workers by enabling stateful functions to run, store, query, mutate, and serve data globally with local read/write latencies. Tables replicate across Macrometa’s global data centers with configurable consistency and without additional code, cost, or complexity. Data calls between Workers and Macrometa are automatically routed and served from the closest Macrometa region relative to the Cloudflare Worker invocation. <i>We have seen that end-to-end latency for a database request from a client to the edge and back is &lt;75ms for 99th percentile.</i></p>
	<p>Macrometa combines typically disparate data services and APIs (each with their own data model and copy of data) into a single, integrated, and intuitive data API (with a single, unified common data set and model). At a high level, one can think of Macrometa as combining a noSQL database together with pub/sub, streaming data and event processing along with search into a seamless, globally replicated, low latency data platform.</p>
	<p>The following multimodal interfaces are available to the developer via a SQL-like query language:</p>
	<ul>
		<li>
			<p>Key/value database with high write performance, low latencies, and Time to Live (TTL) support</p>
		</li>
		<li>
			<p>JSON document database with a SQL-like query language</p>
		</li>
		<li>
			<p>Graph database for storing and retrieving relationships between entities</p>
		</li>
		<li>
			<p>DynamoDB API compatible database</p>
		</li>
		<li>
			<p>Low latency edge cache for database and API results with global cache invalidation and Time to Live (TTL)</p>
		</li>
		<li>
			<p>Search</p>
		</li>
		<li>
			<p>Pub/Sub &amp; queues with Kafka, Pulsar and MQTT message compatibility</p>
		</li>
		<li>
			<p>Streaming data and complex event processing - evaluate events, aggregate, enrich, filter, summarize, pattern match on stream data in real time.</p>
		</li>
	</ul>
	<p>Apps written using Cloudflare Workers consume Macrometa via a JavaScript SDK or REST API. Developers have a choice of using one of two SDKs tightly integrated with Cloudflare Workers:</p>
	<ul>
		<li>
			<p>A Cloudflare Worker specific <a href="https://github.com/Macrometacorp/jsC8">JavaScript SDK</a> which provides the full set of capabilities mentioned above</p>
		</li>
		<li>
			<p>The Dynamo <a href="https://github.com/Macrometacorp/mmdynamo">client SDK</a> that enables developers to use Macrometa as a drop-in replacement AWS DynamoDB (or as an edge cache).</p>
		</li>
	</ul>
	<h3>Example Use-cases</h3>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/71wQKtT8amSCgQjPfRFK2U/da49d3216a18b1eea84615575e8d8652/image2-16.png" alt="" class="kg-image" width="1999" height="1209" loading="lazy">

	</figure>
	<blockquote>
		<p>With Cloudflare and Macrometa, developers can now build and deliver powerful and compelling data-driven experiences in a way that the centralized clouds will never be able to. The world deserves a better cloud - an edge cloud.- <b>Chetan Venkatesh, Co-founder/CEO, Macrometa</b></p>
	</blockquote>
	<p>If you are interested in learning more about using Macrometa and Cloudflare Workers together, please register <a href="https://forms.gle/AU2fcDB5km8JXwZ17">here</a>.</p>
	<h3>Case study for Cloudflare Workers + Macrometa: A bookstore demo app</h3>
	<p>To showcase the power and performance of Cloudflare and Macrometa together, we re-built AWS’s demo application — a complete E-Commerce backend that serves an online bookstore. eCommerce backends for large global sites are complex and require many different types of databases. These complex architectures are necessary to store, perform multi-table or multi-data store queries, and serve product catalogs, pricing, search, recommendations, order management, cart operations, fulfillment, etc.</p>
	<p>The bookstore is a serverless app built as a Cloudflare Worker to serve a React single page application and uses Macrometa for storing and serving product/catalog data, orders, cart operations, etc. It uses streams and complex event processing to provide a real-time leaderboard of the top-selling books and uses the Macrometa search service to deliver near-instant search results. You can test drive the end-user experience <a href="https://bookstore.macrometadev.workers.dev">here</a>. Our tests show orders of magnitude latency improvement for a user vs. the same use case built on a legacy cloud provider.</p>
	<p>To check out the source code, head over to <a href="https://github.com/Macrometacorp/tutorial-cloudflare-bookstore">GitHub</a>.</p>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/635Nx7KtkRks6ePcinqvMS/4419bfc6584e8d19c1b28856784a43dd/Database-partnership-Macrometa.png" alt="" class="kg-image" width="1144" height="591" loading="lazy">

	</figure>
	<hr>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/2TKgQ0MYyU7J7EPP7vGfVI/956adf31539b761f204b02a2996a4184/Screenshot-2021-04-15-at-21.54.50.png" alt="" class="kg-image" width="1250" height="154" loading="lazy">

	</figure>
	<p>Cloudflare is excited to announce a new partnership for transactional workloads with <a href="https://fauna.com/?utm_source=Cloudflare&amp;utm_medium=referral&amp;utm_campaign=Cloudflare-Blog-Developer-Week">Fauna</a>, a data API for modern applications. Together, Cloudflare and Fauna enable developers to build more powerful stateful applications that scale dynamically and maintain strong consistency without any additional configuration.</p>
	<p>Fauna is a flexible, developer-friendly, global transactional database delivered as a secure, global, cloud API — no database operations required. With Fauna, developers can simplify code and ship faster by replacing their database infrastructure with a data API that combines the flexibility of relational and document-centric querying with the power of custom business logic, and the ease of <a href="https://docs.fauna.com/fauna/current/tutorials/graphql/?utm_source=Cloudflare&amp;utm_medium=referral&amp;utm_campaign=Cloudflare-Blog-Developer-Week">GraphQL</a> at the edge.</p>
	<p>Fauna is a simple yet scalable backend for applications built on Cloudflare’s services such as Workers and Pages. By leveraging a web-native (HTTP-based) invocation model with support for modern <a href="https://docs.fauna.com/fauna/current/security/?utm_source=Cloudflare&amp;utm_medium=referral&amp;utm_campaign=Cloudflare-Blog-Developer-Week">security</a> protocols, Fauna eliminates the connection limits introduced by traditional databases and can be integrated directly with serverless functions and applications running at the edge.</p>
	<p>Fauna complements Cloudflare KV and Durable Objects by providing a global, queryable, strongly consistent persistence layer for the mission-critical data required to build modern web and mobile applications. It’s underlying globally distributed storage engine is fast, consistent, and reliable. Developers can rely on Fauna’s <a href="https://fauna.com/blog/consistency-without-clocks-faunadb-transaction-protocol">unique</a> global transactional capabilities to ensure that mission-critical business data is always strongly consistent with minimal latency.</p>
	<p>Fauna, a serverless offering, is easy to get started with for <a href="https://fauna.com/pricing?%3Futm_source=Cloudflare&amp;utm_medium=referral&amp;utm_campaign=Cloudflare-Blog-Developer-Week">free</a>, and lets developers experience freedom from database operations at any scale. Fauna is available through GraphQL or <a href="https://docs.fauna.com/fauna/current/start/?utm_source=Cloudflare&amp;utm_medium=referral&amp;utm_campaign=Cloudflare-Blog-Developer-Week">drivers</a> that work with Workers in several popular programming languages.</p>
	<p>If you’re interested in learning how to use Fauna with Cloudflare Workers, please visit this step-by-step <a href="https://fauna.com/blog/getting-started-with-fauna-and-cloudflare-workers">tutorial</a> for a hands-on experience! If you are interested in learning more about using Cloudflare Workers and Fauna together, please register <a href="https://forms.gle/7qbxtgtdM3fmaws69">here</a>.</p>
	<blockquote>
		<p>The integration of Cloudflare workers with Fauna allows our joint customers to simply and cost effectively bring both data and logic to the edge. Fauna was developed from the ground up as a globally distributed, serverless database and when combined with Cloudflare Workers serverless compute fabric provides developers with a simple, yet powerful abstraction over the complexities of distributed infrastructure.- <b>Evan Weaver, Co-founder/CTO, Fauna</b></p>
	</blockquote>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/29MrungXYppuMlljdbfgGm/45fb34d95ae97c5dd793a6505e795f28/unnamed-3.png" alt="" class="kg-image" width="1099" height="662" loading="lazy">

	</figure>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/3iXAZ32676Ax7Pot9FscZ6/2cb5b4a4badbba78102543ec49232ea3/unnamed--1--1.png" alt="" class="kg-image" width="1600" height="1204" loading="lazy">

	</figure>
	<h3>Case study for Cloudflare Workers + Fauna: MeetKai, An AI-Powered Voice Assistant</h3>
	<p>Let’s take a look at a current customer of Fauna and Cloudflare who benefits from Fauna’s ability to offer globally-distributed transactional data access at low latency.</p>
	<h3>MeetKai</h3>
	<p>MeetKai is an AI-powered voice assistant that makes a consumer’s life easier through conversation, personalization &amp; curation. Deployed by enterprises with Monthly Active Users in the hundred million plus range, MeetKai uses Fauna and Cloudflare together to deliver a responsive, global experience.</p>
	<p>Cloudflare Workers act as the proxy to all downstream requests. Doing so enables MeetKai to perform much smarter load balancing at the edge, using the Worker rather than some other competing solutions. When combined with Fauna, this serverless-first approach delivers scale and performance at predictable costs, while reducing time to market. By pushing data to the edge with Fauna, MeetKai are able to inject personalization information before a request ever hits the backend! Learn more about how MeetKai uses Cloudflare Workers and Fauna in this technical case <a href="https://fauna.com/blog/meetkai-building-search-with-fauna-and-cloudflare-workers">study</a>.</p>
	<blockquote>
		<p>Combining Cloudflare Workers with Fauna allows us to bring both data and logic to the edge, enabling us to deliver a differentiated search engine while still meeting high operations requirements in latency and uptime -- all at a fraction of the cost and complexity of non-serverless solutions.- <b>James Kaplan, Founder/CEO MeetKai</b></p>
	</blockquote>
	<figure class="kg-card kg-image-card ">

		<img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/6J9Xq1ifhjSNFBQdGPs4fV/db2fbe628f8d0128fe7929239c86cda8/unnamed--2-.png" alt="" class="kg-image" width="1443" height="1151" loading="lazy">

	</figure>
	<h3>Connecting to existing databases</h3>
	<p>In addition to our partners, Cloudflare Workers can work with any database that accepts connections over HTTP.</p>
	<p>In particular, we’ve documented connections to both DynamoDB and AWS Aurora, supporting either Postgres or MySQL. These connections let you access already existing databases directly from Cloudflare’s edge, making it easy to build new applications on top of existing data.</p>
	<p><a href="https://github.com/cloudflare/workers-aws-template">Connect a Worker to DynamoDB</a></p>
	<p><a href="https://github.com/cloudflare/workers-aws-template">Connect a Worker to AWS Aurora</a></p>
	<p>In addition, we’ll be adding more tutorials to document how to connect to other databases that work with Workers, like Google’s Cloud Firestore.</p>
	<h3>Advancing state at the edge</h3>
	<p>The Workers platform has built a new paradigm for developers for serverless. Across our own Durable Objects and Workers KV, our partner databases, and connections to existing providers, we’re bringing that same paradigm shift to state at the edge. As we continue to build out our database partnerships and data platform, we want to hear from you! Send your ideas and feedback to the <a href="mailto:workers-product@cloudflare.com">Workers Product</a> team to let us know what databases and features you’d most like to see us build.</p>
</div>