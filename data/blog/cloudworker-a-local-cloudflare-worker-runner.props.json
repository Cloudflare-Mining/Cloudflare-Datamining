{
	"footerBlurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
	"initialReadingTime": "2",
	"locale": "en-us",
	"localesAvailable": [],
	"post": {
		"authors": [
			{
				"name": "Guest Author",
				"slug": "guest-author",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/YJzTr2p8aLvtEX5J7CysP/dd56b510670ea7bd78c3b19cc5b3bcd7/guest-author.png",
				"location": null,
				"website": null,
				"twitter": null,
				"facebook": null
			}
		],
		"excerpt": "At Dollar Shave Club, we continuously look for ways to improve how we build and ship code. Improving the time it takes for engineers to ship code is key. Providing engineers with a development environment that closely mirrors production really helps.",
		"feature_image": "https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3BnnPcN4mjx0IdmudqzUP3/b62ff0a783880a87ba80fa18105ddf7d/cloudworker-a-local-cloudflare-worker-runner.png",
		"featured": false,
		"html": "<p><i><b><i>This is a guest post b__y </i></b></i><a href=\"https://www.linkedin.com/in/hajacobs/\"><i><b><i>Hank Jacobs</i></b></i></a><i><b><i>, </i></b></i><b><i><b><i>who is</i></b></i></b><b><i> the _</i></b><b><i>Lead Software Engineer for Platform Services &amp; Tools at </i></b><a href=\"https://www.dollarshaveclub.com/\"><b><i>Dollar Shave Club</i></b></a><b><i>. This post originally appeared on the </i></b><a href=\"https://engineering.dollarshaveclub.com/cloudworker-a-local-cloudflare-worker-runner-5a04e48731a5\"><b><i>DSC Engineering blog</i></b></a><i>.</i>___</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/6lqGO5nUh68VvcZfWXqyrJ/fbd1acc2b35ab16c71f5fa035ada26c9/local-worker_2x-1.png\" alt=\"\" class=\"kg-image\" width=\"1632\" height=\"868\" loading=\"lazy\"/>\n            \n            </figure><p>At Dollar Shave Club, we continuously look for ways to improve how we build and ship code. Improving the time it takes for engineers to ship code is key. Providing engineers with a development environment that closely mirrors production really helps.</p><p>Earlier this year, we began evaluating Cloudflare Workers as a replacement for our legacy edge routing and caching layers. Cloudflare Workers brings the power of Javascript to Cloudflare’s Edge. Developers can write and deploy Javacript that gets executed for every HTTP request that passes through Cloudflare. This capability excited us but a critical thing was missing — a way to run Worker code locally. We couldn’t find a suitable solution, so we started to build our own. Luckily, Workers uses the open <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\">Service Workers API</a> so we had documentation to consult. Within a few weeks, <a href=\"https://github.com/dollarshaveclub/cloudworker\">Cloudworker</a> was born.</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/zkvhlag99gkb/3KAjedX2yltNd2BMOJ55Lk/113213d7b48a67afdb230a2e1ea1dbe8/1_YEL9Jja5BmeS0mUrQyzsEQ.png\" alt=\"\" class=\"kg-image\" width=\"1600\" height=\"344\" loading=\"lazy\"/>\n            \n            </figure>\n          <div class=\"flex anchor relative\">\n            <h3 id=\"cloudworker\">Cloudworker</h3>\n            <a href=\"#cloudworker\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p><a href=\"https://github.com/dollarshaveclub/cloudworker\">Cloudworker</a> is a local Cloudflare Worker runtime. With it, you can run Cloudflare Worker scripts locally (or anywhere you can run a Docker image). Our primary goal with Cloudworker is to be as compatible with Cloudflare Workers as possible, simulating features where we can and stubbing out features otherwise.</p><h4>Getting Started</h4><p>To use Cloudworker, install it using npm.</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">npm install -g @dollarshaveclub/cloudworker</pre></code>\n            <p>Using it is straightfoward.</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">cloudworker &lt;worker script&gt;</pre></code>\n            <p>See the <a href=\"https://github.com/dollarshaveclub/cloudworker#usage\">readme</a> for a complete list of supported flags.</p><h4>WebAssembly</h4><p>Cloudflare Workers supports the direct execution of WebAssembly, and so does Cloudworker.</p><p>To start using WebAssembly, run Cloudworker with the <code>--wasm</code> flag to bind a Javascript variable to your <code>.wasm</code> file:</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">cloudworker --wasm Wasm=module.wasm worker.js</pre></code>\n            <p>From within your worker script, you can now create a new WebAssembly Instance with the bound variable.</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">addEventListener(&#039;fetch&#039;, event =&gt; {\n  const instance = new WebAssembly.Instance(Wasm)\n  instance.exports.exported_func()\n  event.respondWith(new Response(&#039;Success!&#039;))\n})</pre></code>\n            <p>See the <a href=\"https://github.com/dollarshaveclub/cloudworker#webassembly\">WebAssembly</a> section of the <a href=\"https://github.com/dollarshaveclub/cloudworker\">readme</a> for more examples.</p><h4>Workers KV</h4><p>Cloudworker also supports an in-memory version of the beta <a href=\"https://developers.cloudflare.com/workers/kv/\">Workers KV</a>feature of Cloudflare Workers. Workers KV is key-value store that can be accessed by Worker scripts.</p><p>Key-value pairs can be bound to a variable using the <code>--set</code> flag.</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">cloudworker --set Store.hello=world worker.js</pre></code>\n            <p>Those key-value pairs can then be used within the worker script.</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">addEventListener(&#039;fetch&#039;, async event =&gt; {  \n  const value = await Store.get(&#039;hello&#039;)    \n  event.respondWith(new Response(value)) // Responds with &#039;world&#039;\n})</pre></code>\n            \n          <div class=\"flex anchor relative\">\n            <h3 id=\"closing-thoughts\">Closing Thoughts</h3>\n            <a href=\"#closing-thoughts\" aria-hidden=\"true\" class=\"relative sm:absolute sm:-left-5\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg>\n            </a>\n          </div>\n        <p>Since its initial release, Cloudworker has become an integral part of our Cloudflare Worker development workflow. We use it to develop our edge router locally as well as use it within our <a href=\"https://engineering.dollarshaveclub.com/qa-environments-on-demand-with-kubernetes-5a571b4e273c\">on-demand QA environments</a>. Additionally, we’ve used Cloudworker as a platform for an internal proxy used to reduce the footprint of our QA environments. We’re truly excited about Cloudworker and hope you find it as useful as we have!</p><hr/><p><i>Cloudflare editor&#39;s note: We love seeing all of the projects the Cloudflare Workers community creates! While we can&#39;t post about everything on the blog, it helps others out when you share what you&#39;ve built on </i><a href=\"https://community.cloudflare.com\"><i>community.cloudflare.com</i></a><i> and Twitter. Some examples of other community projects are:</i></p><ul><li><p><a href=\"https://github.com/gja/cloudflare-worker-local\"><i>Cloudflare Worker Local</i></a><i> (another approach to testing Workers locally)</i></p></li><li><p><a href=\"https://twitter.com/bcnzer/status/1069895077844017153\"><i>Cloudflare Workers KV UI Explorer</i></a></p></li></ul>",
		"id": "4iW0fQdGfEGh8JGSgHioGV",
		"localeList": {
			"name": "Cloudworker  -  A local Cloudflare Worker Runner Config",
			"enUS": "English for Locale",
			"zhCN": "No Page for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "No Page for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "No Page for Locale",
			"koKR": "No Page for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": null,
		"metadata": {
			"imgPreview": ""
		},
		"primary_author": {},
		"published_at": "2018-12-19T16:21:02.000+00:00",
		"slug": "cloudworker-a-local-cloudflare-worker-runner",
		"tags": [
			{
				"id": "6hbkItfupogJP3aRDAq6v8",
				"name": "Cloudflare Workers",
				"slug": "workers"
			},
			{
				"id": "5cye1Bh5KxFh3pKSnX8Dsy",
				"name": "Serverless",
				"slug": "serverless"
			},
			{
				"id": "6lhzEBz2B56RKa4nUEAGYJ",
				"name": "Programming",
				"slug": "programming"
			},
			{
				"id": "78aSAeMjGNmCuetQ7B4OgU",
				"name": "JavaScript",
				"slug": "javascript"
			},
			{
				"id": "4HIPcb68qM0e26fIxyfzwQ",
				"name": "Developers",
				"slug": "developers"
			},
			{
				"id": "3JAY3z7p7An94s6ScuSQPf",
				"name": "Developer Platform",
				"slug": "developer-platform"
			}
		],
		"title": "Cloudworker  -  A local Cloudflare Worker Runner",
		"updated_at": "2024-10-10T00:32:32.312Z",
		"url": "https://blog.cloudflare.com/cloudworker-a-local-cloudflare-worker-runner"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"search.clear": "Clear",
		"search.filter": "Filter",
		"search.source": "Source",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"search.filters": "Filters",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"search.language": "Language",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"search.result_stat": "Results <strong>{search_range}</strong> of <strong>{search_total}</strong> for <strong>{search_keyword}</strong>",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"search.source_location": "Source/Location",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}