<div class="mb2 gray5">3 min read</div>
<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2023/08/Video-Stream-2.png" class="kg-image" alt="Introducing scheduled deletion for Cloudflare Stream" loading="lazy" width="2400" height="1351"></figure>
	<p>Designed with developers in mind, Cloudflare Stream provides a seamless, integrated workflow that simplifies video streaming for creators and platforms alike. With features like <a href="https://blog.cloudflare.com/stream-live-ga">Stream Live</a> and <a href="https://blog.cloudflare.com/stream-creator-management">creator management</a>, customers have been looking for ways to streamline storage management.</p>
	<p>Today, August 11, 2023, Cloudflare Stream is introducing scheduled deletion to easily manage video lifecycles from the Stream dashboard or our API, saving time and reducing storage-related costs. Whether you need to retain recordings from a live stream for only a limited time, or preserve direct creator videos for a set duration, scheduled deletion will simplify storage management and reduce costs.</p>
	<h2 id="stream-scheduled-deletion">Stream scheduled deletion</h2>
	<p>Scheduled deletion allows developers to automatically remove on-demand videos and live recordings from their library at a specified time. Live inputs can be set up with a deletion rule, ensuring that all recordings from the input will have a scheduled deletion date upon completion of the stream.</p>
	<p>Let’s see how it works in those two configurations.</p>
	<h2 id="getting-started-with-scheduled-deletion-for-on-demand-videos">Getting started with scheduled deletion for on-demand videos</h2>
	<p>Whether you run a learning platform where students can upload videos for review, a platform that allows gamers to share clips of their gameplay, or anything in between, scheduled deletion can help manage storage and ensure you only keep the videos that you need. Scheduled deletion can be applied to both new and existing on-demand videos, as well as recordings from completed live streams. This feature lets you specify a specific date and time at which the video will be deleted. These dates can be applied in the Cloudflare dashboard or via the Cloudflare API.</p>
	<h3 id="cloudflare-dashboard">Cloudflare dashboard</h3>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2023/08/Screenshot-2023-08-11-at-12.49.57.png" class="kg-image" alt="" loading="lazy" width="1594" height="630"></figure>
	<ol>
		<li>From the Cloudflare dashboard, select <strong>Videos</strong> under <strong>Stream</strong></li>
		<li>Select a video</li>
		<li>Select <strong>Automatically Delete Video</strong></li>
		<li>Specify a desired date and time to delete the video</li>
		<li>Click <strong>Submit</strong> to save the changes</li>
	</ol>
	<h3 id="cloudflare-api">Cloudflare API</h3>
	<p>The Stream API can also be used to set the scheduled deletion property on new or existing videos. In this example, we’ll create a direct creator upload that will be deleted on December 31, 2023:</p><!--kg-card-begin: markdown-->
	<pre><code class="language-json">curl -X POST \
-H 'Authorization: Bearer &lt;BEARER_TOKEN&gt;' \
-d '{ "maxDurationSeconds": 10, "scheduledDeletion": "2023-12-31T12:34:56Z" }' \
https://api.cloudflare.com/client/v4/accounts/&lt;ACCOUNT_ID&gt;/stream/direct_upload 
</code></pre>
	<!--kg-card-end: markdown-->
	<p>For more information on live inputs and how to configure deletion policies in our API, refer to <a href="https://developers.cloudflare.com/api" target="_blank">the documentation</a>.</p>
	<h2 id="getting-started-with-automated-deletion-for-live-input-recordings">Getting started with automated deletion for Live Input recordings</h2>
	<p>We love how recordings from live streams allow those who may have missed the stream to catch up, but these recordings aren’t always needed forever. Scheduled recording deletion is a policy that can be configured for new or existing live inputs. Once configured, the recordings of all future streams on that input will have a scheduled deletion date calculated when the recording is available. Setting this retention policy can be done from the Cloudflare dashboard or via API operations to create or edit Live Inputs:</p>
	<h3 id="cloudflare-dashboard-1">Cloudflare Dashboard</h3>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2023/08/image3-3.png" class="kg-image" alt="" loading="lazy" width="846" height="629"></figure>
	<ol>
		<li>From the Cloudflare dashboard, select <strong>Live Inputs</strong> under <strong>Stream</strong></li>
		<li>Select <strong>Create Live Input</strong> or an existing live input</li>
		<li>Select <strong>Automatically Delete Recordings</strong></li>
		<li>Specify a number of days after which new recordings should be deleted</li>
		<li>Click <strong>Submit</strong> to save the rule or create the new live input</li>
	</ol>
	<h3 id="cloudflare-api-1">Cloudflare API</h3>
	<p>The Stream API makes it easy to add a deletion policy to new or existing inputs. Here is an example API request to create a live input with recordings that will expire after 30 days:</p><!--kg-card-begin: markdown-->
	<pre><code class="language-json">curl -X POST \
-H 'Authorization: Bearer &lt;BEARER_TOKEN&gt;' \
-H 'Content-Type: application/json' \
-d '{ "recording": {"mode": "automatic"}, "deleteRecordingAfterDays": 30 }' \
https://api.staging.cloudflare.com/client/v4/accounts/&lt;ACCOUNT_ID&gt;/stream/live_inputs/
</code></pre>
	<!--kg-card-end: markdown-->
	<p>For more information on live inputs and how to configure deletion policies in our API, refer to <a href="https://developers.cloudflare.com/api" target="_blank">the documentation</a>.</p>
	<h2 id="try-out-scheduled-deletion-today">Try out scheduled deletion today</h2>
	<p>Scheduled deletion is now available to all Cloudflare Stream customers. Try it out now and join our <a href="https://discord.gg/cloudflaredev" target="_blank">Discord community</a> to let us know what you think! To learn more, check out our <a href="https://developers.cloudflare.com/stream" target="_blank">developer docs</a>. Stay tuned for more exciting Cloudflare Stream updates in the future.</p>
</div>