{
	"locale": "en-us",
	"localesAvailable": [],
	"post": {
		"authors": [
			{
				"name": "Duc Nguyen",
				"slug": "duc",
				"bio": null,
				"profile_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/6bWXI72aJDJn9Wj9m4YGcm/966ed8e6ccd49284a712f74de436c741/duc.jpeg",
				"location": null,
				"website": null,
				"twitter": "@nuggien",
				"facebook": null
			}
		],
		"excerpt": "Logpush jobs can now be filtered to contain only logs of interest. Also, you can receive alerts when jobs are failing, as well as get statistics on the health of your jobs",
		"feature_image": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/5sHEoy0a0HvlOJFzWINNMl/f14334c2f5992c85fa8c7b54814cd36c/logpush-filters-alerts.png",
		"featured": false,
		"html": "\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/4I8Bibk16KmMapo7kafthi/9609a43a4b1ed5bed7408c63464d5112/image5-13.png\" alt=\"Logpush: now lower cost and with more visibility\" class=\"kg-image\" width=\"1801\" height=\"1013\" loading=\"lazy\"/>\n            \n            </figure><p>Logs are a critical part of every successful application. Cloudflare products and services around the world generate massive amounts of logs upon which customers of all sizes depend. Structured logging from our products are used by customers for purposes including analytics, debugging performance issues, <a href=\"https://www.cloudflare.com/application-services/solutions/app-performance-monitoring/\">monitoring application health</a>, maintaining security standards for compliance reasons, and much more.</p><p>Logpush is Cloudflare’s product for pushing these critical logs to customer systems for consumption and analysis. Whenever our products generate logs as a result of traffic or data passing through our systems from anywhere in the world, we buffer these logs and push them directly to customer-defined destinations like <a href=\"https://www.cloudflare.com/products/r2/\">Cloudflare R2</a>, Splunk, AWS S3, and many more.</p><p>Today we are announcing three new key features related to Cloudflare’s <a href=\"https://developers.cloudflare.com/logs/about/\">Logpush</a> product. First, the ability to have only logs matching certain criteria be sent. Second, the ability to get alerted when logs are failing to be pushed due to customer destinations having issues or network issues occurring between Cloudflare and the customer destination. In addition, customers will also be able to query for analytics around the health of Logpush jobs like how many bytes and records were pushed, number of successful pushes, and number of failing pushes.</p><h3>Filtering logs before they are pushed</h3><p>Because logs are both critical and generated with high volume, many customers have to maintain complex infrastructure just to ingest and store logs, as well as deal with ever-increasing related costs. On a typical day, a real, example customer receives about 21 billion records, or 2.1 terabytes (about 24.9 TB uncompressed) of gzip compressed logs. Over the course of a month, that could easily be hundreds of billions of events and hundreds of terabytes of data.</p><p>It is often unnecessary to store and analyze all of this data, and customers could get by with specific subsets of the data matching certain criteria. For example, a customer might want just the set of HTTP data that had status code &gt;= 400, or the set of firewall data where the action taken was to block the user.We can now achieve this in our Logpush jobs by setting specific filters on the fields of the log messages themselves. You can use either our <a href=\"https://developers.cloudflare.com/logs/reference/filters/\">API</a> or the Cloudflare dashboard to set up filters.</p><p>To do this in the dashboard, either create a new Logpush job or modify an existing job. You will see the option to set certain filters. For example, an ecommerce customer might want to receive logs only for the checkout page where the bot score was non-zero:</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/AA0ciHtY8MWoYGyHOKMnQ/9487dfda38fa4d22ce2e1fccb059d23a/image2-30.png\" alt=\"\" class=\"kg-image\" width=\"1076\" height=\"353\" loading=\"lazy\"/>\n            \n            </figure><h3>Logpush job alerting</h3><p>When logs are a critical part of your infrastructure, you want peace of mind that logging infrastructure is healthy. With that in mind, we are announcing the ability to get notified when your Logpush jobs have been retrying to push and failing for 24 hours.</p><p>To set up alerts in the Cloudflare dashboard:</p><p>1. First, navigate to “Notifications” in the left-panel of the account view</p><p>2. Next, Click the “add” button</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/JLWRGmLeEDAsWSgD6QNGY/c07344ce4db0685ad7dde6156b373600/image3-22.png\" alt=\"\" class=\"kg-image\" width=\"1999\" height=\"417\" loading=\"lazy\"/>\n            \n            </figure><p>3. Select the alert “Failing Logpush Job Disabled”</p>\n            <figure class=\"kg-card kg-image-card \">\n            \n            <Image src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/7xw94OPKQCGuN9GwOUnanf/a0cbc4086eb5c8831b0324ed2f40a1b9/image1-35.png\" alt=\"\" class=\"kg-image\" width=\"1986\" height=\"166\" loading=\"lazy\"/>\n            \n            </figure><p>4. Configure the alert and click Save.</p><p>That’s it — you will receive an email alert if your Logpush job is disabled.</p><h3>Logpush Job Health API</h3><p>We have also added the ability to query for stats related to the health of your Logpush jobs to our graphql API. Customers can now use our GraphQL API to query for things like the number of bytes pushed, number of compressed bytes pushed, number of records pushed, the status of each push, and much more. Using these stats, customers can have greater visibility into a core part of infrastructure. The GraphQL API is self documenting so full details about the new <code>logpushHealthAdaptiveGroups</code> node can be found using any GraphQL client, but head to <a href=\"https://developers.cloudflare.com/analytics/graphql-api/\">GraphQL docs</a> for more information.</p><p>Below are a couple example queries of how you can use the GraphQL to find stats related to your Logpush jobs.</p><p>Query for number of pushes to S3 that resulted in status code != 200</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">query\n{\n  viewer\n  {\n    zones(filter: { zoneTag: $zoneTag})\n    {\n      logpushHealthAdaptiveGroups(filter: {\n        datetime_gt:\"2022-08-15T00:00:00Z\",\n        destinationType:\"s3\",\n        status_neq:200\n      }, \n      limit:10)\n      {\n        count,\n        dimensions {\n          jobId,\n          status,\n          destinationType\n        }\n      }\n    }\n  }\n}</pre></code>\n            <p>Getting the number of bytes, compressed bytes and records that were pushed</p>\n            <pre class=\"language-bash\"><code class=\"language-bash\">query\n{\n  viewer\n  {\n    zones(filter: { zoneTag: $zoneTag})\n    {\n      logpushHealthAdaptiveGroups(filter: {\n        datetime_gt:\"2022-08-15T00:00:00Z\",\n        destinationType:\"s3\",\n        status:200\n      }, \n      limit:10)\n      {\n        sum {\n          bytes,\n          bytesCompressed,\n          records\n        }\n      }\n    }\n  }\n}</pre></code>\n            <h3>Summary</h3><p>Logpush is a robust and flexible platform for customers who need to integrate their own logging and monitoring systems with Cloudflare. Different Logpush jobs can be deployed to support multiple destinations or, with filtering, multiple subsets of logs.</p><p>Customers who haven&#39;t created Logpush jobs are encouraged to do so. Try pushing your logs to R2 for safe-<a href=\"/store-and-retrieve-logs-on-r2/\">keeping</a>! For customers who don&#39;t currently have access to this powerful tool, consider upgrading your plan.</p>",
		"id": "5Wf012tJlAxide9kVaxpDX",
		"localeList": {
			"name": "Logpush: now lower cost and with more visibility Config",
			"enUS": "English for Locale",
			"zhCN": "No Page for Locale",
			"zhHansCN": "No Page for Locale",
			"zhTW": "No Page for Locale",
			"frFR": "No Page for Locale",
			"deDE": "No Page for Locale",
			"itIT": "No Page for Locale",
			"jaJP": "No Page for Locale",
			"koKR": "No Page for Locale",
			"ptBR": "No Page for Locale",
			"esLA": "No Page for Locale",
			"esES": "No Page for Locale",
			"enAU": "No Page for Locale",
			"enCA": "No Page for Locale",
			"enIN": "No Page for Locale",
			"enGB": "No Page for Locale",
			"idID": "No Page for Locale",
			"ruRU": "No Page for Locale",
			"svSE": "No Page for Locale",
			"viVN": "No Page for Locale",
			"plPL": "No Page for Locale",
			"arAR": "No Page for Locale",
			"nlNL": "No Page for Locale",
			"thTH": "No Page for Locale",
			"trTR": "No Page for Locale",
			"heIL": "No Page for Locale",
			"lvLV": "No Page for Locale",
			"etEE": "No Page for Locale",
			"ltLT": "No Page for Locale"
		},
		"meta_description": "Logpush jobs can now be filtered to contain only logs of interest. Also, you can receive alerts when jobs are failing, as well as get statistics on the health of your jobs.",
		"metadata": {
			"title": "Logpush: now lower cost and with more visibility",
			"description": "Logpush jobs can now be filtered to contain only logs of interest. Also, you can receive alerts when jobs are failing, as well as get statistics on the health of your jobs.",
			"imgPreview": "https://cf-assets.www.cloudflare.com/slt3lc6tev37/6LguOfYYCeRfVHqtVcgqlf/c7677e2bb733d8e0840c201695d05b4e/logpush-filters-alerts-F29ZoB.png"
		},
		"primary_author": {},
		"published_at": "2022-09-22T14:30:00.000+01:00",
		"reading_time": 4,
		"slug": "logpush-filters-alerts",
		"tags": [
			{
				"id": "4do0Bmj6kBvrLb7mlHuO0F",
				"name": "GA Week",
				"slug": "ga-week"
			},
			{
				"id": "3E2D6D4cI82KIloPpl0WZW",
				"name": "General Availability",
				"slug": "general-availability"
			},
			{
				"id": "4fkY3bvsgn5JfTgXxTZHIR",
				"name": "Logs",
				"slug": "logs"
			},
			{
				"id": "6QktrXeEFcl4e2dZUTZVGl",
				"name": "Product News",
				"slug": "product-news"
			}
		],
		"title": "Logpush: now lower cost and with more visibility",
		"updated_at": "2024-08-27T01:24:51.661Z",
		"url": "https://blog.cloudflare.com/logpush-filters-alerts"
	},
	"translations": {
		"posts.by": "By",
		"footer.gdpr": "GDPR",
		"lang_blurb1": "This post is also available in {lang1}.",
		"lang_blurb2": "This post is also available in {lang1} and {lang2}.",
		"lang_blurb3": "This post is also available in {lang1}, {lang2} and {lang3}.",
		"footer.blurb": "Cloudflare's connectivity cloud protects <a target='_blank' href='https://www.cloudflare.com/network-services/' rel='noreferrer'>entire corporate networks</a>, helps customers build <a target='_blank' href='https://workers.cloudflare.com/' rel='noreferrer'>Internet-scale applications efficiently</a>, accelerates any <a target='_blank' href='https://www.cloudflare.com/performance/accelerate-internet-applications/' rel='noreferrer'>website or Internet application</a>, <a target='_blank' href='https://www.cloudflare.com/ddos/' rel='noreferrer'>wards off DDoS attacks</a>, keeps <a target='_blank' href='https://www.cloudflare.com/application-security/' rel='noreferrer'>hackers at bay</a>, and can help you on <a target='_blank' href='https://www.cloudflare.com/products/zero-trust/' rel='noreferrer'>your journey to Zero Trust</a>.<br/><br/>Visit <a target='_blank' href='https://one.one.one.one/' rel='noreferrer'>1.1.1.1</a> from any device to get started with our free app that makes your Internet faster and safer.<br/><br/>To learn more about our mission to help build a better Internet, <a target='_blank' href='https://www.cloudflare.com/learning/what-is-cloudflare/' rel='noreferrer'>start here</a>. If you&apos;re looking for a new career direction, check out <a target='_blank' href='http://www.cloudflare.com/careers' rel='noreferrer'>our open positions</a>.",
		"footer.press": "Press",
		"header.title": "The Cloudflare Blog",
		"footer.careers": "Careers",
		"footer.company": "Company",
		"footer.support": "Support",
		"footer.the_net": "theNet",
		"footer.our_team": "Our team",
		"footer.webinars": "Webinars",
		"page.more_posts": "More posts",
		"posts.time_read": "{time} min read",
		"footer.community": "Community",
		"footer.resources": "Resources",
		"footer.solutions": "Solutions",
		"footer.trademark": "Trademark",
		"header.subscribe": "Subscribe",
		"footer.compliance": "Compliance",
		"footer.free_plans": "Free plans",
		"footer.impact_ESG": "Impact/ESG",
		"posts.follow_on_X": "Follow on X",
		"footer.help_center": "Help center",
		"footer.network_map": "Network Map",
		"header.please_wait": "Please Wait",
		"page.related_posts": "Related posts",
		"footer.case_studies": "Case Studies",
		"footer.connect_2024": "Connect 2024",
		"footer.terms_of_use": "Terms of Use",
		"footer.white_papers": "White Papers",
		"footer.cloudflare_tv": "Cloudflare TV",
		"footer.community_hub": "Community Hub",
		"footer.compare_plans": "Compare plans",
		"footer.contact_sales": "Contact Sales",
		"header.contact_sales": "Contact Sales",
		"header.email_address": "Email Address",
		"page.error.not_found": "Page not found",
		"footer.developer_docs": "Developer docs",
		"footer.privacy_policy": "Privacy Policy",
		"footer.request_a_demo": "Request a demo",
		"page.continue_reading": "Continue reading",
		"footer.analysts_report": "Analyst reports",
		"footer.for_enterprises": "For enterprises",
		"footer.getting_started": "Getting Started",
		"footer.learning_center": "Learning Center",
		"footer.project_galileo": "Project Galileo",
		"pagination.newer_posts": "Newer Posts",
		"pagination.older_posts": "Older Posts",
		"posts.social_buttons.x": "Discuss on X",
		"footer.about_cloudflare": "About Cloudflare",
		"footer.athenian_project": "Athenian Project",
		"footer.become_a_partner": "Become a partner",
		"footer.cloudflare_radar": "Cloudflare Radar",
		"footer.network_services": "Network services",
		"footer.trust_and_safety": "Trust & Safety",
		"header.get_started_free": "Get Started Free",
		"page.search.placeholder": "Search Cloudflare",
		"footer.cloudflare_status": "Cloudflare Status",
		"footer.cookie_preference": "Cookie Preferences",
		"header.valid_email_error": "Must be valid email.",
		"footer.connectivity_cloud": "Connectivity cloud",
		"footer.developer_services": "Developer services",
		"footer.investor_relations": "Investor relations",
		"page.not_found.error_code": "Error Code: 404",
		"footer.logos_and_press_kit": "Logos & press kit",
		"footer.application_services": "Application services",
		"footer.get_a_recommendation": "Get a recommendation",
		"posts.social_buttons.reddit": "Discuss on Reddit",
		"footer.sse_and_sase_services": "SSE and SASE services",
		"page.not_found.outdated_link": "You may have used an outdated link, or you may have typed the address incorrectly.",
		"footer.report_security_issues": "Report Security Issues",
		"page.error.error_message_page": "Sorry, we can't find the page you are looking for.",
		"header.subscribe_notifications": "Subscribe to receive notifications of new posts:",
		"footer.cloudflare_for_campaigns": "Cloudflare for Campaigns",
		"header.subscription_confimation": "Subscription confirmed. Thank you for subscribing!",
		"posts.social_buttons.hackernews": "Discuss on Hacker News",
		"footer.diversity_equity_inclusion": "Diversity, equity & inclusion",
		"footer.critical_infrastructure_defense_project": "Critical Infrastructure Defense Project"
	}
}