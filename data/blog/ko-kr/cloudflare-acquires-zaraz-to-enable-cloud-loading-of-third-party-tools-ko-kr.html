<div class="post-content lh-copy gray1">
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/12/image5-8.png" class="kg-image" alt="Cloudflare acquires Zaraz to enable cloud loading of third-party tools"></figure>
	<p>Cloudflare의 Zaraz 인수와 Cloudflare Zaraz(베타) 출시를 발표하게 되어 매우 기쁩니다. 오늘 출시 대상은 Cloudflare 시스템과 대시보드에 통합되는 Zaraz 제품의 베타 버전입니다. 이 제품을 사용하여 클라우드에서 타사 도구를 관리 및 로드하고 상당한 속도, 프라이버시, 보안 개선을 달성할 수 있습니다. 우리는 첫날부터 Workers와 Cloudflare 기술 및 네트워크에 기대를 걸고 있으며 따라서 오늘 무료로 모든 Cloudflare 고객에게 Zaraz를 제공할 수 있게 되어 매우 기쁩니다. 이미 Cloudflare 고객이라면 대시보드의 <a href="https://dash.cloudflare.com/?to=/:account/:zone/zaraz" target="_blank">Zaraz 아이콘</a>을 클릭하고 타사 스택 구성을 시작하면 됩니다. 코드 변경은 필요하지 않습니다. 이 베타 버전이 완전한 개발 제품이 될 때까지 앞으로 두 달 간 새로운 특징들을 계속 추가할 계획입니다.</p>
	<p>기존의 태그 매니저와 고객 데이터 플랫폼에 작별을 고할 때가 됐습니다. 이 도구들은 나름의 역할을 잘 수행했지만, 웹이 진화함에 따라 몇 가지 중요한 문제도 유발했습니다. 우리가 이것을 해결할 것입니다.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/12/image6-9.png" class="kg-image"></figure>
	<h3 id="-"><strong>타사 도구가 비대해짐의 문제점</strong></h3>
	<p>요아브와 저는 타사 도구를 구현하는 현장의 반대편에서 일하는 경험을 하다가 Zaraz를 발견하게 되었습니다. 저는 웹 사이트에 분석 도구를 하나만 더 만들어달라고 요청하곤 했던 마케팅 및 제품 담당 매니저들과 일하고 있었고 요아브는 관련된 성능 저하 및 보안 위험 때문에 일정을 미루려던 개발자였습니다.</p>
	<p>우리는 전 세계 각지의 좌절을 겪은 엔지니어 수백 명과 논의한 끝에 Zaraz 구축을 시작했습니다. 우리가 2020년 겨울 Y Combinator에 합류했을 때 모든 일이 일어났습니다. 그때 우리는 완전히 다른 제품인 웹 분석 도구용 QA 소프트웨어를 개발하고 있었습니다. 신규 고객에게 홍보할 때마다 우리는 고객 사이트에 로드되어 있는 도구 목록을 보여주곤 했습니다. 또한, 우리는 해당 도구와 관련된 구현 버그 목록을 제시했습니다. 우리는 계속해서 약간은 관련 없는 질문을 들어야 했습니다. “왜 이렇게 많은 타사 도구를 로드합니까? 이러면 속도가 느려지나요? SEO에 영향을 주나요? 이런 도구 중 하나라도 해킹된다면 사용자를 어떻게 보호할 수 있을까요?” 누구도 QA에 대해 정말로 신경쓰지 않았습니다. 엔지니어들은 타사 도구로 인한 점증하는 성능 저하 및 보안 위험에 대해 질문했습니다.</p>
	<p>우리는 이런 질문에 대하여 답변을 하면서 확신이 없었습니다. 하지만 우리는 이들 뒤에 더 큰 문제가 숨어 있을지 모른다고 생각했습니다. 그래서 우리는 조사해보기로 했습니다. 우리는 봇을 만들고 미국에서 가장 방문자가 많은 5천 개의 도메인을 살펴봤습니다. 우리는 타사 도구를 포함하거나 포함하지 않은 상태로 도메인을 로드한 다음 결과를 비교했습니다. 평균적으로, 타사 도구 때문에 웹 속도가 40% 저하되고 있었습니다. 구글이 <a href="https://analytics.googleblog.com/2012/10/google-tag-manager.html" target="_blank">태그 매니저</a>를 출시한 지 몇 년 안 된 2010년대 중반에 엔지니어들은 구글 태그 매니저(GTM) 때문에 자사 웹 사이트가 느려질 것인지 묻곤 했습니다. 그때는 누구도 분명한 답변을 할 수 없었습니다. 구글의 공식적인 답변은 GTM은 비동기적으로 로드되므로 페이지에서 “사용자가 볼 수 있는 부분”의 로드 속도가 저하되지 않는다는 것이었습니다. 그 동안에 우리는 이것이 전혀 정확한 설명이 아니라는 것을 알게 됐습니다.</p>
	<p>구글이 더 빠른 웹 사이트가 론칭되도록 시장을 압박하고 있다는 사실에도 불구하고 구글 자체의 스택은 자주 비대함을 유발하고 있는 것입니다. 구글 PageSpeed Insights를 사용해 보셨다면, 구글이 진단 섹션에서 자사 도구의 문제점을 지적하고 있는 것을 보셨을 수도 있습니다. 주로 구글의 도구 스택(GTM, Analytics, ads, DoubleClick 등)을 사용하는 구글 Merchandise Store조차 <a href="https://lighthouse-dot-webdotdevsite.appspot.com//lh/html?url=https%3A%2F%2Fshop.googlemerchandisestore.com%2F" target="_blank">타사 도구가</a> 4초쯤 주요 스레드를 차단합니다. GTM 자체는 1초 이상의 차단을 유발합니다. 이제는 더 많은 타사 코드가 평가되고 있고 그 어느 때보다 더 많이 브라우저에서 실행되므로 고객 데이터 플랫폼 등 이 분야의 최근 개발은 상황을 악화시킬 뿐이었습니다.</p>
	<p><a href="https://almanac.httparchive.org/en/2021/third-parties#fig-4" target="_blank">2021년에 평균적인 웹 사이트는</a> 모바일에서 21개, 데스크톱에서 23개의 타사 솔루션을 사용하며, <a href="https://almanac.httparchive.org/en/2021/third-parties#fig-4" target="_blank">90번째 백분위수</a>에서는 타사 솔루션 개수가 모바일에서 89개, 데스크톱에서 91개까지 충격적으로 치솟습니다. 수십 개의 타사 도구를 로드하는 순간 귀사의 웹 사이트는 느려집니다. 이렇게 되면 Total Blocking Time, Time to Interactive 등 중요한 측정 지표가 영향을 받습니다. 이것은 사실 승산 없는 싸움입니다.</p>
	<p>모든 것이 온라인에서 일어나는 시대에는 속도가 경쟁력이 됩니다. 오늘날의 디지털 환경에서는 웹 사이트가 빠를수록 최종 성과에 영향을 주고 경쟁사를 이길 수 있다는 점은 자명합니다. 구글과 딜로이트에서 발표한 <a href="https://www2.deloitte.com/content/dam/Deloitte/ie/Documents/Consulting/Milliseconds_Make_Millions_report.pdf" target="_blank">최근 데이터</a>에 따르면 로드 시간이 0.1초만 변해도 사용자 이동의 모든 단계에 영향을 줄 수 있고 최종적으로 업종별로 최대 10%까지 전환율이 커질 수 있습니다. 또한, 구글은 작년에 귀사의 SEO 순위에 영향을 주는 속도 측정 지표 세트인 Core Web Vitals를 발표했습니다.</p>
	<p>이처럼 도구가 과다하면 웹 사이트가 서버 보안 및 프라이버시 위협에 노출되기도 합니다. 대부분의 도구에서 원격 자바스크립트 자원을 요청하므로 고객은 자사 웹 사이트에 로드되고 있는 내용을 추적할 수 없습니다. 그리고 이것으로 충분치 않을 경우 많은 타사 도구는 다른 타사 리소스를 호출하거나 HTTP 요청을 있는지도 몰랐던 엔드 포인트로 리디렉션합니다. 이런 나쁜 관행 때문에 귀사의 사용자가 악의적 위협에 노출되고 개인정보 보호 윤리 위반이 너무 자주 발생합니다. GDPR, CCPA 등 규정의 채택으로 인해 이것은 고통스러운 문제가 됩니다.</p>
	<p>현재의 추세는 우리가 타사 도구, 특히 광고 및 마케팅 도구를 사용하는 방식에 큰 변화가 일어나고 있음을 보여줍니다. 주류 브라우저들은 타사 쿠키 사용에 대한 엄격한 제한을 내장하여 실행하고 있습니다. 대중은 개인정보 보호 및 사용자 동의 문제에 대해 우려를 제기하고 있습니다. 마케팅 및 광고 도구에서 타사 쿠키 사용이 빠지는 것은 시간 문제입니다. 그렇게 되면 API를 개방하고 고객에게 클라우드 로딩을 허용하는 것만 의미가 있게 될 것입니다. 그리고 기업들은 이러한 변화가 가능하도록 사용하기 쉬운 인프라를 채택해야 할 것입니다. 성능 기준에 맞추려면 최대한 최종 사용자에 가깝게 실행되어야 하므로 이 인프라를 종단에 구축하는 것만 의미가 있습니다.</p>
	<h3 id="zaraz-"><strong>Zaraz로 더 빠르고 안전한 웹 사이트를 만드세요!</strong></h3>
	<p>Zaraz는 타사 도구 로드 방식을 최적화하여 웹 사이트 성능을 상당히 향상할 수 있습니다. 우리가 지원하는 모든 도구는 약간 다르지만, 주된 아이디어는 브라우저가 아닌 클라우드 백엔드에서 최대한 많은 것을 실행하는 것입니다. 고객은 대시보드를 사용하여 대화형 위젯, 분석 도구, 광고 도구, 마케팅 자동화, CRM 도구 등 모든 종류의 타사 솔루션을 구현할 수 있습니다. 베타 버전에는 귀사의 웹 사이트에 통합할 수 있는 18가지 타사 도구의 라이브러리가 포함됩니다. 몇 번의 클릭만으로, 최종 사용자의 브라우저에서 자바스크립트를 실행할 필요 없이 완전히 클라우드에서 도구를 로드하기 시작할 수 있습니다. 당사의 요아브 모쉬 CTO가 작성한 <a href="https://blog.cloudflare.com/ko-kr/zaraz-use-workers-to-make-third-party-tools-secure-and-fast-ko-kr/">블로그 게시물</a>을 통해 우리의 독특한 기술에 대해 자세히 알아보세요.</p>
	<p>타사 스크립트의 실행을 브라우저에서 다른 곳으로 옮기면 브라우저에서 실행되는 코드가 적어지므로 페이지 로드 시간에 상당한 영향이 있습니다. 또한, 추가적인 보안 계층과 개인 식별 정보, 보호되는 건강 정보, 의도치 않게 타사에 전달되곤 하는 기타의 민감 정보에 대한 통제가 가능해집니다. 그리고 귀사 사이트에 타사 리소스가 포함될 경우에 대비하여, Cloudflare는 오늘 늦게 잠재적 위험으로부터 웹 사이트를 보호해주는 솔루션인 <a href="https://blog.cloudflare.com/page-shield-generally-available">PageShield</a>를 발표할 예정입니다. 이 두 제품은 타사 보안 및 프라이버시 위협에 대한 전체적인 솔루션을 제공합니다.</p>
	<p>보다 복잡한 통합을 테스트해보고 싶은 고객들을 위해, 이벤트 API와 사용 가능한 사전 설정 변수 세트를 제공합니다. 이런 식으로 컨텍스트를 가지고 전환이나 웹 사이트에서 실행된 동작을 측정할 수 있습니다. 현재 구글 태그 매니저 사용자의 경우, 희소식이 있습니다. Zaraz는 데이터 레이어 하위 호환성을 기성품으로 제공합니다. 코드 베이스를 전혀 변경하지 않고 GTM에서 Zaraz로 쉽게 전환할 수 있습니다. 또한, 가까운 미래에 현재 GTM 구성을 Zaraz로 쉽게 가져올 수 있도록 할 계획입니다.</p>
	<figure class="kg-card kg-image-card"><img src="https://blog.cloudflare.com/content/images/2021/12/image3-15.png" class="kg-image"></figure>
	<h3 id="zaraz-0ms-instacart"><strong>Zaraz로 0ms 차단 시간을 달성하고 보안을 강화한 Instacart</strong></h3>
	<blockquote>“Instacart는 Zaraz를 활용하여 쇼퍼별 도메인의 성능을 상당히 개선할 수 있었는데 전체 사이트에는 최소한의 변경만 필요했습니다. 우리는 <a href="https://shoppers.instacart.com/" target="_blank">https://shoppers.instacart.com/</a>을 수없이 최적화했지만 성능 영향과 관련하여 타사 도구가 문제임을 알게 되었습니다. 우리는 Zaraz를 통해 타사 도구 로드 시간을 최적화했으며 Cloudflare Workers를 사용해 자체 서브 도메인에서 통합을 유지함으로써 가시성과 보안을 통제할 수 있게 되었습니다.”<br>- <strong>Marc Barry</strong>, 스탭 소프트웨어 엔지니어, Cloud Foundations at Instacart</blockquote>
	<figure class="kg-card kg-image-card"><img src="https://lh6.googleusercontent.com/StTXVOnu4LkZz1prlJTjRnEee_bdCcjmu_0xjRcCXCJMIMm3l25ZAm9vuws-AZriUSH6vAh1OfGbrR3QNMAvri_9TRpJDWFgEpbDnNaMT2U209lFKf9YoYuf4426miF5rDUYyCqp" class="kg-image"></figure>
	<p>고객보다 Zaraz의 장점을 잘 얘기할 수 있는 사람은 없습니다. Instacart는 북미 최대의 온라인 그로서리 플랫폼으로, 자사의 <a href="https://shoppers.instacart.com/" target="_blank">shoppers.instacart.com</a> 도메인에서 Zaraz를 테스트하기로 결정했습니다. 보안 및 프라이버시 강화와 페이지 속도 향상(보다 구체적으로 총 차단 시간 개선)의 두 가지 목표가 있었습니다.</p>
	<p>보안 및 프라이버시 측면에서, Zaraz가 기본적으로 최종 사용자에 관한 어떤 정보도 저장하지 않고 단순히 파이프라인 역할만 한다는 사실은 Instacart가 Zaraz를 테스트하겠다는 결정을 하는 데 중요한 역할을 했습니다. 그리고 타사 스크립트가 브라우저에서 직접 실행되지 못하게 함으로써 타사 도구 사용과 관련된 보안 위험을 완화하고자 했습니다. Instacart는 더 많은 통제권을 확보하기 위해 shoppers.instacart.com 서브 도메인을 통해 Zaraz 서비스를 오가는 모든 요청을 프록싱하기 위해 Cloudflare Workers를 사용하기로 결정했습니다. 이렇게 하여 Zaraz 자체를 포함해 타사로 데이터를 전송하는 과정에 대한 완전한 가시성과 통제력을 얻게 됩니다.</p>
	<p>Instacart는 세계에서 가장 기술 지향적인 기업 중 하나로, Shoppers 서브 도메인은 다른 웹 사이트에 비해 매우 빠르게 시작됩니다. Instacart는 앞서 속도 측정 지표를 개선하기 위해 많은 노력을 했습니다. 하지만 타사 스크립트가 속도를 저하시키는 주된 요인임이 확인되는 지점에 이르렀습니다.</p>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2021/12/image1-40.png" class="kg-image" alt="Speed metrics improvements measured on https://shoppers.instacart.com/, before and after implementing Zaraz. Measured on Mobile, US East."></figure>
	<p>위 그래프에 나타난 대로 Zaraz의 론칭으로 모바일 기기의 페이지 속도가 상당히 개선되었습니다. Total Blocking Time이 500ms에서 0ms로 줄어들었습니다. Time to Interactive가 11.8초에서 4.26초로 63% 개선되었습니다. CPU 시간이 3.62초에서 1.45초로 60% 향상되었습니다. 그리고 자바스크립트 웨이트가 448KB에서 165KB로 63% 줄어들었습니다.</p>
	<figure class="kg-card kg-image-card kg-width-wide"><img src="https://blog.cloudflare.com/content/images/2021/12/image4-17.png" class="kg-image" alt="Speed metrics improvements measured on https://shoppers.instacart.com/, before and after implementing Zaraz. Measured on Desktop, US East."></figure>
	<p>데스크톱에서도 상당한 개선이 측정되었습니다. Total Blocking Time이 65ms에서 0ms로 줄어들었습니다. Time to Interactive가 1.64초에서 1.26초로 23% 개선되었습니다. CPU 시간이 1.57초에서 0.7초로 55% 향상되었습니다. 그리고 자바스크립트 웨이트가 448KB에서 165KB로 동일한 정도로 개선되었습니다.</p>
	<p>Instacart와 같은 업계 리더들이 점점 더 도구를 클라우드로 오프로드하기 시작하면서 대부분의 SaaS 벤더와 스타트업이 서버 사이드 통합을 에지에서 실행되는 완전한 솔루션으로 구축하기 시작하는 것은 시간 문제입니다. 타사 벤더는 피해를 끼칠 의도가 없었지만 에지에 확장성 있는 통합을 구축할 수 있는 도구가 부족했습니다. Instacart와 함께 우리는 몇몇 벤더와 직접 연결하고 협업하며 가장 최적화된 솔루션을 찾는 작업을 할 수 있었습니다. 우리는 노력에 박차를 가하여 SaaS 기업 및 벤더와 협력함으로써 이들에게 에지에서 솔루션을 구축하는 쉬운 방법을 제공하고자 합니다. 계속 관심을 가져주세요!</p>
	<h3 id="-zaraz-"><strong>플랫폼으로서 Zaraz의 미래</strong></h3>
	<p>오늘은 우리 회사의 역사에서 중요한 이정표가 됩니다. 우리 팀은 Zaraz의 제품 개발을 계속 이끌어 가게 될 Cloudflare 포르투갈 사무실에 합류하게 된 것을 기쁘게 생각합니다. 우리는 Cloudflare의 일부로서 Zaraz를 타사 벤더가 쉽게 도구를 구축하고 Cloudflare의 전역 네트워크 역량을 활용할 수 있는 플랫폼으로 변화시키겠습니다. 우리는 업계 전체가 타사 도구의 서버 사이드 로드를 채택하도록 이끌고 누구나 더 좋고 더 빠르며 더 안전한 제품을 쉽게 구축할 수 있도록 하겠습니다.</p>
	<p>Zaraz가 완전히 Workers에서 실행된다는 사실은 우리가 Cloudflare에 합류하기 전에도 간단하고 빠른 통합을 가능하게 했습니다. 따라서, 우리는 완전한 제품과 일반적인 가용성에 도달할 때까지 빠르게 신규 기능의 구축으로 이동할 수 있습니다. Cloudflare의 독특한 인하우스 기능은 Zaraz를 훨씬 더 견고하게 만들고 신규 고객의 온보딩 절차를 간소화할 수 있게 합니다. 우리가 이미 달성한 한 가지 큰 개선점은 Cloudflare 고객이 Zaraz를 사용하기 위해 코드를 변경할 필요가 없다는 것입니다. 토글하여 켜면 우리 스크립트가 HTML의 &lt;head&gt;에 직접 들어갑니다. 또 다른 흥미로운 점 하나는 이제 전체 서비스가 귀사의 자체 도메인에서 실행된다는 것입니다.</p>
	<p>또한, 우리는 Cloudflare의 전문성을 활용하여 기능 세트를 확장하고 고객들이 타사 코드가 제기하는 보안 위협과 프라이버시 위험을 더 많이 처리할 수 있도록 할 계획입니다. 그 예 중 하나는 지리적 위치 트리거를 추가하여 전 세계 각지에서 웹 사이트를 방문하는 최종 사용자들이 다른 도구들을 로드할 수 있게 하는 것입니다. 다양한 규정을 준수하려면 이것이 필요합니다. 또 다른 예는 현재 몇몇 기업 고객이 사용하고 있는 데이터 손실 방지(DLP) 기능입니다. DLP 기능은 타사 엔드 포인트로 가는 모든 요청을 살펴서 여기에 이름, 이메일 주소, SSN 등 중요한 정보가 포함되어 있지 않은지 확인합니다. 더 많은 기능들이 파이프라인에 있습니다.</p>
	<p>Cloudflare와 같은 영향력 있는 회사는 우리가 시장의 긍정적 변화를 주도하고 벤더들이 에지에서 구축하도록 하고 기업들이 클라우드 로딩을 채택하도록 하는 데 도움을 줄 것입니다. 우리는 SDK를 확장하여 타사 벤더들이 우리 플랫폼에서 통합을 구축하고 Workers를 사용해 에지에서 자사 솔루션을 쉽게 실행할 수 있도록 할 계획입니다. 우리는 Cloudflare와 함께 타사 코드의 클라우드 로딩을 향한 이동에서 주도적인 역할을 수행할 것입니다. 이제 태그 매니저와 고객 데이터 플랫폼에 작별을 고할 때가 됐습니다. 이 발표는 한 시대의 종언을 의미합니다. 조만간 우리는 웹 사이트에서 타사 도구를 로드하는 방식을 최적화하여 40% 더 빠른 브라우징 체험을 즐길 수 있게 됩니다.</p>
	<p>전 세계 각지의 Cloudflare 사용자 수백만 명에게 Zaraz를 제공함으로써 우리는 누구에게나 더 빠르고 더 안전한 인터넷 구현이라는 목표 달성을 향해 한 걸음을 더 내딛게 됩니다. 우리는 크든 작든 어떤 웹 사이트에 대한 사용자 경험이 분석, 챗봇, 기타 타사 코드 사용 때문에 저하되어서는 안 된다고 생각합니다. 이러한 도구 때문에 사용자 경험이 손상되는 것이 아니라 <em>개선</em>되어야 합니다. 그리고 우리는 웹 전체가 타사 도구의 클라우드 로딩으로 이동하여 브라우저가 원래 의도된 작업 즉, 웹 사이트 로딩을 하도록 할 때까지 멈추지 않을 것입니다. 우리는 이런 미래에 들떠 있으며 목표가 달성될 때까지 쉬지 않을 것입니다.</p>
	<p>무료 베타 버전을 탐색하려면 <a href="https://dash.cloudflare.com/?to=/:account/:zone/zaraz" target="_blank">여기를 클릭하십시오</a>. 엔터프라이즈이며 추가/고객 요구사항이 있는 경우 <a href="https://www.cloudflare.com/ko-kr/cloudflare-zaraz-third-party-tool-manager-waitlist/" target="_blank">여기를 클릭하여</a> 대기자 목록에 가입하십시오. Discords 채널에 가입하려면 <a href="https://discord.gg/cGDT6PdVyd" target="_blank">여기를 클릭하십시오</a>.<br></p>
</div>