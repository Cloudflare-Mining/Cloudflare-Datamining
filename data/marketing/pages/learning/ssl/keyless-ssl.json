{
	"componentChunkName": "component---src-components-learning-center-templates-learning-center-article-template-tsx",
	"path": "/learning/ssl/keyless-ssl/",
	"result": {
		"data": {
			"learningCenterArticle": {
				"contentTypeId": "learningCenterArticle",
				"contentfulId": "7bWBbKKanT3Jb6Wyx3jv9b",
				"urlSlug": "ssl/keyless-ssl",
				"metaTags": {
					"metaTitle": "How does keyless SSL work? | Forward secrecy",
					"metaDescription": "How does keyless SSL work? Learn how to maintain TLS encryption without a private key and how perfect forward secrecy works.",
					"twitterCustomImage": null,
					"metaImage": {
						"file": {
							"publicURL": "[path]/Cloudflare_default_OG_.png"
						}
					},
					"facebookCustomImage": null
				},
				"metaTitle": "How Does Keyless SSL Work? | Forward Secrecy",
				"metaDescription": "How does keyless SSL work? Learn how to maintain TLS encryption without a private key and how perfect forward secrecy works.",
				"learningCenterArticleSubHeader": {
					"contentTypeId": "learningCenterArticleSubHeader",
					"contentfulId": "3u6eezFpOUiCop2PUEz413",
					"learningCenterName": "ssl",
					"links": [
						{
							"__typename": "learningCenterArticleLink",
							"contentTypeId": "learningCenterArticleLink",
							"contentfulId": "357fevHD1vzqQ8mp5tKWWp",
							"displayText": "What is SSL?",
							"url": "/learning/ssl/what-is-ssl/"
						},
						{
							"__typename": "learningCenterArticleLink",
							"contentTypeId": "learningCenterArticleLink",
							"contentfulId": "gwBHxAG3RwjReejRFn4Tb",
							"displayText": "What is an SSL Certificate?",
							"url": "/learning/ssl/what-is-an-ssl-certificate/"
						},
						{
							"__typename": "learningCenterArticleLinkedList",
							"contentTypeId": "learningCenterArticleLinkedList",
							"contentfulId": "41bCzYtpXDZRkfm3BzO806",
							"name": "SSL Header: HTTP vs. HTTPS",
							"displayText": "HTTP vs. HTTPS",
							"links": [
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "zcwchxBLBWoaxyFq5Dhrj",
									"displayText": "HTTP Security Gaps",
									"url": "/learning/ssl/why-is-http-not-secure/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "11gGk7UFGxU33PLEUtjRfG",
									"displayText": "What is HTTPS?",
									"url": "/learning/ssl/what-is-https/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "15Vc3WANDpfVAs97KDEpzB",
									"displayText": "Why Use HTTPS?",
									"url": "/learning/ssl/why-use-https/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "1oRht1dhER6Saxylj6glBn",
									"displayText": "What is Mixed Content?",
									"url": "/learning/ssl/what-is-mixed-content/"
								}
							]
						},
						{
							"__typename": "learningCenterArticleLinkedList",
							"contentTypeId": "learningCenterArticleLinkedList",
							"contentfulId": "4yMBT5IbPkVA9mccwMlLAY",
							"name": "SSL Header: How Encryption Works",
							"displayText": "How Encryption Works",
							"links": [
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "7qNVD8JotWdDbcqpZbp3VE",
									"displayText": "What is Encryption?",
									"url": "/learning/ssl/what-is-encryption/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "3rrJ1k7k9ENDfgrBK5YzYK",
									"displayText": "What is a Key?",
									"url": "/learning/ssl/what-is-a-cryptographic-key/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "4Uc11k7V2M5fHP5LmuF3vu",
									"displayText": "What is a Session Key?",
									"url": "/learning/ssl/what-is-a-session-key/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "57mpp35oVI2JzfRKESr73H",
									"displayText": "Public Key Encryption",
									"url": "/learning/ssl/how-does-public-key-encryption-work/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "33mZ23MKbvH87xdIT1dD7U",
									"displayText": "Asymmetric Encryption",
									"url": "/learning/ssl/what-is-asymmetric-encryption/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "1QIQ5fPzS3n1uqI4XYZu72",
									"displayText": "Lava Lamp Encryption",
									"url": "/learning/ssl/lava-lamp-encryption/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "2lwLYHBHzDBTGRId8drlRf",
									"displayText": "Quantum Computing",
									"url": "/learning/ssl/quantum/what-is-quantum-computing/"
								}
							]
						},
						{
							"__typename": "learningCenterArticleLinkedList",
							"contentTypeId": "learningCenterArticleLinkedList",
							"contentfulId": "5NWfQa2W1T6GY7oKFVQ5yn",
							"name": "SSL Header: SSL Glossary",
							"displayText": "SSL Glossary",
							"links": [
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "7dVuWLoT4g4e5ACvtAvDXG",
									"displayText": "SSL Handshake",
									"url": "/learning/ssl/what-happens-in-a-tls-handshake/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "1brMQhAhJnFjyUUM6TaQrW",
									"displayText": "What is TLS?",
									"url": "/learning/ssl/transport-layer-security-tls/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "3DJJDfuNUIAZ9HHhRYGgbV",
									"displayText": "Keyless SSL",
									"url": "/learning/ssl/keyless-ssl/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "2fhx0LLDXj3vPLqS4ghmCe",
									"displayText": "How SSL Works",
									"url": "/learning/ssl/how-does-ssl-work/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "6R3H8YcjaXUWJfMFDzvpUu",
									"displayText": "SSL Certificate Types",
									"url": "/learning/ssl/types-of-ssl-certificates/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "7Gakh2yuxfEcpgxfy1hJhg",
									"displayText": "Why Use TLS 1.3?",
									"url": "/learning/ssl/why-use-tls-1.3/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "5AsEd8eehv2y9EnsWeAVRr",
									"displayText": "What is SNI?",
									"url": "/learning/ssl/what-is-sni/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "DQ4yCoBF3o0LSkpiQCyuc",
									"displayText": "Connection Not Private",
									"url": "/learning/ssl/connection-not-private-explained/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "2lbLRhcdSDOeSBEOF6PBsf",
									"displayText": "What is Encrypted SNI?",
									"url": "/learning/ssl/what-is-encrypted-sni/"
								},
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "6UQyd1PLht2H5F8aSNnF1y",
									"displayText": "What is Domain Spoofing?",
									"url": "/learning/ssl/what-is-domain-spoofing/"
								}
							]
						},
						{
							"__typename": "learningCenterArticleLinkedList",
							"contentTypeId": "learningCenterArticleLinkedList",
							"contentfulId": "6jvtLTbtKFKb5U7Fi94imf",
							"name": "SSL header: Insights",
							"displayText": "Insights",
							"links": [
								{
									"contentTypeId": "learningCenterArticleLink",
									"contentfulId": "22UXessHsWvrAW3d6QdL1i",
									"displayText": "Securing the post-quantum world",
									"url": "https://www.cloudflare.com/insights-quantum-computing/"
								}
							]
						}
					]
				},
				"learningCenterArticleFooter": {
					"contentTypeId": "learningCenterArticleFooter",
					"contentfulId": "4qJHR2kpJZnCuBYyk2jEUu",
					"learningCenterName": "ssl",
					"column1Title": "About SSL/TLS",
					"column1": {
						"contentTypeId": "learningCenterArticleLinkedList",
						"contentfulId": "7r9tBZ6FyoU4ybaPKM0uP5",
						"name": "SSL Footer: About",
						"displayText": "About SSL",
						"links": [
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "357fevHD1vzqQ8mp5tKWWp",
								"displayText": "What is SSL?",
								"url": "/learning/ssl/what-is-ssl/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "1brMQhAhJnFjyUUM6TaQrW",
								"displayText": "What is TLS?",
								"url": "/learning/ssl/transport-layer-security-tls/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "2fhx0LLDXj3vPLqS4ghmCe",
								"displayText": "How SSL Works",
								"url": "/learning/ssl/how-does-ssl-work/"
							}
						]
					},
					"column2Title": "About HTTPS",
					"column2": {
						"contentTypeId": "learningCenterArticleLinkedList",
						"contentfulId": "1NrTagZnZPxPyjSu05dXiw",
						"name": "SSL Footer: HTTPS",
						"displayText": "About HTTPS",
						"links": [
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "11gGk7UFGxU33PLEUtjRfG",
								"displayText": "What is HTTPS?",
								"url": "/learning/ssl/what-is-https/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "15Vc3WANDpfVAs97KDEpzB",
								"displayText": "Why Use HTTPS?",
								"url": "/learning/ssl/why-use-https/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "zcwchxBLBWoaxyFq5Dhrj",
								"displayText": "HTTP Security Gaps",
								"url": "/learning/ssl/why-is-http-not-secure/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "DQ4yCoBF3o0LSkpiQCyuc",
								"displayText": "Connection Not Private",
								"url": "/learning/ssl/connection-not-private-explained/"
							}
						]
					},
					"column3Title": "About Encryption",
					"column3": {
						"contentTypeId": "learningCenterArticleLinkedList",
						"contentfulId": "7bDOcuccdiCIy26KzI2d1Q",
						"name": "SSL Footer: Encryption",
						"displayText": "About Encryption",
						"links": [
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "7qNVD8JotWdDbcqpZbp3VE",
								"displayText": "What is Encryption?",
								"url": "/learning/ssl/what-is-encryption/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "57mpp35oVI2JzfRKESr73H",
								"displayText": "Public Key Encryption",
								"url": "/learning/ssl/how-does-public-key-encryption-work/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "33mZ23MKbvH87xdIT1dD7U",
								"displayText": "Asymmetric Encryption",
								"url": "/learning/ssl/what-is-asymmetric-encryption/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "1QIQ5fPzS3n1uqI4XYZu72",
								"displayText": "Lava Lamp Encryption",
								"url": "/learning/ssl/lava-lamp-encryption/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "3rrJ1k7k9ENDfgrBK5YzYK",
								"displayText": "What is a Key?",
								"url": "/learning/ssl/what-is-a-cryptographic-key/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "4Uc11k7V2M5fHP5LmuF3vu",
								"displayText": "What is a Session Key?",
								"url": "/learning/ssl/what-is-a-session-key/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "2lwLYHBHzDBTGRId8drlRf",
								"displayText": "Quantum Computing",
								"url": "/learning/ssl/quantum/what-is-quantum-computing/"
							}
						]
					},
					"column4Title": "SSL Glossary",
					"column4": {
						"contentTypeId": "learningCenterArticleLinkedList",
						"contentfulId": "4yqGLocqy6kW3wUKCxerun",
						"name": "SSL Footer: Glossary",
						"displayText": "SSL Glossary",
						"links": [
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "1oRht1dhER6Saxylj6glBn",
								"displayText": "What is Mixed Content?",
								"url": "/learning/ssl/what-is-mixed-content/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "7dVuWLoT4g4e5ACvtAvDXG",
								"displayText": "SSL Handshake",
								"url": "/learning/ssl/what-happens-in-a-tls-handshake/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "gwBHxAG3RwjReejRFn4Tb",
								"displayText": "What is an SSL Certificate?",
								"url": "/learning/ssl/what-is-an-ssl-certificate/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "6R3H8YcjaXUWJfMFDzvpUu",
								"displayText": "SSL Certificate Types",
								"url": "/learning/ssl/types-of-ssl-certificates/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "7Gakh2yuxfEcpgxfy1hJhg",
								"displayText": "Why Use TLS 1.3?",
								"url": "/learning/ssl/why-use-tls-1.3/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "5AsEd8eehv2y9EnsWeAVRr",
								"displayText": "What is SNI?",
								"url": "/learning/ssl/what-is-sni/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "2lbLRhcdSDOeSBEOF6PBsf",
								"displayText": "What is Encrypted SNI?",
								"url": "/learning/ssl/what-is-encrypted-sni/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "6UQyd1PLht2H5F8aSNnF1y",
								"displayText": "What is Domain Spoofing?",
								"url": "/learning/ssl/what-is-domain-spoofing/"
							}
						]
					},
					"column5Title": "Learning Center Navigation",
					"column5": {
						"contentTypeId": "learningCenterArticleLinkedList",
						"contentfulId": "5qQn8nMmpW7qfjbAtFT7by",
						"name": "SSL Footer: LC Navigation",
						"displayText": "Learning Center Navigation",
						"links": [
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "2hdSVoYA5asSIG0U2ae20c",
								"displayText": "Learning Center Home",
								"url": "/learning/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "56Y6OytBNgNoNDWQL2ezlf",
								"displayText": "DDoS Learning Center",
								"url": "/learning/ddos/what-is-a-ddos-attack/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "6DGcnYIMM0eCGwqAKu2ECO",
								"displayText": "CDN Learning Center",
								"url": "/learning/cdn/what-is-a-cdn/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "4Ra0qmFJ1uewk2MYscW8KI",
								"displayText": "DNS Learning Center",
								"url": "/learning/dns/what-is-dns/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "Q67XLnKqKhfmDJR4q9hJT",
								"displayText": "Performance Learning Center",
								"url": "/learning/performance/why-site-speed-matters/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "1yItw6W6SsM2Y0Wuq6Y2c6",
								"displayText": "Security Learning Center",
								"url": "/learning/security/what-is-web-application-security/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "1z3UC9tP1Kjk85BX5zSGPY",
								"displayText": "Serverless Learning Center",
								"url": "/learning/serverless/what-is-serverless/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "7D22pOfjb98KXcnAJyJFCX",
								"displayText": "Bots Learning Center",
								"url": "/learning/bots/what-is-a-bot/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "7jgqDUFFzaLuKrsaBTLdV0",
								"displayText": "Cloud Learning Center",
								"url": "/learning/cloud/what-is-the-cloud/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "6PdBQjiFs98K6RQuG5TYNd",
								"displayText": "Access Management Learning Center",
								"url": "/learning/access-management/what-is-identity-and-access-management/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "3jjEMuuLrCwhRidjG5kglM",
								"displayText": "Network Layer Learning Center",
								"url": "/learning/network-layer/what-is-the-network-layer/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "6RvS0l0m86G1VISDrEvlJb",
								"displayText": "Privacy Learning Center",
								"url": "/learning/privacy/what-is-data-privacy/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "MytksT5WU5mh863BQYEkj",
								"displayText": "Video Streaming Learning Center",
								"url": "/learning/video/what-is-streaming/"
							},
							{
								"contentTypeId": "learningCenterArticleLink",
								"contentfulId": "5ysNN6LRvlvlFj4ekk2xq4",
								"displayText": "Email Security Learning Center",
								"url": "/learning/email-security/what-is-email-security/"
							}
						]
					}
				},
				"header": "How does keyless SSL work? | Forward secrecy",
				"blurbSubHeader": "Keyless SSL makes it possible for organizations that cannot share their private keys to move to the cloud while maintaining SSL/TLS encryption.",
				"objectivesHeader": "Keyless SSL",
				"objectivesList": [
					"Explain the steps in a TLS handshake and the difference between a session key and a private key",
					"Understand how keyless SSL separates the part of the TLS handshake using the private key from the rest of the handshake",
					"Learn the difference between Diffie-Hellman and RSA handshakes",
					"Understand what forward secrecy is"
				],
				"relatedContentLinkText": "Related Content",
				"relatedContent": [
					{
						"contentTypeId": "learningCenterArticleLink",
						"contentfulId": "357fevHD1vzqQ8mp5tKWWp",
						"displayText": "What is SSL?",
						"url": "/learning/ssl/what-is-ssl/"
					},
					{
						"contentTypeId": "learningCenterArticleLink",
						"contentfulId": "1oRht1dhER6Saxylj6glBn",
						"displayText": "What is Mixed Content?",
						"url": "/learning/ssl/what-is-mixed-content/"
					},
					{
						"contentTypeId": "learningCenterArticleLink",
						"contentfulId": "1brMQhAhJnFjyUUM6TaQrW",
						"displayText": "What is TLS?",
						"url": "/learning/ssl/transport-layer-security-tls/"
					},
					{
						"contentTypeId": "learningCenterArticleLink",
						"contentfulId": "11gGk7UFGxU33PLEUtjRfG",
						"displayText": "What is HTTPS?",
						"url": "/learning/ssl/what-is-https/"
					},
					{
						"contentTypeId": "learningCenterArticleLink",
						"contentfulId": "15Vc3WANDpfVAs97KDEpzB",
						"displayText": "Why Use HTTPS?",
						"url": "/learning/ssl/why-use-https/"
					}
				],
				"desktopMainContent": "<h2 class=\"learning-content-h2 learning-content-h2--margin-top-16px\" itemprop=\"headline\">What is keyless SSL?</h2>\n\n<img src=\"https://blog.cloudflare.com/content/images/2014/Sep/illustration-keyless-ssl.png\" class=\"responsive-image\" alt=\"Keyless SSL\" itemprop=\"image\"/>\n\n<p>Keyless <a href='/learning/ssl/what-is-ssl/'>SSL</a> is a service for companies that use a cloud vendor for SSL encryption. Usually this would mean that the cloud vendor has to know the company's private key, but keyless SSL is a way to circumvent that. For regulatory reasons many organizations cannot share their private keys. With keyless SSL, these organizations are still able to use TLS and leverage the cloud while keeping the key secure.</p>\n\n<p>SSL, more accurately known as <a href='/learning/ssl/transport-layer-security-tls/'>TLS</a>, is a protocol for authenticating and encrypting communications over a network. SSL/TLS requires the use of what's called a public key and a private key, and in the case of a company using the protocol to secure traffic to and from their website (see <a href='/learning/ssl/what-is-https/'>HTTPS</a>), the private key typically remains in the company's possession. But when a company moves to the cloud and a vendor provides TLS encryption, the vendor has the private key instead.</p>\n\n<p>By moving the part of the handshake involving the private key off of the vendor's server, the private key can remain securely in the company's possession. Instead of using the private key directly to generate session keys, the cloud vendor gets the session keys from the company over a secure channel and uses those keys to maintain encryption. Thus, a private key is still used, but it is not shared with anyone outside the company.</p>\n\n<p>For instance, suppose that Acme Co. implements SSL. Acme Co. will securely store their private key on a server that they own and control. If Acme Co. moves to the cloud and uses a cloud service provider for web hosting, that vendor will then have the private key. However, if Acme Co. moves to the cloud with a vendor that implements keyless SSL instead, the private key can stay on the server that Acme Co. owns and controls, as in the non-cloud SSL implementation.</p>\n\n<h2 class=\"learning-content-h2\" itemprop=\"headline\">How does keyless SSL work?</h2>\n\n<p>Keyless SSL is based on the fact that there is only one time when the private key is used during the TLS handshake, which occurs at the beginning of a TLS communication session. Keyless SSL works by splitting the steps of the <a href='/learning/ssl/what-happens-in-a-tls-handshake/'>TLS handshake</a> up. A cloud vendor offering keyless SSL moves the private key part of the process to another server, usually a server that the customer keeps on premises.</p>\n\n<p>When the private key becomes necessary during the handshake for decrypting or encrypting data, the vendor's server forwards the necessary data to the customer's private key server. The private key encrypts or decrypts the data on the customer's server and sends the data back to the vendor's server, and the TLS handshake continues like usual.</p>\n\n<p>Keyless SSL is only \"keyless\" from the cloud vendor's point of view: they never see their customer's private key, but the customer still has and uses it. Meanwhile, the public key is still used on the client side like normal.</p>\n\n<h2 class=\"learning-content-h2\" itemprop=\"headline\">What is a session key?</h2>\n\n<p>A session key is a symmetric key used by both sides of a secure communication over TLS, after the TLS handshake is completed. Once the two sides agree upon a set of session keys, there is no need to use the public and private keys anymore. TLS generates different session keys for each unique session.</p>\n\n<h2 class=\"learning-content-h2\" itemprop=\"headline\">What are the steps for generating session keys?</h2>\n\n<p>This depends on what kind of key exchange algorithm is used in the TLS handshake. The two main ones are the RSA key exchange algorithm and the ephemeral Diffie-Hellman key exchange algorithm.</p>\n\n<h2 class=\"learning-content-h2\" itemprop=\"headline\">The RSA Key Exchange</h2>\n\n<p>In an RSA handshake, the steps in a TLS handshake for creating session keys are as follows:</p>\n\n<ol class=\"learning-list\">\n  <li>The client sends the server a plaintext \"hello\" message that includes the protocol version they want to use, a list of supported cipher suites, and a short string of random data called the \"client random.\"</li>\n  <li>The server responds (in plaintext) with its SSL certificate, its preferred cipher suite, and a different short string of random data, called the \"server random.\"</li>\n  <li>The client creates another random set of data, called the \"premaster secret.\" Taking the public key from the server's SSL certificate, the client encrypts the premaster secret and sends it to the server; only someone with the private key can decrypt the premaster secret.</li>\n  <li>The server decrypts the premaster secret. <strong>Note that this is the only time the private key is used!</strong></li>\n  <li>Now both client and server have the client random, the server random, and the premaster secret. Independently of each other, they combine these three inputs to come up with the session keys. They should both arrive at the same result, and all subsequent communications during the session are encrypted with these new keys.</li>\n</ol>\n\n<img src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/HMtyedlloYodaGnzxFcON/176dea4dbf1c8b4f3d58e6afd43ee9ea/ssl-handshake-rsa.jpg\" class=\"responsive-image\" alt=\"SSL Handshake (RSA) Without Keyless SSL\" itemprop=\"image\"/>\n\n<p>Keyless SSL comes into play in step 4. With keyless SSL, instead of decrypting the premaster secret themselves, the cloud vendor sends it in encrypted form over a secure channel to a server that the customer hosts or controls. The customer's private key decrypts the premaster secret, and then the decrypted premaster secret is sent back to the cloud vendor. The cloud vendor's server uses this to derive the session keys, and TLS communications continue as normal.</p>\n\n<img src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/5eQlkE5a3vIM6deiHTY7dA/1c34bfefb3d8abe5d5ad3ec91e69e355/cloudflare-keyless-ssl-handshake-rsa.jpg\" class=\"responsive-image\" alt=\"Cloudflare Keyless SSL Handshake (RSA)\" itemprop=\"image\"/>\n\n<h2 class=\"learning-content-h2\" itemprop=\"headline\">The Ephemeral Diffie-Hellman Key Exchange</h2>\n\n<p>An ephemeral Diffie-Hellman (DHE) handshake (\"ephemeral\" because the same key is never used twice) generates session keys using the Diffie-Hellman algorithm, a way of exchanging keys over an unsecure channel. With this kind of TLS handshake, private key authentication is a separate process from session key generation.</p>\n\n<p>The main difference between the DHE handshake and an RSA handshake, aside from the algorithms used, is how the premaster secret is generated. In an RSA handshake, the premaster secret is made up of randomized data generated by the client; in a DHE handshake, the client and the server use agreed-upon parameters to calculate the same premaster secret separately.</p>\n\n<ol class=\"learning-list\">\n  <li>Just like in an RSA handshake, the client sends the protocol version they want to use, a list of supported cipher suites, and the client random.</li>\n  <li>The server responds with its chosen cipher suite, a server random, and its SSL certificate. Here the DHE handshake starts to differ from an RSA handshake: The server also sends its Diffie-Hellman (DH) parameter, which will be used for calculating the premaster secret. It also encrypts the client random, the server random, and the DH parameter with the server's private key. <strong>This is the only time the private key is used</strong>, and it authenticates that the server is who it says it is.</li>\n  <li>The client decrypts the server's message with the public key and authenticates the SSL certificate. The client then replies with its DH parameter.</li>\n  <li>Using the client's DH parameter and the server's DH parameter, both parties calculate the premaster secret separately from each other.</li>\n  <li>They then combine this premaster secret with the client random and server random to get the session keys.</li>\n</ol>\n\n<img src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/1mzPVvjnKpVD0LUSsUlq2r/23c6dee053aaab22b122b53783dc098f/ssl-handshake-diffie-hellman.jpg\" class=\"responsive-image\" alt=\"SSL Handshake (Diffie-Hellman) Without Keyless SSL\" itemprop=\"image\"/>\n\n<p>The private key is only used in step 2, and this is where keyless SSL becomes relevant. At this point, the SSL/TLS vendor sends the client random, server random, and server's DH parameter to the customer-controlled server that has the private key. This information becomes encrypted with the private key and is sent back in encrypted form to the cloud vendor, who passes it on to the client. The client is able to decrypt this data with the public key, and the handshake proceeds. This way, the cloud vendor does not need to touch the private key.</p>\n\n<img src=\"https://cf-assets.www.cloudflare.com/slt3lc6tev37/2lGPm4AKMjmMOBzPoTZEQM/1b6699cd71193897ce80353938366057/cloudflare-keyless-ssl-diffie-hellman.jpg\" class=\"responsive-image\" alt=\"Cloudflare Keyless SSL (Diffie Hellman)\" itemprop=\"image\"/>\n\n<p>Ephemeral Diffie-Hellman handshakes, although they take slightly longer than RSA handshakes, have the advantage of something called forward secrecy. Because the private key is only used for authentication, an attacker cannot use it to discover any given session key.</p>\n\n<h2 class=\"learning-content-h2\" itemprop=\"headline\">What is forward secrecy? What is perfect forward secrecy?</h2>\n\n<p>Forward secrecy ensures that encrypted data stays encrypted even if the private key is exposed. This is also known as \"perfect forward secrecy.\" Forward secrecy is possible if a unique session key is used for each communication session, and if the session key is generated separately from the private key. If a single session key is compromised, only that session can be decrypted by an attacker; all other sessions will remain encrypted.</p>\n\n<p>In a protocol set up for forward secrecy, the private key is used for authentication during an initial handshake process, and otherwise it is not used for encryption. The ephemeral Diffie-Hellman handshake generates session keys separately from the private key and therefore has forward secrecy.</p>\n\n<p>In contrast, RSA does not have forward secrecy; with the private key compromised, an attacker could decrypt session keys for past conversations, because they can decrypt the premaster secret and the client randoms and server randoms are in plaintext. By combining these three, the attacker can derive any given session key.</p>\n\n<h2 class=\"learning-content-h2\" itemprop=\"headline\">How does Cloudflare implement keyless SSL?</h2>\n\n<p>Cloudflare was the first cloud vendor to release <a href='/ssl/keyless-ssl/'>keyless SSL</a>, allowing enterprises facing tight security restrictions, such as banks, to move to the cloud. Cloudflare supports both RSA and Diffie-Hellman handshakes, so that companies can incorporate forward secrecy via Diffie-Hellman and protect against the possibility of an attacker decrypting their data after stealing their private key.</p>\n\n<p>All communications between Cloudflare servers and the private key servers take place over a secure, encrypted channel. Additionally, Cloudflare has found that keyless SSL has a negligible impact on <a href='/learning/performance/why-site-speed-matters/'>performance</a> despite the extra trips to the private key server.</p>\n\n<p>For more technical details on <a href='https://blog.cloudflare.com/keyless-ssl-the-nitty-gritty-technical-details/'>how keyless SSL works, take a look at this blog post</a>. For more on keyless SSL from Cloudflare, explore the details of our <a href='/ssl/keyless-ssl/'>keyless SSL service</a>.\n</p>",
				"availableLocales": null,
				"localized": true,
				"localeList": {
					"enUS": "English for Locale",
					"zhCN": "Translated for Locale",
					"zhTW": "Translated for Locale",
					"frFR": "Translated for Locale",
					"deDE": "Translated for Locale",
					"itIT": "Translated for Locale",
					"jaJP": "Translated for Locale",
					"koKR": "Translated for Locale",
					"ptBR": "Translated for Locale",
					"esES": "Translated for Locale",
					"enAU": "English for Locale",
					"enCA": "English for Locale",
					"enIN": "English for Locale",
					"enGB": "English for Locale",
					"nlNL": "No Page for Locale",
					"idID": "No Page for Locale",
					"thTH": "No Page for Locale",
					"ruRU": "No Page for Locale",
					"svSE": "No Page for Locale",
					"viVN": "No Page for Locale",
					"trTR": "No Page for Locale",
					"zhHansCN": null
				},
				"proactivePopup": null,
				"sidebarForm": null
			}
		},
		"pageContext": {
			"locale": "en-US",
			"contentfulId": "7bWBbKKanT3Jb6Wyx3jv9b",
			"pathname": "/learning/ssl/keyless-ssl/",
			"baseURL": "https://www.cloudflare.com"
		}
	}
}